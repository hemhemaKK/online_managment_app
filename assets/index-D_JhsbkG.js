(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function i_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Im={exports:{}},Qc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function NC(){if(VE)return Qc;VE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Qc.Fragment=t,Qc.jsx=e,Qc.jsxs=e,Qc}var LE;function VC(){return LE||(LE=1,Im.exports=NC()),Im.exports}var S=VC(),Dm={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function LC(){if(jE)return Dt;jE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function v(V){return V===null||typeof V!="object"?null:(V=_&&V[_]||V["@@iterator"],typeof V=="function"?V:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function A(V,nt,ht){this.props=V,this.context=nt,this.refs=C,this.updater=ht||E}A.prototype.isReactComponent={},A.prototype.setState=function(V,nt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,nt,"setState")},A.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function k(){}k.prototype=A.prototype;function q(V,nt,ht){this.props=V,this.context=nt,this.refs=C,this.updater=ht||E}var $=q.prototype=new k;$.constructor=q,w($,A.prototype),$.isPureReactComponent=!0;var tt=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function O(V,nt,ht,ot,gt,bt){return ht=bt.ref,{$$typeof:n,type:V,key:nt,ref:ht!==void 0?ht:null,props:bt}}function R(V,nt){return O(V.type,nt,void 0,void 0,void 0,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function N(V){var nt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ht){return nt[ht]})}var P=/\/+/g;function z(V,nt){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):nt.toString(36)}function j(){}function ft(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(j,j):(V.status="pending",V.then(function(nt){V.status==="pending"&&(V.status="fulfilled",V.value=nt)},function(nt){V.status==="pending"&&(V.status="rejected",V.reason=nt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ut(V,nt,ht,ot,gt){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var vt=!1;if(V===null)vt=!0;else switch(bt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(V.$$typeof){case n:case t:vt=!0;break;case m:return vt=V._init,ut(vt(V._payload),nt,ht,ot,gt)}}if(vt)return gt=gt(V),vt=ot===""?"."+z(V,0):ot,tt(gt)?(ht="",vt!=null&&(ht=vt.replace(P,"$&/")+"/"),ut(gt,nt,ht,"",function(Be){return Be})):gt!=null&&(M(gt)&&(gt=R(gt,ht+(gt.key==null||V&&V.key===gt.key?"":(""+gt.key).replace(P,"$&/")+"/")+vt)),nt.push(gt)),1;vt=0;var re=ot===""?".":ot+":";if(tt(V))for(var Ht=0;Ht<V.length;Ht++)ot=V[Ht],bt=re+z(ot,Ht),vt+=ut(ot,nt,ht,bt,gt);else if(Ht=v(V),typeof Ht=="function")for(V=Ht.call(V),Ht=0;!(ot=V.next()).done;)ot=ot.value,bt=re+z(ot,Ht++),vt+=ut(ot,nt,ht,bt,gt);else if(bt==="object"){if(typeof V.then=="function")return ut(ft(V),nt,ht,ot,gt);throw nt=String(V),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return vt}function B(V,nt,ht){if(V==null)return V;var ot=[],gt=0;return ut(V,ot,"","",function(bt){return nt.call(ht,bt,gt++)}),ot}function J(V){if(V._status===-1){var nt=V._result;nt=nt(),nt.then(function(ht){(V._status===0||V._status===-1)&&(V._status=1,V._result=ht)},function(ht){(V._status===0||V._status===-1)&&(V._status=2,V._result=ht)}),V._status===-1&&(V._status=0,V._result=nt)}if(V._status===1)return V._result.default;throw V._result}var it=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function pt(){}return Dt.Children={map:B,forEach:function(V,nt,ht){B(V,function(){nt.apply(this,arguments)},ht)},count:function(V){var nt=0;return B(V,function(){nt++}),nt},toArray:function(V){return B(V,function(nt){return nt})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Dt.Component=A,Dt.Fragment=e,Dt.Profiler=r,Dt.PureComponent=q,Dt.StrictMode=i,Dt.Suspense=f,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return L.H.useMemoCache(V)}},Dt.cache=function(V){return function(){return V.apply(null,arguments)}},Dt.cloneElement=function(V,nt,ht){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ot=w({},V.props),gt=V.key,bt=void 0;if(nt!=null)for(vt in nt.ref!==void 0&&(bt=void 0),nt.key!==void 0&&(gt=""+nt.key),nt)!Q.call(nt,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&nt.ref===void 0||(ot[vt]=nt[vt]);var vt=arguments.length-2;if(vt===1)ot.children=ht;else if(1<vt){for(var re=Array(vt),Ht=0;Ht<vt;Ht++)re[Ht]=arguments[Ht+2];ot.children=re}return O(V.type,gt,void 0,void 0,bt,ot)},Dt.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:o,_context:V},V},Dt.createElement=function(V,nt,ht){var ot,gt={},bt=null;if(nt!=null)for(ot in nt.key!==void 0&&(bt=""+nt.key),nt)Q.call(nt,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(gt[ot]=nt[ot]);var vt=arguments.length-2;if(vt===1)gt.children=ht;else if(1<vt){for(var re=Array(vt),Ht=0;Ht<vt;Ht++)re[Ht]=arguments[Ht+2];gt.children=re}if(V&&V.defaultProps)for(ot in vt=V.defaultProps,vt)gt[ot]===void 0&&(gt[ot]=vt[ot]);return O(V,bt,void 0,void 0,null,gt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(V){return{$$typeof:u,render:V}},Dt.isValidElement=M,Dt.lazy=function(V){return{$$typeof:m,_payload:{_status:-1,_result:V},_init:J}},Dt.memo=function(V,nt){return{$$typeof:d,type:V,compare:nt===void 0?null:nt}},Dt.startTransition=function(V){var nt=L.T,ht={};L.T=ht;try{var ot=V(),gt=L.S;gt!==null&&gt(ht,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(pt,it)}catch(bt){it(bt)}finally{L.T=nt}},Dt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},Dt.use=function(V){return L.H.use(V)},Dt.useActionState=function(V,nt,ht){return L.H.useActionState(V,nt,ht)},Dt.useCallback=function(V,nt){return L.H.useCallback(V,nt)},Dt.useContext=function(V){return L.H.useContext(V)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(V,nt){return L.H.useDeferredValue(V,nt)},Dt.useEffect=function(V,nt,ht){var ot=L.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ot.useEffect(V,nt)},Dt.useId=function(){return L.H.useId()},Dt.useImperativeHandle=function(V,nt,ht){return L.H.useImperativeHandle(V,nt,ht)},Dt.useInsertionEffect=function(V,nt){return L.H.useInsertionEffect(V,nt)},Dt.useLayoutEffect=function(V,nt){return L.H.useLayoutEffect(V,nt)},Dt.useMemo=function(V,nt){return L.H.useMemo(V,nt)},Dt.useOptimistic=function(V,nt){return L.H.useOptimistic(V,nt)},Dt.useReducer=function(V,nt,ht){return L.H.useReducer(V,nt,ht)},Dt.useRef=function(V){return L.H.useRef(V)},Dt.useState=function(V){return L.H.useState(V)},Dt.useSyncExternalStore=function(V,nt,ht){return L.H.useSyncExternalStore(V,nt,ht)},Dt.useTransition=function(){return L.H.useTransition()},Dt.version="19.1.0",Dt}var UE;function Kd(){return UE||(UE=1,Dm.exports=LC()),Dm.exports}var F=Kd();const Ki=i_(F);var Mm={exports:{}},Xc={},Om={exports:{}},km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function jC(){return zE||(zE=1,function(n){function t(B,J){var it=B.length;B.push(J);t:for(;0<it;){var pt=it-1>>>1,V=B[pt];if(0<r(V,J))B[pt]=J,B[it]=V,it=pt;else break t}}function e(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var J=B[0],it=B.pop();if(it!==J){B[0]=it;t:for(var pt=0,V=B.length,nt=V>>>1;pt<nt;){var ht=2*(pt+1)-1,ot=B[ht],gt=ht+1,bt=B[gt];if(0>r(ot,it))gt<V&&0>r(bt,ot)?(B[pt]=bt,B[gt]=it,pt=gt):(B[pt]=ot,B[ht]=it,pt=ht);else if(gt<V&&0>r(bt,it))B[pt]=bt,B[gt]=it,pt=gt;else break t}}return J}function r(B,J){var it=B.sortIndex-J.sortIndex;return it!==0?it:B.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();n.unstable_now=function(){return c.now()-u}}var f=[],d=[],m=1,_=null,v=3,E=!1,w=!1,C=!1,A=!1,k=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function tt(B){for(var J=e(d);J!==null;){if(J.callback===null)i(d);else if(J.startTime<=B)i(d),J.sortIndex=J.expirationTime,t(f,J);else break;J=e(d)}}function L(B){if(C=!1,tt(B),!w)if(e(f)!==null)w=!0,Q||(Q=!0,z());else{var J=e(d);J!==null&&ut(L,J.startTime-B)}}var Q=!1,O=-1,R=5,M=-1;function N(){return A?!0:!(n.unstable_now()-M<R)}function P(){if(A=!1,Q){var B=n.unstable_now();M=B;var J=!0;try{t:{w=!1,C&&(C=!1,q(O),O=-1),E=!0;var it=v;try{e:{for(tt(B),_=e(f);_!==null&&!(_.expirationTime>B&&N());){var pt=_.callback;if(typeof pt=="function"){_.callback=null,v=_.priorityLevel;var V=pt(_.expirationTime<=B);if(B=n.unstable_now(),typeof V=="function"){_.callback=V,tt(B),J=!0;break e}_===e(f)&&i(f),tt(B)}else i(f);_=e(f)}if(_!==null)J=!0;else{var nt=e(d);nt!==null&&ut(L,nt.startTime-B),J=!1}}break t}finally{_=null,v=it,E=!1}J=void 0}}finally{J?z():Q=!1}}}var z;if(typeof $=="function")z=function(){$(P)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ft=j.port2;j.port1.onmessage=P,z=function(){ft.postMessage(null)}}else z=function(){k(P,0)};function ut(B,J){O=k(function(){B(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(B){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var it=v;v=J;try{return B()}finally{v=it}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var it=v;v=B;try{return J()}finally{v=it}},n.unstable_scheduleCallback=function(B,J,it){var pt=n.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?pt+it:pt):it=pt,B){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=it+V,B={id:m++,callback:J,priorityLevel:B,startTime:it,expirationTime:V,sortIndex:-1},it>pt?(B.sortIndex=it,t(d,B),e(f)===null&&B===e(d)&&(C?(q(O),O=-1):C=!0,ut(L,it-pt))):(B.sortIndex=V,t(f,B),w||E||(w=!0,Q||(Q=!0,z()))),B},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(B){var J=v;return function(){var it=v;v=J;try{return B.apply(this,arguments)}finally{v=it}}}}(km)),km}var BE;function UC(){return BE||(BE=1,Om.exports=jC()),Om.exports}var Pm={exports:{}},cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function zC(){if(FE)return cn;FE=1;var n=Kd();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,d,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:f,containerInfo:d,implementation:m}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,cn.createPortal=function(f,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,m)},cn.flushSync=function(f){var d=c.T,m=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=d,i.p=m,i.d.f()}},cn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},cn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},cn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var m=d.as,_=u(m,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,E=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;m==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:E}):m==="script"&&i.d.X(f,{crossOrigin:_,integrity:v,fetchPriority:E,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},cn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var m=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},cn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var m=d.as,_=u(m,d.crossOrigin);i.d.L(f,m,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},cn.preloadModule=function(f,d){if(typeof f=="string")if(d){var m=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},cn.requestFormReset=function(f){i.d.r(f)},cn.unstable_batchedUpdates=function(f,d){return f(d)},cn.useFormState=function(f,d,m){return c.H.useFormState(f,d,m)},cn.useFormStatus=function(){return c.H.useHostTransitionStatus()},cn.version="19.1.0",cn}var HE;function BC(){if(HE)return Pm.exports;HE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Pm.exports=zC(),Pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function FC(){if(qE)return Xc;qE=1;var n=UC(),t=Kd(),e=BC();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,h=a;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){l=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return u(g),s;if(y===h)return u(g),a;y=y.sibling}throw Error(i(188))}if(l.return!==h.return)l=g,h=y;else{for(var T=!1,I=g.child;I;){if(I===l){T=!0,l=g,h=y;break}if(I===h){T=!0,h=g,l=y;break}I=I.sibling}if(!T){for(I=y.child;I;){if(I===l){T=!0,l=y,h=g;break}if(I===h){T=!0,h=y,l=g;break}I=I.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==h)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function d(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=d(s),a!==null)return a;s=s.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),$=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function ft(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case A:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case Q:return"SuspenseList";case M:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case $:return(s.displayName||"Context")+".Provider";case q:return(s._context.displayName||"Context")+".Consumer";case tt:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return a=s.displayName||null,a!==null?a:ft(s.type)||"Memo";case R:a=s._payload,s=s._init;try{return ft(s(a))}catch{}}return null}var ut=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},pt=[],V=-1;function nt(s){return{current:s}}function ht(s){0>V||(s.current=pt[V],pt[V]=null,V--)}function ot(s,a){V++,pt[V]=s.current,s.current=a}var gt=nt(null),bt=nt(null),vt=nt(null),re=nt(null);function Ht(s,a){switch(ot(vt,a),ot(bt,s),ot(gt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?uE(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=uE(a),s=hE(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ht(gt),ot(gt,s)}function Be(){ht(gt),ht(bt),ht(vt)}function pe(s){s.memoizedState!==null&&ot(re,s);var a=gt.current,l=hE(a,s.type);a!==l&&(ot(bt,s),ot(gt,l))}function Fe(s){bt.current===s&&(ht(gt),ht(bt)),re.current===s&&(ht(re),$c._currentValue=it)}var Dn=Object.prototype.hasOwnProperty,Gn=n.unstable_scheduleCallback,ea=n.unstable_cancelCallback,Fl=n.unstable_shouldYield,rh=n.unstable_requestPaint,Yn=n.unstable_now,Ip=n.unstable_getCurrentPriorityLevel,Hl=n.unstable_ImmediatePriority,co=n.unstable_UserBlockingPriority,na=n.unstable_NormalPriority,Dp=n.unstable_LowPriority,uo=n.unstable_IdlePriority,ql=n.log,ah=n.unstable_setDisableYieldValue,ye=null,Qt=null;function Mn(s){if(typeof ql=="function"&&ah(s),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ye,s)}catch{}}var on=Math.clz32?Math.clz32:ia,oh=Math.log,Mp=Math.LN2;function ia(s){return s>>>=0,s===0?32:31-(oh(s)/Mp|0)|0}var sa=256,ra=4194304;function gi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ho(s,a,l){var h=s.pendingLanes;if(h===0)return 0;var g=0,y=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var I=h&134217727;return I!==0?(h=I&~y,h!==0?g=gi(h):(T&=I,T!==0?g=gi(T):l||(l=I&~s,l!==0&&(g=gi(l))))):(I=h&~y,I!==0?g=gi(I):T!==0?g=gi(T):l||(l=h&~s,l!==0&&(g=gi(l)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:g}function aa(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function $l(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gl(){var s=sa;return sa<<=1,(sa&4194048)===0&&(sa=256),s}function Yl(){var s=ra;return ra<<=1,(ra&62914560)===0&&(ra=4194304),s}function as(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function os(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Wl(s,a,l,h,g,y){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var I=s.entanglements,U=s.expirationTimes,K=s.hiddenUpdates;for(l=T&~l;0<l;){var st=31-on(l),lt=1<<st;I[st]=0,U[st]=-1;var X=K[st];if(X!==null)for(K[st]=null,st=0;st<X.length;st++){var Z=X[st];Z!==null&&(Z.lane&=-536870913)}l&=~lt}h!==0&&Ii(s,h,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(T&~a))}function Ii(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-on(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|l&4194090}function Kl(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var h=31-on(l),g=1<<h;g&a|s[h]&a&&(s[h]|=a),l&=~g}}function Qs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function fo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Xs(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:DE(s.type))}function lh(s,a){var l=J.p;try{return J.p=s,a()}finally{J.p=l}}var he=Math.random().toString(36).slice(2),Pe="__reactFiber$"+he,Re="__reactProps$"+he,Wn="__reactContainer$"+he,Ql="__reactEvents$"+he,Op="__reactListeners$"+he,Zs="__reactHandles$"+he,ch="__reactResources$"+he,oa="__reactMarker$"+he;function Js(s){delete s[Pe],delete s[Re],delete s[Ql],delete s[Op],delete s[Zs]}function ls(s){var a=s[Pe];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Wn]||l[Pe]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=gE(s);s!==null;){if(l=s[Pe])return l;s=gE(s)}return a}s=l,l=s.parentNode}return null}function Di(s){if(s=s[Pe]||s[Wn]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Mi(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function mn(s){var a=s[ch];return a||(a=s[ch]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function be(s){s[oa]=!0}var Xl=new Set,po={};function mi(s,a){cs(s,a),cs(s+"Capture",a)}function cs(s,a){for(po[s]=a,s=0;s<a.length;s++)Xl.add(a[s])}var uh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hh={},la={};function fh(s){return Dn.call(la,s)?!0:Dn.call(hh,s)?!1:uh.test(s)?la[s]=!0:(hh[s]=!0,!1)}function tr(s,a,l){if(fh(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Oi(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Xe(s,a,l,h){if(h===null)s.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+h)}}var ca,dh;function us(s){if(ca===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ca=a&&a[1]||"",dh=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ca+s+dh}var go=!1;function mo(s,a){if(!s||go)return"";go=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var lt=function(){throw Error()};if(Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(Z){var X=Z}Reflect.construct(s,[],lt)}else{try{lt.call()}catch(Z){X=Z}s.call(lt.prototype)}}else{try{throw Error()}catch(Z){X=Z}(lt=s())&&typeof lt.catch=="function"&&lt.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),T=y[0],I=y[1];if(T&&I){var U=T.split(`
`),K=I.split(`
`);for(g=h=0;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;for(;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;if(h===U.length||g===K.length)for(h=U.length-1,g=K.length-1;1<=h&&0<=g&&U[h]!==K[g];)g--;for(;1<=h&&0<=g;h--,g--)if(U[h]!==K[g]){if(h!==1||g!==1)do if(h--,g--,0>g||U[h]!==K[g]){var st=`
`+U[h].replace(" at new "," at ");return s.displayName&&st.includes("<anonymous>")&&(st=st.replace("<anonymous>",s.displayName)),st}while(1<=h&&0<=g);break}}}finally{go=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?us(l):""}function Zl(s){switch(s.tag){case 26:case 27:case 5:return us(s.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 15:return mo(s.type,!1);case 11:return mo(s.type.render,!1);case 1:return mo(s.type,!0);case 31:return us("Activity");default:return""}}function yo(s){try{var a="";do a+=Zl(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function yn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Jl(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function kp(s){var a=Jl(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function _o(s){s._valueTracker||(s._valueTracker=kp(s))}function tc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return s&&(h=Jl(s)?s.checked?"true":"false":s.value),s=h,s!==l?(a.setValue(s),!0):!1}function ua(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Pp=/[\n"\\]/g;function Ce(s){return s.replace(Pp,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function On(s,a,l,h,g,y,T,I){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),a!=null?T==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+yn(a)):s.value!==""+yn(a)&&(s.value=""+yn(a)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),a!=null?er(s,T,yn(a)):l!=null?er(s,T,yn(l)):h!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.name=""+yn(I):s.removeAttribute("name")}function ha(s,a,l,h,g,y,T,I){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+yn(l):"",a=a!=null?""+yn(a):l,I||a===s.value||(s.value=a),s.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=I?s.checked:!!h,s.defaultChecked=!!h,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function er(s,a,l){a==="number"&&ua(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function hs(s,a,l,h){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&h&&(s[l].defaultSelected=!0)}else{for(l=""+yn(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function te(s,a,l){if(a!=null&&(a=""+yn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+yn(l):""}function fa(s,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(i(92));if(ut(h)){if(1<h.length)throw Error(i(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=yn(a),s.defaultValue=l,h=s.textContent,h===l&&h!==""&&h!==null&&(s.value=h)}function Kn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var da=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ph(s,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,l):typeof l!="number"||l===0||da.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function ec(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&l[g]!==h&&ph(s,g,h)}else for(var y in a)a.hasOwnProperty(y)&&ph(s,y,a[y])}function nc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Np=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vo(s){return Vp.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var fs=null;function Qn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ds=null,ps=null;function ic(s){var a=Di(s);if(a&&(s=a.stateNode)){var l=s[Re]||null;t:switch(s=a.stateNode,a.type){case"input":if(On(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ce(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==s&&h.form===s.form){var g=h[Re]||null;if(!g)throw Error(i(90));On(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===s.form&&tc(h)}break t;case"textarea":te(s,l.value,l.defaultValue);break t;case"select":a=l.value,a!=null&&hs(s,!!l.multiple,a,!1)}}}var ki=!1;function gh(s,a,l){if(ki)return s(a,l);ki=!0;try{var h=s(a);return h}finally{if(ki=!1,(ds!==null||ps!==null)&&(cf(),ds&&(a=ds,s=ps,ps=ds=null,ic(a),s)))for(a=0;a<s.length;a++)ic(s[a])}}function pa(s,a){var l=s.stateNode;if(l===null)return null;var h=l[Re]||null;if(h===null)return null;l=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xn=!1;if(yi)try{var ga={};Object.defineProperty(ga,"passive",{get:function(){Xn=!0}}),window.addEventListener("test",ga,ga),window.removeEventListener("test",ga,ga)}catch{Xn=!1}var Pi=null,nr=null,gs=null;function sc(){if(gs)return gs;var s,a=nr,l=a.length,h,g="value"in Pi?Pi.value:Pi.textContent,y=g.length;for(s=0;s<l&&a[s]===g[s];s++);var T=l-s;for(h=1;h<=T&&a[l-h]===g[y-h];h++);return gs=g.slice(s,1<h?1-h:void 0)}function Ni(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Vi(){return!0}function rc(){return!1}function He(s){function a(l,h,g,y,T){this._reactName=l,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var I in s)s.hasOwnProperty(I)&&(l=s[I],this[I]=l?l(y):y[I]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Vi:rc,this.isPropagationStopped=rc,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),a}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=He(Yt),ma=m({},Yt,{view:0,detail:0}),mh=He(ma),Eo,xo,Li,ya=m({},ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ba,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Li&&(Li&&s.type==="mousemove"?(Eo=s.screenX-Li.screenX,xo=s.screenY-Li.screenY):xo=Eo=0,Li=s),Eo)},movementY:function(s){return"movementY"in s?s.movementY:xo}}),Zn=He(ya),yh=m({},ya,{dataTransfer:0}),Lp=He(yh),_a=m({},ma,{relatedTarget:0}),To=He(_a),ac=m({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),So=He(ac),_h=m({},Yt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),wo=He(_h),jp=m({},Yt,{data:0}),oc=He(jp),va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=bh[s])?!!a[s]:!1}function ba(){return lc}var Eh=m({},ma,{key:function(s){if(s.key){var a=va[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ni(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ba,charCode:function(s){return s.type==="keypress"?Ni(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ni(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ao=He(Eh),xh=m({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cc=He(xh),ms=m({},ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ba}),Th=He(ms),Sh=m({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),wh=He(Sh),Ah=m({},ya,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ro=He(Ah),_n=m({},Yt,{newState:0,oldState:0}),Rh=He(_n),Ch=[9,13,27,32],ji=yi&&"CompositionEvent"in window,p=null;yi&&"documentMode"in document&&(p=document.documentMode);var b=yi&&"TextEvent"in window&&!p,x=yi&&(!ji||p&&8<p&&11>=p),D=" ",Y=!1;function et(s,a){switch(s){case"keyup":return Ch.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ut=!1;function Ne(s,a){switch(s){case"compositionend":return dt(a);case"keypress":return a.which!==32?null:(Y=!0,D);case"textInput":return s=a.data,s===D&&Y?null:s;default:return null}}function zt(s,a){if(Ut)return s==="compositionend"||!ji&&et(s,a)?(s=sc(),gs=nr=Pi=null,Ut=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return x&&a.locale!=="ko"?null:a.data;default:return null}}var qe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!qe[s.type]:a==="textarea"}function ys(s,a,l,h){ds?ps?ps.push(h):ps=[h]:ds=h,a=gf(a,"onChange"),0<a.length&&(l=new bo("onChange","change",null,l,h),s.push({event:l,listeners:a}))}var Ze=null,Ui=null;function uc(s){rE(s,0)}function Ih(s){var a=Mi(s);if(tc(a))return s}function A0(s,a){if(s==="change")return a}var R0=!1;if(yi){var Up;if(yi){var zp="oninput"in document;if(!zp){var C0=document.createElement("div");C0.setAttribute("oninput","return;"),zp=typeof C0.oninput=="function"}Up=zp}else Up=!1;R0=Up&&(!document.documentMode||9<document.documentMode)}function I0(){Ze&&(Ze.detachEvent("onpropertychange",D0),Ui=Ze=null)}function D0(s){if(s.propertyName==="value"&&Ih(Ui)){var a=[];ys(a,Ui,s,Qn(s)),gh(uc,a)}}function h2(s,a,l){s==="focusin"?(I0(),Ze=a,Ui=l,Ze.attachEvent("onpropertychange",D0)):s==="focusout"&&I0()}function f2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ih(Ui)}function d2(s,a){if(s==="click")return Ih(a)}function p2(s,a){if(s==="input"||s==="change")return Ih(a)}function g2(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var kn=typeof Object.is=="function"?Object.is:g2;function hc(s,a){if(kn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var g=l[h];if(!Dn.call(a,g)||!kn(s[g],a[g]))return!1}return!0}function M0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function O0(s,a){var l=M0(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=a&&h>=a)return{node:l,offset:a-s};s=h}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=M0(l)}}function k0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?k0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function P0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=ua(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=ua(s.document)}return a}function Bp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var m2=yi&&"documentMode"in document&&11>=document.documentMode,Co=null,Fp=null,fc=null,Hp=!1;function N0(s,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hp||Co==null||Co!==ua(h)||(h=Co,"selectionStart"in h&&Bp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),fc&&hc(fc,h)||(fc=h,h=gf(Fp,"onSelect"),0<h.length&&(a=new bo("onSelect","select",null,a,l),s.push({event:a,listeners:h}),a.target=Co)))}function Ea(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Io={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},qp={},V0={};yi&&(V0=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function xa(s){if(qp[s])return qp[s];if(!Io[s])return s;var a=Io[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in V0)return qp[s]=a[l];return s}var L0=xa("animationend"),j0=xa("animationiteration"),U0=xa("animationstart"),y2=xa("transitionrun"),_2=xa("transitionstart"),v2=xa("transitioncancel"),z0=xa("transitionend"),B0=new Map,$p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$p.push("scrollEnd");function _i(s,a){B0.set(s,a),mi(a,[s])}var F0=new WeakMap;function Jn(s,a){if(typeof s=="object"&&s!==null){var l=F0.get(s);return l!==void 0?l:(a={value:s,source:a,stack:yo(a)},F0.set(s,a),a)}return{value:s,source:a,stack:yo(a)}}var ti=[],Do=0,Gp=0;function Dh(){for(var s=Do,a=Gp=Do=0;a<s;){var l=ti[a];ti[a++]=null;var h=ti[a];ti[a++]=null;var g=ti[a];ti[a++]=null;var y=ti[a];if(ti[a++]=null,h!==null&&g!==null){var T=h.pending;T===null?g.next=g:(g.next=T.next,T.next=g),h.pending=g}y!==0&&H0(l,g,y)}}function Mh(s,a,l,h){ti[Do++]=s,ti[Do++]=a,ti[Do++]=l,ti[Do++]=h,Gp|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function Yp(s,a,l,h){return Mh(s,a,l,h),Oh(s)}function Mo(s,a){return Mh(s,null,null,a),Oh(s)}function H0(s,a,l){s.lanes|=l;var h=s.alternate;h!==null&&(h.lanes|=l);for(var g=!1,y=s.return;y!==null;)y.childLanes|=l,h=y.alternate,h!==null&&(h.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&a!==null&&(g=31-on(l),s=y.hiddenUpdates,h=s[g],h===null?s[g]=[a]:h.push(a),a.lane=l|536870912),y):null}function Oh(s){if(50<Lc)throw Lc=0,Jg=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Oo={};function b2(s,a,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(s,a,l,h){return new b2(s,a,l,h)}function Wp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function _s(s,a){var l=s.alternate;return l===null?(l=Pn(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function q0(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function kh(s,a,l,h,g,y){var T=0;if(h=s,typeof s=="function")Wp(s)&&(T=1);else if(typeof s=="string")T=xC(s,l,gt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case M:return s=Pn(31,l,a,g),s.elementType=M,s.lanes=y,s;case w:return Ta(l.children,g,y,a);case C:T=8,g|=24;break;case A:return s=Pn(12,l,a,g|2),s.elementType=A,s.lanes=y,s;case L:return s=Pn(13,l,a,g),s.elementType=L,s.lanes=y,s;case Q:return s=Pn(19,l,a,g),s.elementType=Q,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case k:case $:T=10;break t;case q:T=9;break t;case tt:T=11;break t;case O:T=14;break t;case R:T=16,h=null;break t}T=29,l=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=Pn(T,l,a,g),a.elementType=s,a.type=h,a.lanes=y,a}function Ta(s,a,l,h){return s=Pn(7,s,h,a),s.lanes=l,s}function Kp(s,a,l){return s=Pn(6,s,null,a),s.lanes=l,s}function Qp(s,a,l){return a=Pn(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var ko=[],Po=0,Ph=null,Nh=0,ei=[],ni=0,Sa=null,vs=1,bs="";function wa(s,a){ko[Po++]=Nh,ko[Po++]=Ph,Ph=s,Nh=a}function $0(s,a,l){ei[ni++]=vs,ei[ni++]=bs,ei[ni++]=Sa,Sa=s;var h=vs;s=bs;var g=32-on(h)-1;h&=~(1<<g),l+=1;var y=32-on(a)+g;if(30<y){var T=g-g%5;y=(h&(1<<T)-1).toString(32),h>>=T,g-=T,vs=1<<32-on(a)+g|l<<g|h,bs=y+s}else vs=1<<y|l<<g|h,bs=s}function Xp(s){s.return!==null&&(wa(s,1),$0(s,1,0))}function Zp(s){for(;s===Ph;)Ph=ko[--Po],ko[Po]=null,Nh=ko[--Po],ko[Po]=null;for(;s===Sa;)Sa=ei[--ni],ei[ni]=null,bs=ei[--ni],ei[ni]=null,vs=ei[--ni],ei[ni]=null}var vn=null,_e=null,Gt=!1,Aa=null,zi=!1,Jp=Error(i(519));function Ra(s){var a=Error(i(418,""));throw gc(Jn(a,s)),Jp}function G0(s){var a=s.stateNode,l=s.type,h=s.memoizedProps;switch(a[Pe]=s,a[Re]=h,l){case"dialog":Pt("cancel",a),Pt("close",a);break;case"iframe":case"object":case"embed":Pt("load",a);break;case"video":case"audio":for(l=0;l<Uc.length;l++)Pt(Uc[l],a);break;case"source":Pt("error",a);break;case"img":case"image":case"link":Pt("error",a),Pt("load",a);break;case"details":Pt("toggle",a);break;case"input":Pt("invalid",a),ha(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),_o(a);break;case"select":Pt("invalid",a);break;case"textarea":Pt("invalid",a),fa(a,h.value,h.defaultValue,h.children),_o(a)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||cE(a.textContent,l)?(h.popover!=null&&(Pt("beforetoggle",a),Pt("toggle",a)),h.onScroll!=null&&Pt("scroll",a),h.onScrollEnd!=null&&Pt("scrollend",a),h.onClick!=null&&(a.onclick=mf),a=!0):a=!1,a||Ra(s)}function Y0(s){for(vn=s.return;vn;)switch(vn.tag){case 5:case 13:zi=!1;return;case 27:case 3:zi=!0;return;default:vn=vn.return}}function dc(s){if(s!==vn)return!1;if(!Gt)return Y0(s),Gt=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||gm(s.type,s.memoizedProps)),l=!l),l&&_e&&Ra(s),Y0(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){_e=bi(s.nextSibling);break t}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}_e=null}}else a===27?(a=_e,_r(s.type)?(s=vm,vm=null,_e=s):_e=a):_e=vn?bi(s.stateNode.nextSibling):null;return!0}function pc(){_e=vn=null,Gt=!1}function W0(){var s=Aa;return s!==null&&(Sn===null?Sn=s:Sn.push.apply(Sn,s),Aa=null),s}function gc(s){Aa===null?Aa=[s]:Aa.push(s)}var tg=nt(null),Ca=null,Es=null;function ir(s,a,l){ot(tg,a._currentValue),a._currentValue=l}function xs(s){s._currentValue=tg.current,ht(tg)}function eg(s,a,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===l)break;s=s.return}}function ng(s,a,l,h){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var T=g.child;y=y.firstContext;t:for(;y!==null;){var I=y;y=g;for(var U=0;U<a.length;U++)if(I.context===a[U]){y.lanes|=l,I=y.alternate,I!==null&&(I.lanes|=l),eg(y.return,l,s),h||(T=null);break t}y=I.next}}else if(g.tag===18){if(T=g.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),eg(T,l,s),T=null}else T=g.child;if(T!==null)T.return=g;else for(T=g;T!==null;){if(T===s){T=null;break}if(g=T.sibling,g!==null){g.return=T.return,T=g;break}T=T.return}g=T}}function mc(s,a,l,h){s=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var T=g.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var I=g.type;kn(g.pendingProps.value,T.value)||(s!==null?s.push(I):s=[I])}}else if(g===re.current){if(T=g.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push($c):s=[$c])}g=g.return}s!==null&&ng(a,s,l,h),a.flags|=262144}function Vh(s){for(s=s.firstContext;s!==null;){if(!kn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ia(s){Ca=s,Es=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ln(s){return K0(Ca,s)}function Lh(s,a){return Ca===null&&Ia(s),K0(s,a)}function K0(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Es===null){if(s===null)throw Error(i(308));Es=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Es=Es.next=a;return l}var E2=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},x2=n.unstable_scheduleCallback,T2=n.unstable_NormalPriority,Le={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ig(){return{controller:new E2,data:new Map,refCount:0}}function yc(s){s.refCount--,s.refCount===0&&x2(T2,function(){s.controller.abort()})}var _c=null,sg=0,No=0,Vo=null;function S2(s,a){if(_c===null){var l=_c=[];sg=0,No=am(),Vo={status:"pending",value:void 0,then:function(h){l.push(h)}}}return sg++,a.then(Q0,Q0),a}function Q0(){if(--sg===0&&_c!==null){Vo!==null&&(Vo.status="fulfilled");var s=_c;_c=null,No=0,Vo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function w2(s,a){var l=[],h={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),h}var X0=B.S;B.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&S2(s,a),X0!==null&&X0(s,a)};var Da=nt(null);function rg(){var s=Da.current;return s!==null?s:ae.pooledCache}function jh(s,a){a===null?ot(Da,Da.current):ot(Da,a.pool)}function Z0(){var s=rg();return s===null?null:{parent:Le._currentValue,pool:s}}var vc=Error(i(460)),J0=Error(i(474)),Uh=Error(i(542)),ag={then:function(){}};function tv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function zh(){}function ev(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(zh,zh),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,iv(s),s;default:if(typeof a.status=="string")a.then(zh,zh);else{if(s=ae,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,iv(s),s}throw bc=a,vc}}var bc=null;function nv(){if(bc===null)throw Error(i(459));var s=bc;return bc=null,s}function iv(s){if(s===vc||s===Uh)throw Error(i(483))}var sr=!1;function og(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function rr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ar(s,a,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Xt&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=Oh(s),H0(s,null,l),a}return Mh(s,h,a,l),Oh(s)}function Ec(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,l|=h,a.lanes=l,Kl(s,l)}}function cg(s,a){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?g=y=a:y=y.next=a}else g=y=a;l={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var ug=!1;function xc(){if(ug){var s=Vo;if(s!==null)throw s}}function Tc(s,a,l,h){ug=!1;var g=s.updateQueue;sr=!1;var y=g.firstBaseUpdate,T=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var U=I,K=U.next;U.next=null,T===null?y=K:T.next=K,T=U;var st=s.alternate;st!==null&&(st=st.updateQueue,I=st.lastBaseUpdate,I!==T&&(I===null?st.firstBaseUpdate=K:I.next=K,st.lastBaseUpdate=U))}if(y!==null){var lt=g.baseState;T=0,st=K=U=null,I=y;do{var X=I.lane&-536870913,Z=X!==I.lane;if(Z?(Bt&X)===X:(h&X)===X){X!==0&&X===No&&(ug=!0),st!==null&&(st=st.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var Rt=s,Tt=I;X=a;var ie=l;switch(Tt.tag){case 1:if(Rt=Tt.payload,typeof Rt=="function"){lt=Rt.call(ie,lt,X);break t}lt=Rt;break t;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Tt.payload,X=typeof Rt=="function"?Rt.call(ie,lt,X):Rt,X==null)break t;lt=m({},lt,X);break t;case 2:sr=!0}}X=I.callback,X!==null&&(s.flags|=64,Z&&(s.flags|=8192),Z=g.callbacks,Z===null?g.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:I.tag,payload:I.payload,callback:I.callback,next:null},st===null?(K=st=Z,U=lt):st=st.next=Z,T|=X;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;Z=I,I=Z.next,Z.next=null,g.lastBaseUpdate=Z,g.shared.pending=null}}while(!0);st===null&&(U=lt),g.baseState=U,g.firstBaseUpdate=K,g.lastBaseUpdate=st,y===null&&(g.shared.lanes=0),pr|=T,s.lanes=T,s.memoizedState=lt}}function sv(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function rv(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)sv(l[s],a)}var Lo=nt(null),Bh=nt(0);function av(s,a){s=Is,ot(Bh,s),ot(Lo,a),Is=s|a.baseLanes}function hg(){ot(Bh,Is),ot(Lo,Lo.current)}function fg(){Is=Bh.current,ht(Lo),ht(Bh)}var or=0,Mt=null,ee=null,Ie=null,Fh=!1,jo=!1,Ma=!1,Hh=0,Sc=0,Uo=null,A2=0;function Ee(){throw Error(i(321))}function dg(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!kn(s[l],a[l]))return!1;return!0}function pg(s,a,l,h,g,y){return or=y,Mt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=s===null||s.memoizedState===null?Hv:qv,Ma=!1,y=l(h,g),Ma=!1,jo&&(y=lv(a,l,h,g)),ov(s),y}function ov(s){B.H=Kh;var a=ee!==null&&ee.next!==null;if(or=0,Ie=ee=Mt=null,Fh=!1,Sc=0,Uo=null,a)throw Error(i(300));s===null||$e||(s=s.dependencies,s!==null&&Vh(s)&&($e=!0))}function lv(s,a,l,h){Mt=s;var g=0;do{if(jo&&(Uo=null),Sc=0,jo=!1,25<=g)throw Error(i(301));if(g+=1,Ie=ee=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=k2,y=a(l,h)}while(jo);return y}function R2(){var s=B.H,a=s.useState()[0];return a=typeof a.then=="function"?wc(a):a,s=s.useState()[0],(ee!==null?ee.memoizedState:null)!==s&&(Mt.flags|=1024),a}function gg(){var s=Hh!==0;return Hh=0,s}function mg(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function yg(s){if(Fh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Fh=!1}or=0,Ie=ee=Mt=null,jo=!1,Sc=Hh=0,Uo=null}function xn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Mt.memoizedState=Ie=s:Ie=Ie.next=s,Ie}function De(){if(ee===null){var s=Mt.alternate;s=s!==null?s.memoizedState:null}else s=ee.next;var a=Ie===null?Mt.memoizedState:Ie.next;if(a!==null)Ie=a,ee=s;else{if(s===null)throw Mt.alternate===null?Error(i(467)):Error(i(310));ee=s,s={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ie===null?Mt.memoizedState=Ie=s:Ie=Ie.next=s}return Ie}function _g(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wc(s){var a=Sc;return Sc+=1,Uo===null&&(Uo=[]),s=ev(Uo,s,a),a=Mt,(Ie===null?a.memoizedState:Ie.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?Hv:qv),s}function qh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return wc(s);if(s.$$typeof===$)return ln(s)}throw Error(i(438,String(s)))}function vg(s){var a=null,l=Mt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=Mt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=_g(),Mt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),h=0;h<s;h++)l[h]=N;return a.index++,l}function Ts(s,a){return typeof a=="function"?a(s):a}function $h(s){var a=De();return bg(a,ee,s)}function bg(s,a,l){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=l;var g=s.baseQueue,y=h.pending;if(y!==null){if(g!==null){var T=g.next;g.next=y.next,y.next=T}a.baseQueue=g=y,h.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{a=g.next;var I=T=null,U=null,K=a,st=!1;do{var lt=K.lane&-536870913;if(lt!==K.lane?(Bt&lt)===lt:(or&lt)===lt){var X=K.revertLane;if(X===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),lt===No&&(st=!0);else if((or&X)===X){K=K.next,X===No&&(st=!0);continue}else lt={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},U===null?(I=U=lt,T=y):U=U.next=lt,Mt.lanes|=X,pr|=X;lt=K.action,Ma&&l(y,lt),y=K.hasEagerState?K.eagerState:l(y,lt)}else X={lane:lt,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},U===null?(I=U=X,T=y):U=U.next=X,Mt.lanes|=lt,pr|=lt;K=K.next}while(K!==null&&K!==a);if(U===null?T=y:U.next=I,!kn(y,s.memoizedState)&&($e=!0,st&&(l=Vo,l!==null)))throw l;s.memoizedState=y,s.baseState=T,s.baseQueue=U,h.lastRenderedState=y}return g===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Eg(s){var a=De(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var h=l.dispatch,g=l.pending,y=a.memoizedState;if(g!==null){l.pending=null;var T=g=g.next;do y=s(y,T.action),T=T.next;while(T!==g);kn(y,a.memoizedState)||($e=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,h]}function cv(s,a,l){var h=Mt,g=De(),y=Gt;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!kn((ee||g).memoizedState,l);T&&(g.memoizedState=l,$e=!0),g=g.queue;var I=fv.bind(null,h,g,s);if(Ac(2048,8,I,[s]),g.getSnapshot!==a||T||Ie!==null&&Ie.memoizedState.tag&1){if(h.flags|=2048,zo(9,Gh(),hv.bind(null,h,g,l,a),null),ae===null)throw Error(i(349));y||(or&124)!==0||uv(h,a,l)}return l}function uv(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Mt.updateQueue,a===null?(a=_g(),Mt.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function hv(s,a,l,h){a.value=l,a.getSnapshot=h,dv(a)&&pv(s)}function fv(s,a,l){return l(function(){dv(a)&&pv(s)})}function dv(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!kn(s,l)}catch{return!0}}function pv(s){var a=Mo(s,2);a!==null&&Un(a,s,2)}function xg(s){var a=xn();if(typeof s=="function"){var l=s;if(s=l(),Ma){Mn(!0);try{l()}finally{Mn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:s},a}function gv(s,a,l,h){return s.baseState=l,bg(s,ee,typeof h=="function"?h:Ts)}function C2(s,a,l,h,g){if(Wh(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};B.T!==null?l(!0):y.isTransition=!1,h(y),l=a.pending,l===null?(y.next=a.pending=y,mv(a,y)):(y.next=l.next,a.pending=l.next=y)}}function mv(s,a){var l=a.action,h=a.payload,g=s.state;if(a.isTransition){var y=B.T,T={};B.T=T;try{var I=l(g,h),U=B.S;U!==null&&U(T,I),yv(s,a,I)}catch(K){Tg(s,a,K)}finally{B.T=y}}else try{y=l(g,h),yv(s,a,y)}catch(K){Tg(s,a,K)}}function yv(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){_v(s,a,h)},function(h){return Tg(s,a,h)}):_v(s,a,l)}function _v(s,a,l){a.status="fulfilled",a.value=l,vv(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,mv(s,l)))}function Tg(s,a,l){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,vv(a),a=a.next;while(a!==h)}s.action=null}function vv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function bv(s,a){return a}function Ev(s,a){if(Gt){var l=ae.formState;if(l!==null){t:{var h=Mt;if(Gt){if(_e){e:{for(var g=_e,y=zi;g.nodeType!==8;){if(!y){g=null;break e}if(g=bi(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){_e=bi(g.nextSibling),h=g.data==="F!";break t}}Ra(h)}h=!1}h&&(a=l[0])}}return l=xn(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bv,lastRenderedState:a},l.queue=h,l=zv.bind(null,Mt,h),h.dispatch=l,h=xg(!1),y=Cg.bind(null,Mt,!1,h.queue),h=xn(),g={state:a,dispatch:null,action:s,pending:null},h.queue=g,l=C2.bind(null,Mt,g,y,l),g.dispatch=l,h.memoizedState=s,[a,l,!1]}function xv(s){var a=De();return Tv(a,ee,s)}function Tv(s,a,l){if(a=bg(s,a,bv)[0],s=$h(Ts)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=wc(a)}catch(T){throw T===vc?Uh:T}else h=a;a=De();var g=a.queue,y=g.dispatch;return l!==a.memoizedState&&(Mt.flags|=2048,zo(9,Gh(),I2.bind(null,g,l),null)),[h,y,s]}function I2(s,a){s.action=a}function Sv(s){var a=De(),l=ee;if(l!==null)return Tv(a,l,s);De(),a=a.memoizedState,l=De();var h=l.queue.dispatch;return l.memoizedState=s,[a,h,!1]}function zo(s,a,l,h){return s={tag:s,create:l,deps:h,inst:a,next:null},a=Mt.updateQueue,a===null&&(a=_g(),Mt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,a.lastEffect=s),s}function Gh(){return{destroy:void 0,resource:void 0}}function wv(){return De().memoizedState}function Yh(s,a,l,h){var g=xn();h=h===void 0?null:h,Mt.flags|=s,g.memoizedState=zo(1|a,Gh(),l,h)}function Ac(s,a,l,h){var g=De();h=h===void 0?null:h;var y=g.memoizedState.inst;ee!==null&&h!==null&&dg(h,ee.memoizedState.deps)?g.memoizedState=zo(a,y,l,h):(Mt.flags|=s,g.memoizedState=zo(1|a,y,l,h))}function Av(s,a){Yh(8390656,8,s,a)}function Rv(s,a){Ac(2048,8,s,a)}function Cv(s,a){return Ac(4,2,s,a)}function Iv(s,a){return Ac(4,4,s,a)}function Dv(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Mv(s,a,l){l=l!=null?l.concat([s]):null,Ac(4,4,Dv.bind(null,a,s),l)}function Sg(){}function Ov(s,a){var l=De();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&dg(a,h[1])?h[0]:(l.memoizedState=[s,a],s)}function kv(s,a){var l=De();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&dg(a,h[1]))return h[0];if(h=s(),Ma){Mn(!0);try{s()}finally{Mn(!1)}}return l.memoizedState=[h,a],h}function wg(s,a,l){return l===void 0||(or&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=Vb(),Mt.lanes|=s,pr|=s,l)}function Pv(s,a,l,h){return kn(l,a)?l:Lo.current!==null?(s=wg(s,l,h),kn(s,a)||($e=!0),s):(or&42)===0?($e=!0,s.memoizedState=l):(s=Vb(),Mt.lanes|=s,pr|=s,a)}function Nv(s,a,l,h,g){var y=J.p;J.p=y!==0&&8>y?y:8;var T=B.T,I={};B.T=I,Cg(s,!1,a,l);try{var U=g(),K=B.S;if(K!==null&&K(I,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var st=w2(U,h);Rc(s,a,st,jn(s))}else Rc(s,a,h,jn(s))}catch(lt){Rc(s,a,{then:function(){},status:"rejected",reason:lt},jn())}finally{J.p=y,B.T=T}}function D2(){}function Ag(s,a,l,h){if(s.tag!==5)throw Error(i(476));var g=Vv(s).queue;Nv(s,g,a,it,l===null?D2:function(){return Lv(s),l(h)})}function Vv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:it},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Lv(s){var a=Vv(s).next.queue;Rc(s,a,{},jn())}function Rg(){return ln($c)}function jv(){return De().memoizedState}function Uv(){return De().memoizedState}function M2(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=jn();s=rr(l);var h=ar(a,s,l);h!==null&&(Un(h,a,l),Ec(h,a,l)),a={cache:ig()},s.payload=a;return}a=a.return}}function O2(s,a,l){var h=jn();l={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Wh(s)?Bv(a,l):(l=Yp(s,a,l,h),l!==null&&(Un(l,s,h),Fv(l,a,h)))}function zv(s,a,l){var h=jn();Rc(s,a,l,h)}function Rc(s,a,l,h){var g={lane:h,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wh(s))Bv(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,I=y(T,l);if(g.hasEagerState=!0,g.eagerState=I,kn(I,T))return Mh(s,a,g,0),ae===null&&Dh(),!1}catch{}finally{}if(l=Yp(s,a,g,h),l!==null)return Un(l,s,h),Fv(l,a,h),!0}return!1}function Cg(s,a,l,h){if(h={lane:2,revertLane:am(),action:h,hasEagerState:!1,eagerState:null,next:null},Wh(s)){if(a)throw Error(i(479))}else a=Yp(s,l,h,2),a!==null&&Un(a,s,2)}function Wh(s){var a=s.alternate;return s===Mt||a!==null&&a===Mt}function Bv(s,a){jo=Fh=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Fv(s,a,l){if((l&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,l|=h,a.lanes=l,Kl(s,l)}}var Kh={readContext:ln,use:qh,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee},Hv={readContext:ln,use:qh,useCallback:function(s,a){return xn().memoizedState=[s,a===void 0?null:a],s},useContext:ln,useEffect:Av,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Yh(4194308,4,Dv.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Yh(4194308,4,s,a)},useInsertionEffect:function(s,a){Yh(4,2,s,a)},useMemo:function(s,a){var l=xn();a=a===void 0?null:a;var h=s();if(Ma){Mn(!0);try{s()}finally{Mn(!1)}}return l.memoizedState=[h,a],h},useReducer:function(s,a,l){var h=xn();if(l!==void 0){var g=l(a);if(Ma){Mn(!0);try{l(a)}finally{Mn(!1)}}}else g=a;return h.memoizedState=h.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},h.queue=s,s=s.dispatch=O2.bind(null,Mt,s),[h.memoizedState,s]},useRef:function(s){var a=xn();return s={current:s},a.memoizedState=s},useState:function(s){s=xg(s);var a=s.queue,l=zv.bind(null,Mt,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Sg,useDeferredValue:function(s,a){var l=xn();return wg(l,s,a)},useTransition:function(){var s=xg(!1);return s=Nv.bind(null,Mt,s.queue,!0,!1),xn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var h=Mt,g=xn();if(Gt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),ae===null)throw Error(i(349));(Bt&124)!==0||uv(h,a,l)}g.memoizedState=l;var y={value:l,getSnapshot:a};return g.queue=y,Av(fv.bind(null,h,y,s),[s]),h.flags|=2048,zo(9,Gh(),hv.bind(null,h,y,l,a),null),l},useId:function(){var s=xn(),a=ae.identifierPrefix;if(Gt){var l=bs,h=vs;l=(h&~(1<<32-on(h)-1)).toString(32)+l,a="«"+a+"R"+l,l=Hh++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=A2++,a="«"+a+"r"+l.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:Rg,useFormState:Ev,useActionState:Ev,useOptimistic:function(s){var a=xn();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Cg.bind(null,Mt,!0,l),l.dispatch=a,[s,a]},useMemoCache:vg,useCacheRefresh:function(){return xn().memoizedState=M2.bind(null,Mt)}},qv={readContext:ln,use:qh,useCallback:Ov,useContext:ln,useEffect:Rv,useImperativeHandle:Mv,useInsertionEffect:Cv,useLayoutEffect:Iv,useMemo:kv,useReducer:$h,useRef:wv,useState:function(){return $h(Ts)},useDebugValue:Sg,useDeferredValue:function(s,a){var l=De();return Pv(l,ee.memoizedState,s,a)},useTransition:function(){var s=$h(Ts)[0],a=De().memoizedState;return[typeof s=="boolean"?s:wc(s),a]},useSyncExternalStore:cv,useId:jv,useHostTransitionStatus:Rg,useFormState:xv,useActionState:xv,useOptimistic:function(s,a){var l=De();return gv(l,ee,s,a)},useMemoCache:vg,useCacheRefresh:Uv},k2={readContext:ln,use:qh,useCallback:Ov,useContext:ln,useEffect:Rv,useImperativeHandle:Mv,useInsertionEffect:Cv,useLayoutEffect:Iv,useMemo:kv,useReducer:Eg,useRef:wv,useState:function(){return Eg(Ts)},useDebugValue:Sg,useDeferredValue:function(s,a){var l=De();return ee===null?wg(l,s,a):Pv(l,ee.memoizedState,s,a)},useTransition:function(){var s=Eg(Ts)[0],a=De().memoizedState;return[typeof s=="boolean"?s:wc(s),a]},useSyncExternalStore:cv,useId:jv,useHostTransitionStatus:Rg,useFormState:Sv,useActionState:Sv,useOptimistic:function(s,a){var l=De();return ee!==null?gv(l,ee,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:vg,useCacheRefresh:Uv},Bo=null,Cc=0;function Qh(s){var a=Cc;return Cc+=1,Bo===null&&(Bo=[]),ev(Bo,s,a)}function Ic(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Xh(s,a){throw a.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function $v(s){var a=s._init;return a(s._payload)}function Gv(s){function a(G,H){if(s){var W=G.deletions;W===null?(G.deletions=[H],G.flags|=16):W.push(H)}}function l(G,H){if(!s)return null;for(;H!==null;)a(G,H),H=H.sibling;return null}function h(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function g(G,H){return G=_s(G,H),G.index=0,G.sibling=null,G}function y(G,H,W){return G.index=W,s?(W=G.alternate,W!==null?(W=W.index,W<H?(G.flags|=67108866,H):W):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function T(G){return s&&G.alternate===null&&(G.flags|=67108866),G}function I(G,H,W,rt){return H===null||H.tag!==6?(H=Kp(W,G.mode,rt),H.return=G,H):(H=g(H,W),H.return=G,H)}function U(G,H,W,rt){var _t=W.type;return _t===w?st(G,H,W.props.children,rt,W.key):H!==null&&(H.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&$v(_t)===H.type)?(H=g(H,W.props),Ic(H,W),H.return=G,H):(H=kh(W.type,W.key,W.props,null,G.mode,rt),Ic(H,W),H.return=G,H)}function K(G,H,W,rt){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Qp(W,G.mode,rt),H.return=G,H):(H=g(H,W.children||[]),H.return=G,H)}function st(G,H,W,rt,_t){return H===null||H.tag!==7?(H=Ta(W,G.mode,rt,_t),H.return=G,H):(H=g(H,W),H.return=G,H)}function lt(G,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Kp(""+H,G.mode,W),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return W=kh(H.type,H.key,H.props,null,G.mode,W),Ic(W,H),W.return=G,W;case E:return H=Qp(H,G.mode,W),H.return=G,H;case R:var rt=H._init;return H=rt(H._payload),lt(G,H,W)}if(ut(H)||z(H))return H=Ta(H,G.mode,W,null),H.return=G,H;if(typeof H.then=="function")return lt(G,Qh(H),W);if(H.$$typeof===$)return lt(G,Lh(G,H),W);Xh(G,H)}return null}function X(G,H,W,rt){var _t=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return _t!==null?null:I(G,H,""+W,rt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case v:return W.key===_t?U(G,H,W,rt):null;case E:return W.key===_t?K(G,H,W,rt):null;case R:return _t=W._init,W=_t(W._payload),X(G,H,W,rt)}if(ut(W)||z(W))return _t!==null?null:st(G,H,W,rt,null);if(typeof W.then=="function")return X(G,H,Qh(W),rt);if(W.$$typeof===$)return X(G,H,Lh(G,W),rt);Xh(G,W)}return null}function Z(G,H,W,rt,_t){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return G=G.get(W)||null,I(H,G,""+rt,_t);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case v:return G=G.get(rt.key===null?W:rt.key)||null,U(H,G,rt,_t);case E:return G=G.get(rt.key===null?W:rt.key)||null,K(H,G,rt,_t);case R:var Ot=rt._init;return rt=Ot(rt._payload),Z(G,H,W,rt,_t)}if(ut(rt)||z(rt))return G=G.get(W)||null,st(H,G,rt,_t,null);if(typeof rt.then=="function")return Z(G,H,W,Qh(rt),_t);if(rt.$$typeof===$)return Z(G,H,W,Lh(H,rt),_t);Xh(H,rt)}return null}function Rt(G,H,W,rt){for(var _t=null,Ot=null,Et=H,St=H=0,Ye=null;Et!==null&&St<W.length;St++){Et.index>St?(Ye=Et,Et=null):Ye=Et.sibling;var qt=X(G,Et,W[St],rt);if(qt===null){Et===null&&(Et=Ye);break}s&&Et&&qt.alternate===null&&a(G,Et),H=y(qt,H,St),Ot===null?_t=qt:Ot.sibling=qt,Ot=qt,Et=Ye}if(St===W.length)return l(G,Et),Gt&&wa(G,St),_t;if(Et===null){for(;St<W.length;St++)Et=lt(G,W[St],rt),Et!==null&&(H=y(Et,H,St),Ot===null?_t=Et:Ot.sibling=Et,Ot=Et);return Gt&&wa(G,St),_t}for(Et=h(Et);St<W.length;St++)Ye=Z(Et,G,St,W[St],rt),Ye!==null&&(s&&Ye.alternate!==null&&Et.delete(Ye.key===null?St:Ye.key),H=y(Ye,H,St),Ot===null?_t=Ye:Ot.sibling=Ye,Ot=Ye);return s&&Et.forEach(function(Tr){return a(G,Tr)}),Gt&&wa(G,St),_t}function Tt(G,H,W,rt){if(W==null)throw Error(i(151));for(var _t=null,Ot=null,Et=H,St=H=0,Ye=null,qt=W.next();Et!==null&&!qt.done;St++,qt=W.next()){Et.index>St?(Ye=Et,Et=null):Ye=Et.sibling;var Tr=X(G,Et,qt.value,rt);if(Tr===null){Et===null&&(Et=Ye);break}s&&Et&&Tr.alternate===null&&a(G,Et),H=y(Tr,H,St),Ot===null?_t=Tr:Ot.sibling=Tr,Ot=Tr,Et=Ye}if(qt.done)return l(G,Et),Gt&&wa(G,St),_t;if(Et===null){for(;!qt.done;St++,qt=W.next())qt=lt(G,qt.value,rt),qt!==null&&(H=y(qt,H,St),Ot===null?_t=qt:Ot.sibling=qt,Ot=qt);return Gt&&wa(G,St),_t}for(Et=h(Et);!qt.done;St++,qt=W.next())qt=Z(Et,G,St,qt.value,rt),qt!==null&&(s&&qt.alternate!==null&&Et.delete(qt.key===null?St:qt.key),H=y(qt,H,St),Ot===null?_t=qt:Ot.sibling=qt,Ot=qt);return s&&Et.forEach(function(PC){return a(G,PC)}),Gt&&wa(G,St),_t}function ie(G,H,W,rt){if(typeof W=="object"&&W!==null&&W.type===w&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case v:t:{for(var _t=W.key;H!==null;){if(H.key===_t){if(_t=W.type,_t===w){if(H.tag===7){l(G,H.sibling),rt=g(H,W.props.children),rt.return=G,G=rt;break t}}else if(H.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===R&&$v(_t)===H.type){l(G,H.sibling),rt=g(H,W.props),Ic(rt,W),rt.return=G,G=rt;break t}l(G,H);break}else a(G,H);H=H.sibling}W.type===w?(rt=Ta(W.props.children,G.mode,rt,W.key),rt.return=G,G=rt):(rt=kh(W.type,W.key,W.props,null,G.mode,rt),Ic(rt,W),rt.return=G,G=rt)}return T(G);case E:t:{for(_t=W.key;H!==null;){if(H.key===_t)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){l(G,H.sibling),rt=g(H,W.children||[]),rt.return=G,G=rt;break t}else{l(G,H);break}else a(G,H);H=H.sibling}rt=Qp(W,G.mode,rt),rt.return=G,G=rt}return T(G);case R:return _t=W._init,W=_t(W._payload),ie(G,H,W,rt)}if(ut(W))return Rt(G,H,W,rt);if(z(W)){if(_t=z(W),typeof _t!="function")throw Error(i(150));return W=_t.call(W),Tt(G,H,W,rt)}if(typeof W.then=="function")return ie(G,H,Qh(W),rt);if(W.$$typeof===$)return ie(G,H,Lh(G,W),rt);Xh(G,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(l(G,H.sibling),rt=g(H,W),rt.return=G,G=rt):(l(G,H),rt=Kp(W,G.mode,rt),rt.return=G,G=rt),T(G)):l(G,H)}return function(G,H,W,rt){try{Cc=0;var _t=ie(G,H,W,rt);return Bo=null,_t}catch(Et){if(Et===vc||Et===Uh)throw Et;var Ot=Pn(29,Et,null,G.mode);return Ot.lanes=rt,Ot.return=G,Ot}finally{}}}var Fo=Gv(!0),Yv=Gv(!1),ii=nt(null),Bi=null;function lr(s){var a=s.alternate;ot(je,je.current&1),ot(ii,s),Bi===null&&(a===null||Lo.current!==null||a.memoizedState!==null)&&(Bi=s)}function Wv(s){if(s.tag===22){if(ot(je,je.current),ot(ii,s),Bi===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Bi=s)}}else cr()}function cr(){ot(je,je.current),ot(ii,ii.current)}function Ss(s){ht(ii),Bi===s&&(Bi=null),ht(je)}var je=nt(0);function Zh(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||_m(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Ig(s,a,l,h){a=s.memoizedState,l=l(h,a),l=l==null?a:m({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Dg={enqueueSetState:function(s,a,l){s=s._reactInternals;var h=jn(),g=rr(h);g.payload=a,l!=null&&(g.callback=l),a=ar(s,g,h),a!==null&&(Un(a,s,h),Ec(a,s,h))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var h=jn(),g=rr(h);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=ar(s,g,h),a!==null&&(Un(a,s,h),Ec(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=jn(),h=rr(l);h.tag=2,a!=null&&(h.callback=a),a=ar(s,h,l),a!==null&&(Un(a,s,l),Ec(a,s,l))}};function Kv(s,a,l,h,g,y,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,T):a.prototype&&a.prototype.isPureReactComponent?!hc(l,h)||!hc(g,y):!0}function Qv(s,a,l,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==s&&Dg.enqueueReplaceState(a,a.state,null)}function Oa(s,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(s=s.defaultProps){l===a&&(l=m({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}var Jh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Xv(s){Jh(s)}function Zv(s){console.error(s)}function Jv(s){Jh(s)}function tf(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function tb(s,a,l){try{var h=s.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Mg(s,a,l){return l=rr(l),l.tag=3,l.payload={element:null},l.callback=function(){tf(s,a)},l}function eb(s){return s=rr(s),s.tag=3,s}function nb(s,a,l,h){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;s.payload=function(){return g(y)},s.callback=function(){tb(a,l,h)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){tb(a,l,h),typeof g!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var I=h.stack;this.componentDidCatch(h.value,{componentStack:I!==null?I:""})})}function P2(s,a,l,h,g){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&mc(a,l,g,!0),l=ii.current,l!==null){switch(l.tag){case 13:return Bi===null?em():l.alternate===null&&ve===0&&(ve=3),l.flags&=-257,l.flags|=65536,l.lanes=g,h===ag?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),im(s,h,g)),!1;case 22:return l.flags|=65536,h===ag?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),im(s,h,g)),!1}throw Error(i(435,l.tag))}return im(s,h,g),em(),!1}if(Gt)return a=ii.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==Jp&&(s=Error(i(422),{cause:h}),gc(Jn(s,l)))):(h!==Jp&&(a=Error(i(423),{cause:h}),gc(Jn(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,h=Jn(h,l),g=Mg(s.stateNode,h,g),cg(s,g),ve!==4&&(ve=2)),!1;var y=Error(i(520),{cause:h});if(y=Jn(y,l),Vc===null?Vc=[y]:Vc.push(y),ve!==4&&(ve=2),a===null)return!0;h=Jn(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Mg(l.stateNode,h,s),cg(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gr===null||!gr.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=eb(g),nb(g,s,l,h),cg(l,g),!1}l=l.return}while(l!==null);return!1}var ib=Error(i(461)),$e=!1;function Je(s,a,l,h){a.child=s===null?Yv(a,null,l,h):Fo(a,s.child,l,h)}function sb(s,a,l,h,g){l=l.render;var y=a.ref;if("ref"in h){var T={};for(var I in h)I!=="ref"&&(T[I]=h[I])}else T=h;return Ia(a),h=pg(s,a,l,T,y,g),I=gg(),s!==null&&!$e?(mg(s,a,g),ws(s,a,g)):(Gt&&I&&Xp(a),a.flags|=1,Je(s,a,h,g),a.child)}function rb(s,a,l,h,g){if(s===null){var y=l.type;return typeof y=="function"&&!Wp(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,ab(s,a,y,h,g)):(s=kh(l.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Ug(s,g)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:hc,l(T,h)&&s.ref===a.ref)return ws(s,a,g)}return a.flags|=1,s=_s(y,h),s.ref=a.ref,s.return=a,a.child=s}function ab(s,a,l,h,g){if(s!==null){var y=s.memoizedProps;if(hc(y,h)&&s.ref===a.ref)if($e=!1,a.pendingProps=h=y,Ug(s,g))(s.flags&131072)!==0&&($e=!0);else return a.lanes=s.lanes,ws(s,a,g)}return Og(s,a,l,h,g)}function ob(s,a,l){var h=a.pendingProps,g=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=y!==null?y.baseLanes|l:l,s!==null){for(g=a.child=s.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;a.childLanes=y&~h}else a.childLanes=0,a.child=null;return lb(s,a,h,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&jh(a,y!==null?y.cachePool:null),y!==null?av(a,y):hg(),Wv(a);else return a.lanes=a.childLanes=536870912,lb(s,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(jh(a,y.cachePool),av(a,y),cr(),a.memoizedState=null):(s!==null&&jh(a,null),hg(),cr());return Je(s,a,g,l),a.child}function lb(s,a,l,h){var g=rg();return g=g===null?null:{parent:Le._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},s!==null&&jh(a,null),hg(),Wv(a),s!==null&&mc(s,a,h,!0),null}function ef(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Og(s,a,l,h,g){return Ia(a),l=pg(s,a,l,h,void 0,g),h=gg(),s!==null&&!$e?(mg(s,a,g),ws(s,a,g)):(Gt&&h&&Xp(a),a.flags|=1,Je(s,a,l,g),a.child)}function cb(s,a,l,h,g,y){return Ia(a),a.updateQueue=null,l=lv(a,h,l,g),ov(s),h=gg(),s!==null&&!$e?(mg(s,a,y),ws(s,a,y)):(Gt&&h&&Xp(a),a.flags|=1,Je(s,a,l,y),a.child)}function ub(s,a,l,h,g){if(Ia(a),a.stateNode===null){var y=Oo,T=l.contextType;typeof T=="object"&&T!==null&&(y=ln(T)),y=new l(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Dg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},og(a),T=l.contextType,y.context=typeof T=="object"&&T!==null?ln(T):Oo,y.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Ig(a,l,T,h),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Dg.enqueueReplaceState(y,y.state,null),Tc(a,h,y,g),xc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){y=a.stateNode;var I=a.memoizedProps,U=Oa(l,I);y.props=U;var K=y.context,st=l.contextType;T=Oo,typeof st=="object"&&st!==null&&(T=ln(st));var lt=l.getDerivedStateFromProps;st=typeof lt=="function"||typeof y.getSnapshotBeforeUpdate=="function",I=a.pendingProps!==I,st||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(I||K!==T)&&Qv(a,y,h,T),sr=!1;var X=a.memoizedState;y.state=X,Tc(a,h,y,g),xc(),K=a.memoizedState,I||X!==K||sr?(typeof lt=="function"&&(Ig(a,l,lt,h),K=a.memoizedState),(U=sr||Kv(a,l,U,h,X,K,T))?(st||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=K),y.props=h,y.state=K,y.context=T,h=U):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,lg(s,a),T=a.memoizedProps,st=Oa(l,T),y.props=st,lt=a.pendingProps,X=y.context,K=l.contextType,U=Oo,typeof K=="object"&&K!==null&&(U=ln(K)),I=l.getDerivedStateFromProps,(K=typeof I=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==lt||X!==U)&&Qv(a,y,h,U),sr=!1,X=a.memoizedState,y.state=X,Tc(a,h,y,g),xc();var Z=a.memoizedState;T!==lt||X!==Z||sr||s!==null&&s.dependencies!==null&&Vh(s.dependencies)?(typeof I=="function"&&(Ig(a,l,I,h),Z=a.memoizedState),(st=sr||Kv(a,l,st,h,X,Z,U)||s!==null&&s.dependencies!==null&&Vh(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,Z,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,Z,U)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Z),y.props=h,y.state=Z,y.context=U,h=st):(typeof y.componentDidUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),h=!1)}return y=h,ef(s,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&h?(a.child=Fo(a,s.child,null,g),a.child=Fo(a,null,l,g)):Je(s,a,l,g),a.memoizedState=y.state,s=a.child):s=ws(s,a,g),s}function hb(s,a,l,h){return pc(),a.flags|=256,Je(s,a,l,h),a.child}var kg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pg(s){return{baseLanes:s,cachePool:Z0()}}function Ng(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=si),s}function fb(s,a,l){var h=a.pendingProps,g=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=s!==null&&s.memoizedState===null?!1:(je.current&2)!==0),T&&(g=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,s===null){if(Gt){if(g?lr(a):cr(),Gt){var I=_e,U;if(U=I){t:{for(U=I,I=zi;U.nodeType!==8;){if(!I){I=null;break t}if(U=bi(U.nextSibling),U===null){I=null;break t}}I=U}I!==null?(a.memoizedState={dehydrated:I,treeContext:Sa!==null?{id:vs,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},U=Pn(18,null,null,0),U.stateNode=I,U.return=a,a.child=U,vn=a,_e=null,U=!0):U=!1}U||Ra(a)}if(I=a.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return _m(I)?a.lanes=32:a.lanes=536870912,null;Ss(a)}return I=h.children,h=h.fallback,g?(cr(),g=a.mode,I=nf({mode:"hidden",children:I},g),h=Ta(h,g,l,null),I.return=a,h.return=a,I.sibling=h,a.child=I,g=a.child,g.memoizedState=Pg(l),g.childLanes=Ng(s,T,l),a.memoizedState=kg,h):(lr(a),Vg(a,I))}if(U=s.memoizedState,U!==null&&(I=U.dehydrated,I!==null)){if(y)a.flags&256?(lr(a),a.flags&=-257,a=Lg(s,a,l)):a.memoizedState!==null?(cr(),a.child=s.child,a.flags|=128,a=null):(cr(),g=h.fallback,I=a.mode,h=nf({mode:"visible",children:h.children},I),g=Ta(g,I,l,null),g.flags|=2,h.return=a,g.return=a,h.sibling=g,a.child=h,Fo(a,s.child,null,l),h=a.child,h.memoizedState=Pg(l),h.childLanes=Ng(s,T,l),a.memoizedState=kg,a=g);else if(lr(a),_m(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var K=T.dgst;T=K,h=Error(i(419)),h.stack="",h.digest=T,gc({value:h,source:null,stack:null}),a=Lg(s,a,l)}else if($e||mc(s,a,l,!1),T=(l&s.childLanes)!==0,$e||T){if(T=ae,T!==null&&(h=l&-l,h=(h&42)!==0?1:Qs(h),h=(h&(T.suspendedLanes|l))!==0?0:h,h!==0&&h!==U.retryLane))throw U.retryLane=h,Mo(s,h),Un(T,s,h),ib;I.data==="$?"||em(),a=Lg(s,a,l)}else I.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=U.treeContext,_e=bi(I.nextSibling),vn=a,Gt=!0,Aa=null,zi=!1,s!==null&&(ei[ni++]=vs,ei[ni++]=bs,ei[ni++]=Sa,vs=s.id,bs=s.overflow,Sa=a),a=Vg(a,h.children),a.flags|=4096);return a}return g?(cr(),g=h.fallback,I=a.mode,U=s.child,K=U.sibling,h=_s(U,{mode:"hidden",children:h.children}),h.subtreeFlags=U.subtreeFlags&65011712,K!==null?g=_s(K,g):(g=Ta(g,I,l,null),g.flags|=2),g.return=a,h.return=a,h.sibling=g,a.child=h,h=g,g=a.child,I=s.child.memoizedState,I===null?I=Pg(l):(U=I.cachePool,U!==null?(K=Le._currentValue,U=U.parent!==K?{parent:K,pool:K}:U):U=Z0(),I={baseLanes:I.baseLanes|l,cachePool:U}),g.memoizedState=I,g.childLanes=Ng(s,T,l),a.memoizedState=kg,h):(lr(a),l=s.child,s=l.sibling,l=_s(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,s!==null&&(T=a.deletions,T===null?(a.deletions=[s],a.flags|=16):T.push(s)),a.child=l,a.memoizedState=null,l)}function Vg(s,a){return a=nf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function nf(s,a){return s=Pn(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Lg(s,a,l){return Fo(a,s.child,null,l),s=Vg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function db(s,a,l){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),eg(s.return,a,l)}function jg(s,a,l,h,g){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=g)}function pb(s,a,l){var h=a.pendingProps,g=h.revealOrder,y=h.tail;if(Je(s,a,h.children,l),h=je.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&db(s,l,a);else if(s.tag===19)db(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(ot(je,h),g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&Zh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),jg(a,!1,g,l,y);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Zh(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}jg(a,!0,l,null,y);break;case"together":jg(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ws(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),pr|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(mc(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=_s(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=_s(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Ug(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Vh(s)))}function N2(s,a,l){switch(a.tag){case 3:Ht(a,a.stateNode.containerInfo),ir(a,Le,s.memoizedState.cache),pc();break;case 27:case 5:pe(a);break;case 4:Ht(a,a.stateNode.containerInfo);break;case 10:ir(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(lr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?fb(s,a,l):(lr(a),s=ws(s,a,l),s!==null?s.sibling:null);lr(a);break;case 19:var g=(s.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(mc(s,a,l,!1),h=(l&a.childLanes)!==0),g){if(h)return pb(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ot(je,je.current),h)break;return null;case 22:case 23:return a.lanes=0,ob(s,a,l);case 24:ir(a,Le,s.memoizedState.cache)}return ws(s,a,l)}function gb(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)$e=!0;else{if(!Ug(s,l)&&(a.flags&128)===0)return $e=!1,N2(s,a,l);$e=(s.flags&131072)!==0}else $e=!1,Gt&&(a.flags&1048576)!==0&&$0(a,Nh,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var h=a.elementType,g=h._init;if(h=g(h._payload),a.type=h,typeof h=="function")Wp(h)?(s=Oa(h,s),a.tag=1,a=ub(null,a,h,s,l)):(a.tag=0,a=Og(null,a,h,s,l));else{if(h!=null){if(g=h.$$typeof,g===tt){a.tag=11,a=sb(null,a,h,s,l);break t}else if(g===O){a.tag=14,a=rb(null,a,h,s,l);break t}}throw a=ft(h)||h,Error(i(306,a,""))}}return a;case 0:return Og(s,a,a.type,a.pendingProps,l);case 1:return h=a.type,g=Oa(h,a.pendingProps),ub(s,a,h,g,l);case 3:t:{if(Ht(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var y=a.memoizedState;g=y.element,lg(s,a),Tc(a,h,null,l);var T=a.memoizedState;if(h=T.cache,ir(a,Le,h),h!==y.cache&&ng(a,[Le],l,!0),xc(),h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=hb(s,a,h,l);break t}else if(h!==g){g=Jn(Error(i(424)),a),gc(g),a=hb(s,a,h,l);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(_e=bi(s.firstChild),vn=a,Gt=!0,Aa=null,zi=!0,l=Yv(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(pc(),h===g){a=ws(s,a,l);break t}Je(s,a,h,l)}a=a.child}return a;case 26:return ef(s,a),s===null?(l=vE(a.type,null,a.pendingProps,null))?a.memoizedState=l:Gt||(l=a.type,s=a.pendingProps,h=yf(vt.current).createElement(l),h[Pe]=a,h[Re]=s,en(h,l,s),be(h),a.stateNode=h):a.memoizedState=vE(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return pe(a),s===null&&Gt&&(h=a.stateNode=mE(a.type,a.pendingProps,vt.current),vn=a,zi=!0,g=_e,_r(a.type)?(vm=g,_e=bi(h.firstChild)):_e=g),Je(s,a,a.pendingProps.children,l),ef(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Gt&&((g=h=_e)&&(h=cC(h,a.type,a.pendingProps,zi),h!==null?(a.stateNode=h,vn=a,_e=bi(h.firstChild),zi=!1,g=!0):g=!1),g||Ra(a)),pe(a),g=a.type,y=a.pendingProps,T=s!==null?s.memoizedProps:null,h=y.children,gm(g,y)?h=null:T!==null&&gm(g,T)&&(a.flags|=32),a.memoizedState!==null&&(g=pg(s,a,R2,null,null,l),$c._currentValue=g),ef(s,a),Je(s,a,h,l),a.child;case 6:return s===null&&Gt&&((s=l=_e)&&(l=uC(l,a.pendingProps,zi),l!==null?(a.stateNode=l,vn=a,_e=null,s=!0):s=!1),s||Ra(a)),null;case 13:return fb(s,a,l);case 4:return Ht(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Fo(a,null,h,l):Je(s,a,h,l),a.child;case 11:return sb(s,a,a.type,a.pendingProps,l);case 7:return Je(s,a,a.pendingProps,l),a.child;case 8:return Je(s,a,a.pendingProps.children,l),a.child;case 12:return Je(s,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,ir(a,a.type,h.value),Je(s,a,h.children,l),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,Ia(a),g=ln(g),h=h(g),a.flags|=1,Je(s,a,h,l),a.child;case 14:return rb(s,a,a.type,a.pendingProps,l);case 15:return ab(s,a,a.type,a.pendingProps,l);case 19:return pb(s,a,l);case 31:return h=a.pendingProps,l=a.mode,h={mode:h.mode,children:h.children},s===null?(l=nf(h,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=_s(s.child,h),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return ob(s,a,l);case 24:return Ia(a),h=ln(Le),s===null?(g=rg(),g===null&&(g=ae,y=ig(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),a.memoizedState={parent:h,cache:g},og(a),ir(a,Le,g)):((s.lanes&l)!==0&&(lg(s,a),Tc(a,null,null,l),xc()),g=s.memoizedState,y=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),ir(a,Le,h)):(h=y.cache,ir(a,Le,h),h!==g.cache&&ng(a,[Le],l,!0))),Je(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function As(s){s.flags|=4}function mb(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!SE(a)){if(a=ii.current,a!==null&&((Bt&4194048)===Bt?Bi!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||a!==Bi))throw bc=ag,J0;s.flags|=8192}}function sf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Yl():536870912,s.lanes|=a,Go|=a)}function Dc(s,a){if(!Gt)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function ge(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=l,a}function V2(s,a,l){var h=a.pendingProps;switch(Zp(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(a),null;case 1:return ge(a),null;case 3:return l=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),xs(Le),Be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(dc(a)?As(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,W0())),ge(a),null;case 26:return l=a.memoizedState,s===null?(As(a),l!==null?(ge(a),mb(a,l)):(ge(a),a.flags&=-16777217)):l?l!==s.memoizedState?(As(a),ge(a),mb(a,l)):(ge(a),a.flags&=-16777217):(s.memoizedProps!==h&&As(a),ge(a),a.flags&=-16777217),null;case 27:Fe(a),l=vt.current;var g=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==h&&As(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return ge(a),null}s=gt.current,dc(a)?G0(a):(s=mE(g,h,l),a.stateNode=s,As(a))}return ge(a),null;case 5:if(Fe(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&As(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return ge(a),null}if(s=gt.current,dc(a))G0(a);else{switch(g=yf(vt.current),s){case 1:s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=g.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?g.createElement("select",{is:h.is}):g.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?g.createElement(l,{is:h.is}):g.createElement(l)}}s[Pe]=a,s[Re]=h;t:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)s.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break t;for(;g.sibling===null;){if(g.return===null||g.return===a)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=s;t:switch(en(s,l,h),l){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&As(a)}}return ge(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&As(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=vt.current,dc(a)){if(s=a.stateNode,l=a.memoizedProps,h=null,g=vn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}s[Pe]=a,s=!!(s.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||cE(s.nodeValue,l)),s||Ra(a)}else s=yf(s).createTextNode(h),s[Pe]=a,a.stateNode=s}return ge(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=dc(a),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Pe]=a}else pc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ge(a),g=!1}else g=W0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Ss(a),a):(Ss(a),null)}if(Ss(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=h!==null,s=s!==null&&s.memoizedState!==null,l){h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),sf(a,a.updateQueue),ge(a),null;case 4:return Be(),s===null&&um(a.stateNode.containerInfo),ge(a),null;case 10:return xs(a.type),ge(a),null;case 19:if(ht(je),g=a.memoizedState,g===null)return ge(a),null;if(h=(a.flags&128)!==0,y=g.rendering,y===null)if(h)Dc(g,!1);else{if(ve!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=Zh(s),y!==null){for(a.flags|=128,Dc(g,!1),s=y.updateQueue,a.updateQueue=s,sf(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)q0(l,s),l=l.sibling;return ot(je,je.current&1|2),a.child}s=s.sibling}g.tail!==null&&Yn()>of&&(a.flags|=128,h=!0,Dc(g,!1),a.lanes=4194304)}else{if(!h)if(s=Zh(y),s!==null){if(a.flags|=128,h=!0,s=s.updateQueue,a.updateQueue=s,sf(a,s),Dc(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Gt)return ge(a),null}else 2*Yn()-g.renderingStartTime>of&&l!==536870912&&(a.flags|=128,h=!0,Dc(g,!1),a.lanes=4194304);g.isBackwards?(y.sibling=a.child,a.child=y):(s=g.last,s!==null?s.sibling=y:a.child=y,g.last=y)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=Yn(),a.sibling=null,s=je.current,ot(je,h?s&1|2:s&1),a):(ge(a),null);case 22:case 23:return Ss(a),fg(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(ge(a),a.subtreeFlags&6&&(a.flags|=8192)):ge(a),l=a.updateQueue,l!==null&&sf(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),s!==null&&ht(Da),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),xs(Le),ge(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function L2(s,a){switch(Zp(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return xs(Le),Be(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Fe(a),null;case 13:if(Ss(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));pc()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return ht(je),null;case 4:return Be(),null;case 10:return xs(a.type),null;case 22:case 23:return Ss(a),fg(),s!==null&&ht(Da),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return xs(Le),null;case 25:return null;default:return null}}function yb(s,a){switch(Zp(a),a.tag){case 3:xs(Le),Be();break;case 26:case 27:case 5:Fe(a);break;case 4:Be();break;case 13:Ss(a);break;case 19:ht(je);break;case 10:xs(a.type);break;case 22:case 23:Ss(a),fg(),s!==null&&ht(Da);break;case 24:xs(Le)}}function Mc(s,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var g=h.next;l=g;do{if((l.tag&s)===s){h=void 0;var y=l.create,T=l.inst;h=y(),T.destroy=h}l=l.next}while(l!==g)}}catch(I){se(a,a.return,I)}}function ur(s,a,l){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&s)===s){var T=h.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,g=a;var U=l,K=I;try{K()}catch(st){se(g,U,st)}}}h=h.next}while(h!==y)}}catch(st){se(a,a.return,st)}}function _b(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{rv(a,l)}catch(h){se(s,s.return,h)}}}function vb(s,a,l){l.props=Oa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(h){se(s,a,h)}}function Oc(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof l=="function"?s.refCleanup=l(h):l.current=h}}catch(g){se(s,a,g)}}function Fi(s,a){var l=s.ref,h=s.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(g){se(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){se(s,a,g)}else l.current=null}function bb(s){var a=s.type,l=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break t;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(g){se(s,s.return,g)}}function zg(s,a,l){try{var h=s.stateNode;sC(h,s.type,l,a),h[Re]=a}catch(g){se(s,s.return,g)}}function Eb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&_r(s.type)||s.tag===4}function Bg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Eb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&_r(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Fg(s,a,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=mf));else if(h!==4&&(h===27&&_r(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(Fg(s,a,l),s=s.sibling;s!==null;)Fg(s,a,l),s=s.sibling}function rf(s,a,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(h!==4&&(h===27&&_r(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(rf(s,a,l),s=s.sibling;s!==null;)rf(s,a,l),s=s.sibling}function xb(s){var a=s.stateNode,l=s.memoizedProps;try{for(var h=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);en(a,h,l),a[Pe]=s,a[Re]=l}catch(y){se(s,s.return,y)}}var Rs=!1,xe=!1,Hg=!1,Tb=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function j2(s,a){if(s=s.containerInfo,dm=Tf,s=P0(s),Bp(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break t}var T=0,I=-1,U=-1,K=0,st=0,lt=s,X=null;e:for(;;){for(var Z;lt!==l||g!==0&&lt.nodeType!==3||(I=T+g),lt!==y||h!==0&&lt.nodeType!==3||(U=T+h),lt.nodeType===3&&(T+=lt.nodeValue.length),(Z=lt.firstChild)!==null;)X=lt,lt=Z;for(;;){if(lt===s)break e;if(X===l&&++K===g&&(I=T),X===y&&++st===h&&(U=T),(Z=lt.nextSibling)!==null)break;lt=X,X=lt.parentNode}lt=Z}l=I===-1||U===-1?null:{start:I,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(pm={focusedElem:s,selectionRange:l},Tf=!1,Ge=a;Ge!==null;)if(a=Ge,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Ge=s;else for(;Ge!==null;){switch(a=Ge,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,g=y.memoizedProps,y=y.memoizedState,h=l.stateNode;try{var Rt=Oa(l.type,g,l.elementType===l.type);s=h.getSnapshotBeforeUpdate(Rt,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(Tt){se(l,l.return,Tt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)ym(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ym(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Ge=s;break}Ge=a.return}}function Sb(s,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:hr(s,l),h&4&&Mc(5,l);break;case 1:if(hr(s,l),h&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(T){se(l,l.return,T)}else{var g=Oa(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(T){se(l,l.return,T)}}h&64&&_b(l),h&512&&Oc(l,l.return);break;case 3:if(hr(s,l),h&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{rv(s,a)}catch(T){se(l,l.return,T)}}break;case 27:a===null&&h&4&&xb(l);case 26:case 5:hr(s,l),a===null&&h&4&&bb(l),h&512&&Oc(l,l.return);break;case 12:hr(s,l);break;case 13:hr(s,l),h&4&&Rb(s,l),h&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=Y2.bind(null,l),hC(s,l))));break;case 22:if(h=l.memoizedState!==null||Rs,!h){a=a!==null&&a.memoizedState!==null||xe,g=Rs;var y=xe;Rs=h,(xe=a)&&!y?fr(s,l,(l.subtreeFlags&8772)!==0):hr(s,l),Rs=g,xe=y}break;case 30:break;default:hr(s,l)}}function wb(s){var a=s.alternate;a!==null&&(s.alternate=null,wb(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Js(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var fe=null,Tn=!1;function Cs(s,a,l){for(l=l.child;l!==null;)Ab(s,a,l),l=l.sibling}function Ab(s,a,l){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ye,l)}catch{}switch(l.tag){case 26:xe||Fi(l,a),Cs(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:xe||Fi(l,a);var h=fe,g=Tn;_r(l.type)&&(fe=l.stateNode,Tn=!1),Cs(s,a,l),Bc(l.stateNode),fe=h,Tn=g;break;case 5:xe||Fi(l,a);case 6:if(h=fe,g=Tn,fe=null,Cs(s,a,l),fe=h,Tn=g,fe!==null)if(Tn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(l.stateNode)}catch(y){se(l,a,y)}else try{fe.removeChild(l.stateNode)}catch(y){se(l,a,y)}break;case 18:fe!==null&&(Tn?(s=fe,pE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Kc(s)):pE(fe,l.stateNode));break;case 4:h=fe,g=Tn,fe=l.stateNode.containerInfo,Tn=!0,Cs(s,a,l),fe=h,Tn=g;break;case 0:case 11:case 14:case 15:xe||ur(2,l,a),xe||ur(4,l,a),Cs(s,a,l);break;case 1:xe||(Fi(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&vb(l,a,h)),Cs(s,a,l);break;case 21:Cs(s,a,l);break;case 22:xe=(h=xe)||l.memoizedState!==null,Cs(s,a,l),xe=h;break;default:Cs(s,a,l)}}function Rb(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Kc(s)}catch(l){se(a,a.return,l)}}function U2(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Tb),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Tb),a;default:throw Error(i(435,s.tag))}}function qg(s,a){var l=U2(s);a.forEach(function(h){var g=W2.bind(null,s,h);l.has(h)||(l.add(h),h.then(g,g))})}function Nn(s,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var g=l[h],y=s,T=a,I=T;t:for(;I!==null;){switch(I.tag){case 27:if(_r(I.type)){fe=I.stateNode,Tn=!1;break t}break;case 5:fe=I.stateNode,Tn=!1;break t;case 3:case 4:fe=I.stateNode.containerInfo,Tn=!0;break t}I=I.return}if(fe===null)throw Error(i(160));Ab(y,T,g),fe=null,Tn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Cb(a,s),a=a.sibling}var vi=null;function Cb(s,a){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Nn(a,s),Vn(s),h&4&&(ur(3,s,s.return),Mc(3,s),ur(5,s,s.return));break;case 1:Nn(a,s),Vn(s),h&512&&(xe||l===null||Fi(l,l.return)),h&64&&Rs&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var g=vi;if(Nn(a,s),Vn(s),h&512&&(xe||l===null||Fi(l,l.return)),h&4){var y=l!==null?l.memoizedState:null;if(h=s.memoizedState,l===null)if(h===null)if(s.stateNode===null){t:{h=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[oa]||y[Pe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),en(y,h,l),y[Pe]=s,be(y),h=y;break t;case"link":var T=xE("link","href",g).get(h+(l.href||""));if(T){for(var I=0;I<T.length;I++)if(y=T[I],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(I,1);break e}}y=g.createElement(h),en(y,h,l),g.head.appendChild(y);break;case"meta":if(T=xE("meta","content",g).get(h+(l.content||""))){for(I=0;I<T.length;I++)if(y=T[I],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(I,1);break e}}y=g.createElement(h),en(y,h,l),g.head.appendChild(y);break;default:throw Error(i(468,h))}y[Pe]=s,be(y),h=y}s.stateNode=h}else TE(g,s.type,s.stateNode);else s.stateNode=EE(g,h,s.memoizedProps);else y!==h?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,h===null?TE(g,s.type,s.stateNode):EE(g,h,s.memoizedProps)):h===null&&s.stateNode!==null&&zg(s,s.memoizedProps,l.memoizedProps)}break;case 27:Nn(a,s),Vn(s),h&512&&(xe||l===null||Fi(l,l.return)),l!==null&&h&4&&zg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Nn(a,s),Vn(s),h&512&&(xe||l===null||Fi(l,l.return)),s.flags&32){g=s.stateNode;try{Kn(g,"")}catch(Z){se(s,s.return,Z)}}h&4&&s.stateNode!=null&&(g=s.memoizedProps,zg(s,g,l!==null?l.memoizedProps:g)),h&1024&&(Hg=!0);break;case 6:if(Nn(a,s),Vn(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,l=s.stateNode;try{l.nodeValue=h}catch(Z){se(s,s.return,Z)}}break;case 3:if(bf=null,g=vi,vi=_f(a.containerInfo),Nn(a,s),vi=g,Vn(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Kc(a.containerInfo)}catch(Z){se(s,s.return,Z)}Hg&&(Hg=!1,Ib(s));break;case 4:h=vi,vi=_f(s.stateNode.containerInfo),Nn(a,s),Vn(s),vi=h;break;case 12:Nn(a,s),Vn(s);break;case 13:Nn(a,s),Vn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Qg=Yn()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,qg(s,h)));break;case 22:g=s.memoizedState!==null;var U=l!==null&&l.memoizedState!==null,K=Rs,st=xe;if(Rs=K||g,xe=st||U,Nn(a,s),xe=st,Rs=K,Vn(s),h&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||U||Rs||xe||ka(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){U=l=a;try{if(y=U.stateNode,g)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=U.stateNode;var lt=U.memoizedProps.style,X=lt!=null&&lt.hasOwnProperty("display")?lt.display:null;I.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Z){se(U,U.return,Z)}}}else if(a.tag===6){if(l===null){U=a;try{U.stateNode.nodeValue=g?"":U.memoizedProps}catch(Z){se(U,U.return,Z)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,qg(s,l))));break;case 19:Nn(a,s),Vn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,qg(s,h)));break;case 30:break;case 21:break;default:Nn(a,s),Vn(s)}}function Vn(s){var a=s.flags;if(a&2){try{for(var l,h=s.return;h!==null;){if(Eb(h)){l=h;break}h=h.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,y=Bg(s);rf(s,y,g);break;case 5:var T=l.stateNode;l.flags&32&&(Kn(T,""),l.flags&=-33);var I=Bg(s);rf(s,I,T);break;case 3:case 4:var U=l.stateNode.containerInfo,K=Bg(s);Fg(s,K,U);break;default:throw Error(i(161))}}catch(st){se(s,s.return,st)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Ib(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Ib(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function hr(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Sb(s,a.alternate,a),a=a.sibling}function ka(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ur(4,a,a.return),ka(a);break;case 1:Fi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&vb(a,a.return,l),ka(a);break;case 27:Bc(a.stateNode);case 26:case 5:Fi(a,a.return),ka(a);break;case 22:a.memoizedState===null&&ka(a);break;case 30:ka(a);break;default:ka(a)}s=s.sibling}}function fr(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=s,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:fr(g,y,l),Mc(4,y);break;case 1:if(fr(g,y,l),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(K){se(h,h.return,K)}if(h=y,g=h.updateQueue,g!==null){var I=h.stateNode;try{var U=g.shared.hiddenCallbacks;if(U!==null)for(g.shared.hiddenCallbacks=null,g=0;g<U.length;g++)sv(U[g],I)}catch(K){se(h,h.return,K)}}l&&T&64&&_b(y),Oc(y,y.return);break;case 27:xb(y);case 26:case 5:fr(g,y,l),l&&h===null&&T&4&&bb(y),Oc(y,y.return);break;case 12:fr(g,y,l);break;case 13:fr(g,y,l),l&&T&4&&Rb(g,y);break;case 22:y.memoizedState===null&&fr(g,y,l),Oc(y,y.return);break;case 30:break;default:fr(g,y,l)}a=a.sibling}}function $g(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&yc(l))}function Gg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&yc(s))}function Hi(s,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Db(s,a,l,h),a=a.sibling}function Db(s,a,l,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Hi(s,a,l,h),g&2048&&Mc(9,a);break;case 1:Hi(s,a,l,h);break;case 3:Hi(s,a,l,h),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&yc(s)));break;case 12:if(g&2048){Hi(s,a,l,h),s=a.stateNode;try{var y=a.memoizedProps,T=y.id,I=y.onPostCommit;typeof I=="function"&&I(T,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){se(a,a.return,U)}}else Hi(s,a,l,h);break;case 13:Hi(s,a,l,h);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?Hi(s,a,l,h):kc(s,a):y._visibility&2?Hi(s,a,l,h):(y._visibility|=2,Ho(s,a,l,h,(a.subtreeFlags&10256)!==0)),g&2048&&$g(T,a);break;case 24:Hi(s,a,l,h),g&2048&&Gg(a.alternate,a);break;default:Hi(s,a,l,h)}}function Ho(s,a,l,h,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,T=a,I=l,U=h,K=T.flags;switch(T.tag){case 0:case 11:case 15:Ho(y,T,I,U,g),Mc(8,T);break;case 23:break;case 22:var st=T.stateNode;T.memoizedState!==null?st._visibility&2?Ho(y,T,I,U,g):kc(y,T):(st._visibility|=2,Ho(y,T,I,U,g)),g&&K&2048&&$g(T.alternate,T);break;case 24:Ho(y,T,I,U,g),g&&K&2048&&Gg(T.alternate,T);break;default:Ho(y,T,I,U,g)}a=a.sibling}}function kc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,h=a,g=h.flags;switch(h.tag){case 22:kc(l,h),g&2048&&$g(h.alternate,h);break;case 24:kc(l,h),g&2048&&Gg(h.alternate,h);break;default:kc(l,h)}a=a.sibling}}var Pc=8192;function qo(s){if(s.subtreeFlags&Pc)for(s=s.child;s!==null;)Mb(s),s=s.sibling}function Mb(s){switch(s.tag){case 26:qo(s),s.flags&Pc&&s.memoizedState!==null&&SC(vi,s.memoizedState,s.memoizedProps);break;case 5:qo(s);break;case 3:case 4:var a=vi;vi=_f(s.stateNode.containerInfo),qo(s),vi=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Pc,Pc=16777216,qo(s),Pc=a):qo(s));break;default:qo(s)}}function Ob(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Nc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Ge=h,Pb(h,s)}Ob(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)kb(s),s=s.sibling}function kb(s){switch(s.tag){case 0:case 11:case 15:Nc(s),s.flags&2048&&ur(9,s,s.return);break;case 3:Nc(s);break;case 12:Nc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,af(s)):Nc(s);break;default:Nc(s)}}function af(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];Ge=h,Pb(h,s)}Ob(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ur(8,a,a.return),af(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,af(a));break;default:af(a)}s=s.sibling}}function Pb(s,a){for(;Ge!==null;){var l=Ge;switch(l.tag){case 0:case 11:case 15:ur(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:yc(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,Ge=h;else t:for(l=s;Ge!==null;){h=Ge;var g=h.sibling,y=h.return;if(wb(h),h===l){Ge=null;break t}if(g!==null){g.return=y,Ge=g;break t}Ge=y}}}var z2={getCacheForType:function(s){var a=ln(Le),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},B2=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ae=null,kt=null,Bt=0,Zt=0,Ln=null,dr=!1,$o=!1,Yg=!1,Is=0,ve=0,pr=0,Pa=0,Wg=0,si=0,Go=0,Vc=null,Sn=null,Kg=!1,Qg=0,of=1/0,lf=null,gr=null,tn=0,mr=null,Yo=null,Wo=0,Xg=0,Zg=null,Nb=null,Lc=0,Jg=null;function jn(){if((Xt&2)!==0&&Bt!==0)return Bt&-Bt;if(B.T!==null){var s=No;return s!==0?s:am()}return Xs()}function Vb(){si===0&&(si=(Bt&536870912)===0||Gt?Gl():536870912);var s=ii.current;return s!==null&&(s.flags|=32),si}function Un(s,a,l){(s===ae&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)&&(Ko(s,0),yr(s,Bt,si,!1)),os(s,l),((Xt&2)===0||s!==ae)&&(s===ae&&((Xt&2)===0&&(Pa|=l),ve===4&&yr(s,Bt,si,!1)),qi(s))}function Lb(s,a,l){if((Xt&6)!==0)throw Error(i(327));var h=!l&&(a&124)===0&&(a&s.expiredLanes)===0||aa(s,a),g=h?q2(s,a):nm(s,a,!0),y=h;do{if(g===0){$o&&!h&&yr(s,a,0,!1);break}else{if(l=s.current.alternate,y&&!F2(l)){g=nm(s,a,!1),y=!1;continue}if(g===2){if(y=a,s.errorRecoveryDisabledLanes&y)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;t:{var I=s;g=Vc;var U=I.current.memoizedState.isDehydrated;if(U&&(Ko(I,T).flags|=256),T=nm(I,T,!1),T!==2){if(Yg&&!U){I.errorRecoveryDisabledLanes|=y,Pa|=y,g=4;break t}y=Sn,Sn=g,y!==null&&(Sn===null?Sn=y:Sn.push.apply(Sn,y))}g=T}if(y=!1,g!==2)continue}}if(g===1){Ko(s,0),yr(s,a,0,!0);break}t:{switch(h=s,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:yr(h,a,si,!dr);break t;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Qg+300-Yn(),10<g)){if(yr(h,a,si,!dr),ho(h,0,!0)!==0)break t;h.timeoutHandle=fE(jb.bind(null,h,l,Sn,lf,Kg,a,si,Pa,Go,dr,y,2,-0,0),g);break t}jb(h,l,Sn,lf,Kg,a,si,Pa,Go,dr,y,0,-0,0)}}break}while(!0);qi(s)}function jb(s,a,l,h,g,y,T,I,U,K,st,lt,X,Z){if(s.timeoutHandle=-1,lt=a.subtreeFlags,(lt&8192||(lt&16785408)===16785408)&&(qc={stylesheets:null,count:0,unsuspend:TC},Mb(a),lt=wC(),lt!==null)){s.cancelPendingCommit=lt($b.bind(null,s,a,y,l,h,g,T,I,U,st,1,X,Z)),yr(s,y,T,!K);return}$b(s,a,y,l,h,g,T,I,U)}function F2(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var g=l[h],y=g.getSnapshot;g=g.value;try{if(!kn(y(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function yr(s,a,l,h){a&=~Wg,a&=~Pa,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var g=a;0<g;){var y=31-on(g),T=1<<y;h[y]=-1,g&=~T}l!==0&&Ii(s,l,a)}function cf(){return(Xt&6)===0?(jc(0),!1):!0}function tm(){if(kt!==null){if(Zt===0)var s=kt.return;else s=kt,Es=Ca=null,yg(s),Bo=null,Cc=0,s=kt;for(;s!==null;)yb(s.alternate,s),s=s.return;kt=null}}function Ko(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,aC(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),tm(),ae=s,kt=l=_s(s.current,null),Bt=a,Zt=0,Ln=null,dr=!1,$o=aa(s,a),Yg=!1,Go=si=Wg=Pa=pr=ve=0,Sn=Vc=null,Kg=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var g=31-on(h),y=1<<g;a|=s[g],h&=~y}return Is=a,Dh(),l}function Ub(s,a){Mt=null,B.H=Kh,a===vc||a===Uh?(a=nv(),Zt=3):a===J0?(a=nv(),Zt=4):Zt=a===ib?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ln=a,kt===null&&(ve=1,tf(s,Jn(a,s.current)))}function zb(){var s=B.H;return B.H=Kh,s===null?Kh:s}function Bb(){var s=B.A;return B.A=z2,s}function em(){ve=4,dr||(Bt&4194048)!==Bt&&ii.current!==null||($o=!0),(pr&134217727)===0&&(Pa&134217727)===0||ae===null||yr(ae,Bt,si,!1)}function nm(s,a,l){var h=Xt;Xt|=2;var g=zb(),y=Bb();(ae!==s||Bt!==a)&&(lf=null,Ko(s,a)),a=!1;var T=ve;t:do try{if(Zt!==0&&kt!==null){var I=kt,U=Ln;switch(Zt){case 8:tm(),T=6;break t;case 3:case 2:case 9:case 6:ii.current===null&&(a=!0);var K=Zt;if(Zt=0,Ln=null,Qo(s,I,U,K),l&&$o){T=0;break t}break;default:K=Zt,Zt=0,Ln=null,Qo(s,I,U,K)}}H2(),T=ve;break}catch(st){Ub(s,st)}while(!0);return a&&s.shellSuspendCounter++,Es=Ca=null,Xt=h,B.H=g,B.A=y,kt===null&&(ae=null,Bt=0,Dh()),T}function H2(){for(;kt!==null;)Fb(kt)}function q2(s,a){var l=Xt;Xt|=2;var h=zb(),g=Bb();ae!==s||Bt!==a?(lf=null,of=Yn()+500,Ko(s,a)):$o=aa(s,a);t:do try{if(Zt!==0&&kt!==null){a=kt;var y=Ln;e:switch(Zt){case 1:Zt=0,Ln=null,Qo(s,a,y,1);break;case 2:case 9:if(tv(y)){Zt=0,Ln=null,Hb(a);break}a=function(){Zt!==2&&Zt!==9||ae!==s||(Zt=7),qi(s)},y.then(a,a);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:tv(y)?(Zt=0,Ln=null,Hb(a)):(Zt=0,Ln=null,Qo(s,a,y,7));break;case 5:var T=null;switch(kt.tag){case 26:T=kt.memoizedState;case 5:case 27:var I=kt;if(!T||SE(T)){Zt=0,Ln=null;var U=I.sibling;if(U!==null)kt=U;else{var K=I.return;K!==null?(kt=K,uf(K)):kt=null}break e}}Zt=0,Ln=null,Qo(s,a,y,5);break;case 6:Zt=0,Ln=null,Qo(s,a,y,6);break;case 8:tm(),ve=6;break t;default:throw Error(i(462))}}$2();break}catch(st){Ub(s,st)}while(!0);return Es=Ca=null,B.H=h,B.A=g,Xt=l,kt!==null?0:(ae=null,Bt=0,Dh(),ve)}function $2(){for(;kt!==null&&!Fl();)Fb(kt)}function Fb(s){var a=gb(s.alternate,s,Is);s.memoizedProps=s.pendingProps,a===null?uf(s):kt=a}function Hb(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=cb(l,a,a.pendingProps,a.type,void 0,Bt);break;case 11:a=cb(l,a,a.pendingProps,a.type.render,a.ref,Bt);break;case 5:yg(a);default:yb(l,a),a=kt=q0(a,Is),a=gb(l,a,Is)}s.memoizedProps=s.pendingProps,a===null?uf(s):kt=a}function Qo(s,a,l,h){Es=Ca=null,yg(a),Bo=null,Cc=0;var g=a.return;try{if(P2(s,g,a,l,Bt)){ve=1,tf(s,Jn(l,s.current)),kt=null;return}}catch(y){if(g!==null)throw kt=g,y;ve=1,tf(s,Jn(l,s.current)),kt=null;return}a.flags&32768?(Gt||h===1?s=!0:$o||(Bt&536870912)!==0?s=!1:(dr=s=!0,(h===2||h===9||h===3||h===6)&&(h=ii.current,h!==null&&h.tag===13&&(h.flags|=16384))),qb(a,s)):uf(a)}function uf(s){var a=s;do{if((a.flags&32768)!==0){qb(a,dr);return}s=a.return;var l=V2(a.alternate,a,Is);if(l!==null){kt=l;return}if(a=a.sibling,a!==null){kt=a;return}kt=a=s}while(a!==null);ve===0&&(ve=5)}function qb(s,a){do{var l=L2(s.alternate,s);if(l!==null){l.flags&=32767,kt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){kt=s;return}kt=s=l}while(s!==null);ve=6,kt=null}function $b(s,a,l,h,g,y,T,I,U){s.cancelPendingCommit=null;do hf();while(tn!==0);if((Xt&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Gp,Wl(s,l,y,T,I,U),s===ae&&(kt=ae=null,Bt=0),Yo=a,mr=s,Wo=l,Xg=y,Zg=g,Nb=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,K2(na,function(){return Qb(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=B.T,B.T=null,g=J.p,J.p=2,T=Xt,Xt|=4;try{j2(s,a,l)}finally{Xt=T,J.p=g,B.T=h}}tn=1,Gb(),Yb(),Wb()}}function Gb(){if(tn===1){tn=0;var s=mr,a=Yo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var h=J.p;J.p=2;var g=Xt;Xt|=4;try{Cb(a,s);var y=pm,T=P0(s.containerInfo),I=y.focusedElem,U=y.selectionRange;if(T!==I&&I&&I.ownerDocument&&k0(I.ownerDocument.documentElement,I)){if(U!==null&&Bp(I)){var K=U.start,st=U.end;if(st===void 0&&(st=K),"selectionStart"in I)I.selectionStart=K,I.selectionEnd=Math.min(st,I.value.length);else{var lt=I.ownerDocument||document,X=lt&&lt.defaultView||window;if(X.getSelection){var Z=X.getSelection(),Rt=I.textContent.length,Tt=Math.min(U.start,Rt),ie=U.end===void 0?Tt:Math.min(U.end,Rt);!Z.extend&&Tt>ie&&(T=ie,ie=Tt,Tt=T);var G=O0(I,Tt),H=O0(I,ie);if(G&&H&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==H.node||Z.focusOffset!==H.offset)){var W=lt.createRange();W.setStart(G.node,G.offset),Z.removeAllRanges(),Tt>ie?(Z.addRange(W),Z.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),Z.addRange(W))}}}}for(lt=[],Z=I;Z=Z.parentNode;)Z.nodeType===1&&lt.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<lt.length;I++){var rt=lt[I];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}Tf=!!dm,pm=dm=null}finally{Xt=g,J.p=h,B.T=l}}s.current=a,tn=2}}function Yb(){if(tn===2){tn=0;var s=mr,a=Yo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var h=J.p;J.p=2;var g=Xt;Xt|=4;try{Sb(s,a.alternate,a)}finally{Xt=g,J.p=h,B.T=l}}tn=3}}function Wb(){if(tn===4||tn===3){tn=0,rh();var s=mr,a=Yo,l=Wo,h=Nb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?tn=5:(tn=0,Yo=mr=null,Kb(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(gr=null),fo(l),a=a.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ye,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=B.T,g=J.p,J.p=2,B.T=null;try{for(var y=s.onRecoverableError,T=0;T<h.length;T++){var I=h[T];y(I.value,{componentStack:I.stack})}}finally{B.T=a,J.p=g}}(Wo&3)!==0&&hf(),qi(s),g=s.pendingLanes,(l&4194090)!==0&&(g&42)!==0?s===Jg?Lc++:(Lc=0,Jg=s):Lc=0,jc(0)}}function Kb(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,yc(a)))}function hf(s){return Gb(),Yb(),Wb(),Qb()}function Qb(){if(tn!==5)return!1;var s=mr,a=Xg;Xg=0;var l=fo(Wo),h=B.T,g=J.p;try{J.p=32>l?32:l,B.T=null,l=Zg,Zg=null;var y=mr,T=Wo;if(tn=0,Yo=mr=null,Wo=0,(Xt&6)!==0)throw Error(i(331));var I=Xt;if(Xt|=4,kb(y.current),Db(y,y.current,T,l),Xt=I,jc(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ye,y)}catch{}return!0}finally{J.p=g,B.T=h,Kb(s,a)}}function Xb(s,a,l){a=Jn(l,a),a=Mg(s.stateNode,a,2),s=ar(s,a,2),s!==null&&(os(s,2),qi(s))}function se(s,a,l){if(s.tag===3)Xb(s,s,l);else for(;a!==null;){if(a.tag===3){Xb(a,s,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(gr===null||!gr.has(h))){s=Jn(l,s),l=eb(2),h=ar(a,l,2),h!==null&&(nb(l,h,a,s),os(h,2),qi(h));break}}a=a.return}}function im(s,a,l){var h=s.pingCache;if(h===null){h=s.pingCache=new B2;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(l)||(Yg=!0,g.add(l),s=G2.bind(null,s,a,l),a.then(s,s))}function G2(s,a,l){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ae===s&&(Bt&l)===l&&(ve===4||ve===3&&(Bt&62914560)===Bt&&300>Yn()-Qg?(Xt&2)===0&&Ko(s,0):Wg|=l,Go===Bt&&(Go=0)),qi(s)}function Zb(s,a){a===0&&(a=Yl()),s=Mo(s,a),s!==null&&(os(s,a),qi(s))}function Y2(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),Zb(s,l)}function W2(s,a){var l=0;switch(s.tag){case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),Zb(s,l)}function K2(s,a){return Gn(s,a)}var ff=null,Xo=null,sm=!1,df=!1,rm=!1,Na=0;function qi(s){s!==Xo&&s.next===null&&(Xo===null?ff=Xo=s:Xo=Xo.next=s),df=!0,sm||(sm=!0,X2())}function jc(s,a){if(!rm&&df){rm=!0;do for(var l=!1,h=ff;h!==null;){if(s!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var T=h.suspendedLanes,I=h.pingedLanes;y=(1<<31-on(42|s)+1)-1,y&=g&~(T&~I),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,nE(h,y))}else y=Bt,y=ho(h,h===ae?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||aa(h,y)||(l=!0,nE(h,y));h=h.next}while(l);rm=!1}}function Q2(){Jb()}function Jb(){df=sm=!1;var s=0;Na!==0&&(rC()&&(s=Na),Na=0);for(var a=Yn(),l=null,h=ff;h!==null;){var g=h.next,y=tE(h,a);y===0?(h.next=null,l===null?ff=g:l.next=g,g===null&&(Xo=l)):(l=h,(s!==0||(y&3)!==0)&&(df=!0)),h=g}jc(s)}function tE(s,a){for(var l=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var T=31-on(y),I=1<<T,U=g[T];U===-1?((I&l)===0||(I&h)!==0)&&(g[T]=$l(I,a)):U<=a&&(s.expiredLanes|=I),y&=~I}if(a=ae,l=Bt,l=ho(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,l===0||s===a&&(Zt===2||Zt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&ea(h),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||aa(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(h!==null&&ea(h),fo(l)){case 2:case 8:l=co;break;case 32:l=na;break;case 268435456:l=uo;break;default:l=na}return h=eE.bind(null,s),l=Gn(l,h),s.callbackPriority=a,s.callbackNode=l,a}return h!==null&&h!==null&&ea(h),s.callbackPriority=2,s.callbackNode=null,2}function eE(s,a){if(tn!==0&&tn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(hf()&&s.callbackNode!==l)return null;var h=Bt;return h=ho(s,s===ae?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(Lb(s,h,a),tE(s,Yn()),s.callbackNode!=null&&s.callbackNode===l?eE.bind(null,s):null)}function nE(s,a){if(hf())return null;Lb(s,a,!0)}function X2(){oC(function(){(Xt&6)!==0?Gn(Hl,Q2):Jb()})}function am(){return Na===0&&(Na=Gl()),Na}function iE(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:vo(""+s)}function sE(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function Z2(s,a,l,h,g){if(a==="submit"&&l&&l.stateNode===g){var y=iE((g[Re]||null).action),T=h.submitter;T&&(a=(a=T[Re]||null)?iE(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var I=new bo("action","action",null,h,g);s.push({event:I,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Na!==0){var U=T?sE(g,T):new FormData(g);Ag(l,{pending:!0,data:U,method:g.method,action:y},null,U)}}else typeof y=="function"&&(I.preventDefault(),U=T?sE(g,T):new FormData(g),Ag(l,{pending:!0,data:U,method:g.method,action:y},y,U))},currentTarget:g}]})}}for(var om=0;om<$p.length;om++){var lm=$p[om],J2=lm.toLowerCase(),tC=lm[0].toUpperCase()+lm.slice(1);_i(J2,"on"+tC)}_i(L0,"onAnimationEnd"),_i(j0,"onAnimationIteration"),_i(U0,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(y2,"onTransitionRun"),_i(_2,"onTransitionStart"),_i(v2,"onTransitionCancel"),_i(z0,"onTransitionEnd"),cs("onMouseEnter",["mouseout","mouseover"]),cs("onMouseLeave",["mouseout","mouseover"]),cs("onPointerEnter",["pointerout","pointerover"]),cs("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uc));function rE(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],g=h.event;h=h.listeners;t:{var y=void 0;if(a)for(var T=h.length-1;0<=T;T--){var I=h[T],U=I.instance,K=I.currentTarget;if(I=I.listener,U!==y&&g.isPropagationStopped())break t;y=I,g.currentTarget=K;try{y(g)}catch(st){Jh(st)}g.currentTarget=null,y=U}else for(T=0;T<h.length;T++){if(I=h[T],U=I.instance,K=I.currentTarget,I=I.listener,U!==y&&g.isPropagationStopped())break t;y=I,g.currentTarget=K;try{y(g)}catch(st){Jh(st)}g.currentTarget=null,y=U}}}}function Pt(s,a){var l=a[Ql];l===void 0&&(l=a[Ql]=new Set);var h=s+"__bubble";l.has(h)||(aE(a,s,2,!1),l.add(h))}function cm(s,a,l){var h=0;a&&(h|=4),aE(l,s,h,a)}var pf="_reactListening"+Math.random().toString(36).slice(2);function um(s){if(!s[pf]){s[pf]=!0,Xl.forEach(function(l){l!=="selectionchange"&&(eC.has(l)||cm(l,!1,s),cm(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[pf]||(a[pf]=!0,cm("selectionchange",!1,a))}}function aE(s,a,l,h){switch(DE(a)){case 2:var g=CC;break;case 8:g=IC;break;default:g=Sm}l=g.bind(null,a,l,s),g=void 0,!Xn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function hm(s,a,l,h,g){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var I=h.stateNode.containerInfo;if(I===g)break;if(T===4)for(T=h.return;T!==null;){var U=T.tag;if((U===3||U===4)&&T.stateNode.containerInfo===g)return;T=T.return}for(;I!==null;){if(T=ls(I),T===null)return;if(U=T.tag,U===5||U===6||U===26||U===27){h=y=T;continue t}I=I.parentNode}}h=h.return}gh(function(){var K=y,st=Qn(l),lt=[];t:{var X=B0.get(s);if(X!==void 0){var Z=bo,Rt=s;switch(s){case"keypress":if(Ni(l)===0)break t;case"keydown":case"keyup":Z=Ao;break;case"focusin":Rt="focus",Z=To;break;case"focusout":Rt="blur",Z=To;break;case"beforeblur":case"afterblur":Z=To;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Lp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Th;break;case L0:case j0:case U0:Z=So;break;case z0:Z=wh;break;case"scroll":case"scrollend":Z=mh;break;case"wheel":Z=Ro;break;case"copy":case"cut":case"paste":Z=wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=cc;break;case"toggle":case"beforetoggle":Z=Rh}var Tt=(a&4)!==0,ie=!Tt&&(s==="scroll"||s==="scrollend"),G=Tt?X!==null?X+"Capture":null:X;Tt=[];for(var H=K,W;H!==null;){var rt=H;if(W=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||W===null||G===null||(rt=pa(H,G),rt!=null&&Tt.push(zc(H,rt,W))),ie)break;H=H.return}0<Tt.length&&(X=new Z(X,Rt,null,l,st),lt.push({event:X,listeners:Tt}))}}if((a&7)===0){t:{if(X=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",X&&l!==fs&&(Rt=l.relatedTarget||l.fromElement)&&(ls(Rt)||Rt[Wn]))break t;if((Z||X)&&(X=st.window===st?st:(X=st.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(Rt=l.relatedTarget||l.toElement,Z=K,Rt=Rt?ls(Rt):null,Rt!==null&&(ie=o(Rt),Tt=Rt.tag,Rt!==ie||Tt!==5&&Tt!==27&&Tt!==6)&&(Rt=null)):(Z=null,Rt=K),Z!==Rt)){if(Tt=Zn,rt="onMouseLeave",G="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(Tt=cc,rt="onPointerLeave",G="onPointerEnter",H="pointer"),ie=Z==null?X:Mi(Z),W=Rt==null?X:Mi(Rt),X=new Tt(rt,H+"leave",Z,l,st),X.target=ie,X.relatedTarget=W,rt=null,ls(st)===K&&(Tt=new Tt(G,H+"enter",Rt,l,st),Tt.target=W,Tt.relatedTarget=ie,rt=Tt),ie=rt,Z&&Rt)e:{for(Tt=Z,G=Rt,H=0,W=Tt;W;W=Zo(W))H++;for(W=0,rt=G;rt;rt=Zo(rt))W++;for(;0<H-W;)Tt=Zo(Tt),H--;for(;0<W-H;)G=Zo(G),W--;for(;H--;){if(Tt===G||G!==null&&Tt===G.alternate)break e;Tt=Zo(Tt),G=Zo(G)}Tt=null}else Tt=null;Z!==null&&oE(lt,X,Z,Tt,!1),Rt!==null&&ie!==null&&oE(lt,ie,Rt,Tt,!0)}}t:{if(X=K?Mi(K):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var _t=A0;else if(Ve(X))if(R0)_t=p2;else{_t=f2;var Ot=h2}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&nc(K.elementType)&&(_t=A0):_t=d2;if(_t&&(_t=_t(s,K))){ys(lt,_t,l,st);break t}Ot&&Ot(s,X,K),s==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&er(X,"number",X.value)}switch(Ot=K?Mi(K):window,s){case"focusin":(Ve(Ot)||Ot.contentEditable==="true")&&(Co=Ot,Fp=K,fc=null);break;case"focusout":fc=Fp=Co=null;break;case"mousedown":Hp=!0;break;case"contextmenu":case"mouseup":case"dragend":Hp=!1,N0(lt,l,st);break;case"selectionchange":if(m2)break;case"keydown":case"keyup":N0(lt,l,st)}var Et;if(ji)t:{switch(s){case"compositionstart":var St="onCompositionStart";break t;case"compositionend":St="onCompositionEnd";break t;case"compositionupdate":St="onCompositionUpdate";break t}St=void 0}else Ut?et(s,l)&&(St="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(St="onCompositionStart");St&&(x&&l.locale!=="ko"&&(Ut||St!=="onCompositionStart"?St==="onCompositionEnd"&&Ut&&(Et=sc()):(Pi=st,nr="value"in Pi?Pi.value:Pi.textContent,Ut=!0)),Ot=gf(K,St),0<Ot.length&&(St=new oc(St,s,null,l,st),lt.push({event:St,listeners:Ot}),Et?St.data=Et:(Et=dt(l),Et!==null&&(St.data=Et)))),(Et=b?Ne(s,l):zt(s,l))&&(St=gf(K,"onBeforeInput"),0<St.length&&(Ot=new oc("onBeforeInput","beforeinput",null,l,st),lt.push({event:Ot,listeners:St}),Ot.data=Et)),Z2(lt,s,K,l,st)}rE(lt,a)})}function zc(s,a,l){return{instance:s,listener:a,currentTarget:l}}function gf(s,a){for(var l=a+"Capture",h=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=pa(s,l),g!=null&&h.unshift(zc(s,g,y)),g=pa(s,a),g!=null&&h.push(zc(s,g,y))),s.tag===3)return h;s=s.return}return[]}function Zo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function oE(s,a,l,h,g){for(var y=a._reactName,T=[];l!==null&&l!==h;){var I=l,U=I.alternate,K=I.stateNode;if(I=I.tag,U!==null&&U===h)break;I!==5&&I!==26&&I!==27||K===null||(U=K,g?(K=pa(l,y),K!=null&&T.unshift(zc(l,K,U))):g||(K=pa(l,y),K!=null&&T.push(zc(l,K,U)))),l=l.return}T.length!==0&&s.push({event:a,listeners:T})}var nC=/\r\n?/g,iC=/\u0000|\uFFFD/g;function lE(s){return(typeof s=="string"?s:""+s).replace(nC,`
`).replace(iC,"")}function cE(s,a){return a=lE(a),lE(s)===a}function mf(){}function ne(s,a,l,h,g,y){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Kn(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Kn(s,""+h);break;case"className":Oi(s,"class",h);break;case"tabIndex":Oi(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Oi(s,l,h);break;case"style":ec(s,h,y);break;case"data":if(a!=="object"){Oi(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(l);break}h=vo(""+h),s.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ne(s,a,"name",g.name,g,null),ne(s,a,"formEncType",g.formEncType,g,null),ne(s,a,"formMethod",g.formMethod,g,null),ne(s,a,"formTarget",g.formTarget,g,null)):(ne(s,a,"encType",g.encType,g,null),ne(s,a,"method",g.method,g,null),ne(s,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(l);break}h=vo(""+h),s.setAttribute(l,h);break;case"onClick":h!=null&&(s.onclick=mf);break;case"onScroll":h!=null&&Pt("scroll",s);break;case"onScrollEnd":h!=null&&Pt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}l=vo(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,""+h):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":h===!0?s.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(l,h):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(l,h):s.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(l):s.setAttribute(l,h);break;case"popover":Pt("beforetoggle",s),Pt("toggle",s),tr(s,"popover",h);break;case"xlinkActuate":Xe(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Xe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Xe(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Xe(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Xe(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Xe(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Xe(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Xe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Xe(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":tr(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Np.get(l)||l,tr(s,l,h))}}function fm(s,a,l,h,g,y){switch(l){case"style":ec(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(l=h.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof h=="string"?Kn(s,h):(typeof h=="number"||typeof h=="bigint")&&Kn(s,""+h);break;case"onScroll":h!=null&&Pt("scroll",s);break;case"onScrollEnd":h!=null&&Pt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=mf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!po.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),y=s[Re]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,h,g);break t}l in s?s[l]=h:h===!0?s.setAttribute(l,""):tr(s,l,h)}}}function en(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",s),Pt("load",s);var h=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(s,a,y,T,l,null)}}g&&ne(s,a,"srcSet",l.srcSet,l,null),h&&ne(s,a,"src",l.src,l,null);return;case"input":Pt("invalid",s);var I=y=T=g=null,U=null,K=null;for(h in l)if(l.hasOwnProperty(h)){var st=l[h];if(st!=null)switch(h){case"name":g=st;break;case"type":T=st;break;case"checked":U=st;break;case"defaultChecked":K=st;break;case"value":y=st;break;case"defaultValue":I=st;break;case"children":case"dangerouslySetInnerHTML":if(st!=null)throw Error(i(137,a));break;default:ne(s,a,h,st,l,null)}}ha(s,y,I,U,K,T,g,!1),_o(s);return;case"select":Pt("invalid",s),h=T=y=null;for(g in l)if(l.hasOwnProperty(g)&&(I=l[g],I!=null))switch(g){case"value":y=I;break;case"defaultValue":T=I;break;case"multiple":h=I;default:ne(s,a,g,I,l,null)}a=y,l=T,s.multiple=!!h,a!=null?hs(s,!!h,a,!1):l!=null&&hs(s,!!h,l,!0);return;case"textarea":Pt("invalid",s),y=g=h=null;for(T in l)if(l.hasOwnProperty(T)&&(I=l[T],I!=null))switch(T){case"value":h=I;break;case"defaultValue":g=I;break;case"children":y=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:ne(s,a,T,I,l,null)}fa(s,h,g,y),_o(s);return;case"option":for(U in l)if(l.hasOwnProperty(U)&&(h=l[U],h!=null))switch(U){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ne(s,a,U,h,l,null)}return;case"dialog":Pt("beforetoggle",s),Pt("toggle",s),Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":Pt("load",s);break;case"video":case"audio":for(h=0;h<Uc.length;h++)Pt(Uc[h],s);break;case"image":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"embed":case"source":case"link":Pt("error",s),Pt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(h=l[K],h!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ne(s,a,K,h,l,null)}return;default:if(nc(a)){for(st in l)l.hasOwnProperty(st)&&(h=l[st],h!==void 0&&fm(s,a,st,h,l,void 0));return}}for(I in l)l.hasOwnProperty(I)&&(h=l[I],h!=null&&ne(s,a,I,h,l,null))}function sC(s,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,T=null,I=null,U=null,K=null,st=null;for(Z in l){var lt=l[Z];if(l.hasOwnProperty(Z)&&lt!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":U=lt;default:h.hasOwnProperty(Z)||ne(s,a,Z,null,h,lt)}}for(var X in h){var Z=h[X];if(lt=l[X],h.hasOwnProperty(X)&&(Z!=null||lt!=null))switch(X){case"type":y=Z;break;case"name":g=Z;break;case"checked":K=Z;break;case"defaultChecked":st=Z;break;case"value":T=Z;break;case"defaultValue":I=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Z!==lt&&ne(s,a,X,Z,h,lt)}}On(s,T,I,U,K,st,y,g);return;case"select":Z=T=I=X=null;for(y in l)if(U=l[y],l.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":Z=U;default:h.hasOwnProperty(y)||ne(s,a,y,null,h,U)}for(g in h)if(y=h[g],U=l[g],h.hasOwnProperty(g)&&(y!=null||U!=null))switch(g){case"value":X=y;break;case"defaultValue":I=y;break;case"multiple":T=y;default:y!==U&&ne(s,a,g,y,h,U)}a=I,l=T,h=Z,X!=null?hs(s,!!l,X,!1):!!h!=!!l&&(a!=null?hs(s,!!l,a,!0):hs(s,!!l,l?[]:"",!1));return;case"textarea":Z=X=null;for(I in l)if(g=l[I],l.hasOwnProperty(I)&&g!=null&&!h.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:ne(s,a,I,null,h,g)}for(T in h)if(g=h[T],y=l[T],h.hasOwnProperty(T)&&(g!=null||y!=null))switch(T){case"value":X=g;break;case"defaultValue":Z=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&ne(s,a,T,g,h,y)}te(s,X,Z);return;case"option":for(var Rt in l)if(X=l[Rt],l.hasOwnProperty(Rt)&&X!=null&&!h.hasOwnProperty(Rt))switch(Rt){case"selected":s.selected=!1;break;default:ne(s,a,Rt,null,h,X)}for(U in h)if(X=h[U],Z=l[U],h.hasOwnProperty(U)&&X!==Z&&(X!=null||Z!=null))switch(U){case"selected":s.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ne(s,a,U,X,h,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in l)X=l[Tt],l.hasOwnProperty(Tt)&&X!=null&&!h.hasOwnProperty(Tt)&&ne(s,a,Tt,null,h,X);for(K in h)if(X=h[K],Z=l[K],h.hasOwnProperty(K)&&X!==Z&&(X!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:ne(s,a,K,X,h,Z)}return;default:if(nc(a)){for(var ie in l)X=l[ie],l.hasOwnProperty(ie)&&X!==void 0&&!h.hasOwnProperty(ie)&&fm(s,a,ie,void 0,h,X);for(st in h)X=h[st],Z=l[st],!h.hasOwnProperty(st)||X===Z||X===void 0&&Z===void 0||fm(s,a,st,X,h,Z);return}}for(var G in l)X=l[G],l.hasOwnProperty(G)&&X!=null&&!h.hasOwnProperty(G)&&ne(s,a,G,null,h,X);for(lt in h)X=h[lt],Z=l[lt],!h.hasOwnProperty(lt)||X===Z||X==null&&Z==null||ne(s,a,lt,X,h,Z)}var dm=null,pm=null;function yf(s){return s.nodeType===9?s:s.ownerDocument}function uE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hE(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function gm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var mm=null;function rC(){var s=window.event;return s&&s.type==="popstate"?s===mm?!1:(mm=s,!0):(mm=null,!1)}var fE=typeof setTimeout=="function"?setTimeout:void 0,aC=typeof clearTimeout=="function"?clearTimeout:void 0,dE=typeof Promise=="function"?Promise:void 0,oC=typeof queueMicrotask=="function"?queueMicrotask:typeof dE<"u"?function(s){return dE.resolve(null).then(s).catch(lC)}:fE;function lC(s){setTimeout(function(){throw s})}function _r(s){return s==="head"}function pE(s,a){var l=a,h=0,g=0;do{var y=l.nextSibling;if(s.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<h&&8>h){l=h;var T=s.ownerDocument;if(l&1&&Bc(T.documentElement),l&2&&Bc(T.body),l&4)for(l=T.head,Bc(l),T=l.firstChild;T;){var I=T.nextSibling,U=T.nodeName;T[oa]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=I}}if(g===0){s.removeChild(y),Kc(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:h=l.charCodeAt(0)-48;else h=0;l=y}while(l);Kc(a)}function ym(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ym(l),Js(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function cC(s,a,l,h){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[oa])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=bi(s.nextSibling),s===null)break}return null}function uC(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=bi(s.nextSibling),s===null))return null;return s}function _m(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function hC(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function bi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var vm=null;function gE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function mE(s,a,l){switch(a=yf(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Bc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Js(s)}var ri=new Map,yE=new Set;function _f(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ds=J.d;J.d={f:fC,r:dC,D:pC,C:gC,L:mC,m:yC,X:vC,S:_C,M:bC};function fC(){var s=Ds.f(),a=cf();return s||a}function dC(s){var a=Di(s);a!==null&&a.tag===5&&a.type==="form"?Lv(a):Ds.r(s)}var Jo=typeof document>"u"?null:document;function _E(s,a,l){var h=Jo;if(h&&typeof a=="string"&&a){var g=Ce(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),yE.has(g)||(yE.add(g),s={rel:s,crossOrigin:l,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),en(a,"link",s),be(a),h.head.appendChild(a)))}}function pC(s){Ds.D(s),_E("dns-prefetch",s,null)}function gC(s,a){Ds.C(s,a),_E("preconnect",s,a)}function mC(s,a,l){Ds.L(s,a,l);var h=Jo;if(h&&s&&a){var g='link[rel="preload"][as="'+Ce(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Ce(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Ce(l.imageSizes)+'"]')):g+='[href="'+Ce(s)+'"]';var y=g;switch(a){case"style":y=tl(s);break;case"script":y=el(s)}ri.has(y)||(s=m({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),ri.set(y,s),h.querySelector(g)!==null||a==="style"&&h.querySelector(Fc(y))||a==="script"&&h.querySelector(Hc(y))||(a=h.createElement("link"),en(a,"link",s),be(a),h.head.appendChild(a)))}}function yC(s,a){Ds.m(s,a);var l=Jo;if(l&&s){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Ce(h)+'"][href="'+Ce(s)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=el(s)}if(!ri.has(y)&&(s=m({rel:"modulepreload",href:s},a),ri.set(y,s),l.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Hc(y)))return}h=l.createElement("link"),en(h,"link",s),be(h),l.head.appendChild(h)}}}function _C(s,a,l){Ds.S(s,a,l);var h=Jo;if(h&&s){var g=mn(h).hoistableStyles,y=tl(s);a=a||"default";var T=g.get(y);if(!T){var I={loading:0,preload:null};if(T=h.querySelector(Fc(y)))I.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":a},l),(l=ri.get(y))&&bm(s,l);var U=T=h.createElement("link");be(U),en(U,"link",s),U._p=new Promise(function(K,st){U.onload=K,U.onerror=st}),U.addEventListener("load",function(){I.loading|=1}),U.addEventListener("error",function(){I.loading|=2}),I.loading|=4,vf(T,a,h)}T={type:"stylesheet",instance:T,count:1,state:I},g.set(y,T)}}}function vC(s,a){Ds.X(s,a);var l=Jo;if(l&&s){var h=mn(l).hoistableScripts,g=el(s),y=h.get(g);y||(y=l.querySelector(Hc(g)),y||(s=m({src:s,async:!0},a),(a=ri.get(g))&&Em(s,a),y=l.createElement("script"),be(y),en(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function bC(s,a){Ds.M(s,a);var l=Jo;if(l&&s){var h=mn(l).hoistableScripts,g=el(s),y=h.get(g);y||(y=l.querySelector(Hc(g)),y||(s=m({src:s,async:!0,type:"module"},a),(a=ri.get(g))&&Em(s,a),y=l.createElement("script"),be(y),en(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function vE(s,a,l,h){var g=(g=vt.current)?_f(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=tl(l.href),l=mn(g).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=tl(l.href);var y=mn(g).hoistableStyles,T=y.get(s);if(T||(g=g.ownerDocument||g,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,T),(y=g.querySelector(Fc(s)))&&!y._p&&(T.instance=y,T.state.loading=5),ri.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ri.set(s,l),y||EC(g,s,l,T.state))),a&&h===null)throw Error(i(528,""));return T}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=el(l),l=mn(g).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function tl(s){return'href="'+Ce(s)+'"'}function Fc(s){return'link[rel="stylesheet"]['+s+"]"}function bE(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function EC(s,a,l,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),en(a,"link",l),be(a),s.head.appendChild(a))}function el(s){return'[src="'+Ce(s)+'"]'}function Hc(s){return"script[async]"+s}function EE(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Ce(l.href)+'"]');if(h)return a.instance=h,be(h),h;var g=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),be(h),en(h,"style",g),vf(h,l.precedence,s),a.instance=h;case"stylesheet":g=tl(l.href);var y=s.querySelector(Fc(g));if(y)return a.state.loading|=4,a.instance=y,be(y),y;h=bE(l),(g=ri.get(g))&&bm(h,g),y=(s.ownerDocument||s).createElement("link"),be(y);var T=y;return T._p=new Promise(function(I,U){T.onload=I,T.onerror=U}),en(y,"link",h),a.state.loading|=4,vf(y,l.precedence,s),a.instance=y;case"script":return y=el(l.src),(g=s.querySelector(Hc(y)))?(a.instance=g,be(g),g):(h=l,(g=ri.get(y))&&(h=m({},l),Em(h,g)),s=s.ownerDocument||s,g=s.createElement("script"),be(g),en(g,"link",h),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,vf(h,l.precedence,s));return a.instance}function vf(s,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,T=0;T<h.length;T++){var I=h[T];if(I.dataset.precedence===a)y=I;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function bm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Em(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var bf=null;function xE(s,a,l){if(bf===null){var h=new Map,g=bf=new Map;g.set(l,h)}else g=bf,h=g.get(l),h||(h=new Map,g.set(l,h));if(h.has(s))return h;for(h.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var y=l[g];if(!(y[oa]||y[Pe]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=s+T;var I=h.get(T);I?I.push(y):h.set(T,[y])}}return h}function TE(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function xC(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function SE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var qc=null;function TC(){}function SC(s,a,l){if(qc===null)throw Error(i(475));var h=qc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=tl(l.href),y=s.querySelector(Fc(g));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=Ef.bind(h),s.then(h,h)),a.state.loading|=4,a.instance=y,be(y);return}y=s.ownerDocument||s,l=bE(l),(g=ri.get(g))&&bm(l,g),y=y.createElement("link"),be(y);var T=y;T._p=new Promise(function(I,U){T.onload=I,T.onerror=U}),en(y,"link",l),a.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=Ef.bind(h),s.addEventListener("load",a),s.addEventListener("error",a))}}function wC(){if(qc===null)throw Error(i(475));var s=qc;return s.stylesheets&&s.count===0&&xm(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&xm(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Ef(){if(this.count--,this.count===0){if(this.stylesheets)xm(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var xf=null;function xm(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,xf=new Map,a.forEach(AC,s),xf=null,Ef.call(s))}function AC(s,a){if(!(a.state.loading&4)){var l=xf.get(s);if(l)var h=l.get(null);else{l=new Map,xf.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var T=g[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),h=T)}h&&l.set(null,h)}g=a.instance,T=g.getAttribute("data-precedence"),y=l.get(T)||h,y===h&&l.set(null,g),l.set(T,g),this.count++,h=Ef.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var $c={$$typeof:$,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function RC(s,a,l,h,g,y,T,I){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=as(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.hiddenUpdates=as(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function wE(s,a,l,h,g,y,T,I,U,K,st,lt){return s=new RC(s,a,l,T,I,U,K,lt),a=1,y===!0&&(a|=24),y=Pn(3,null,null,a),s.current=y,y.stateNode=s,a=ig(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:l,cache:a},og(y),s}function AE(s){return s?(s=Oo,s):Oo}function RE(s,a,l,h,g,y){g=AE(g),h.context===null?h.context=g:h.pendingContext=g,h=rr(a),h.payload={element:l},y=y===void 0?null:y,y!==null&&(h.callback=y),l=ar(s,h,a),l!==null&&(Un(l,s,a),Ec(l,s,a))}function CE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Tm(s,a){CE(s,a),(s=s.alternate)&&CE(s,a)}function IE(s){if(s.tag===13){var a=Mo(s,67108864);a!==null&&Un(a,s,67108864),Tm(s,67108864)}}var Tf=!0;function CC(s,a,l,h){var g=B.T;B.T=null;var y=J.p;try{J.p=2,Sm(s,a,l,h)}finally{J.p=y,B.T=g}}function IC(s,a,l,h){var g=B.T;B.T=null;var y=J.p;try{J.p=8,Sm(s,a,l,h)}finally{J.p=y,B.T=g}}function Sm(s,a,l,h){if(Tf){var g=wm(h);if(g===null)hm(s,a,h,Sf,l),ME(s,h);else if(MC(g,s,a,l,h))h.stopPropagation();else if(ME(s,h),a&4&&-1<DC.indexOf(s)){for(;g!==null;){var y=Di(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=gi(y.pendingLanes);if(T!==0){var I=y;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var U=1<<31-on(T);I.entanglements[1]|=U,T&=~U}qi(y),(Xt&6)===0&&(of=Yn()+500,jc(0))}}break;case 13:I=Mo(y,2),I!==null&&Un(I,y,2),cf(),Tm(y,2)}if(y=wm(h),y===null&&hm(s,a,h,Sf,l),y===g)break;g=y}g!==null&&h.stopPropagation()}else hm(s,a,h,null,l)}}function wm(s){return s=Qn(s),Am(s)}var Sf=null;function Am(s){if(Sf=null,s=ls(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Sf=s,null}function DE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ip()){case Hl:return 2;case co:return 8;case na:case Dp:return 32;case uo:return 268435456;default:return 32}default:return 32}}var Rm=!1,vr=null,br=null,Er=null,Gc=new Map,Yc=new Map,xr=[],DC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ME(s,a){switch(s){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Gc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(a.pointerId)}}function Wc(s,a,l,h,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},a!==null&&(a=Di(a),a!==null&&IE(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function MC(s,a,l,h,g){switch(a){case"focusin":return vr=Wc(vr,s,a,l,h,g),!0;case"dragenter":return br=Wc(br,s,a,l,h,g),!0;case"mouseover":return Er=Wc(Er,s,a,l,h,g),!0;case"pointerover":var y=g.pointerId;return Gc.set(y,Wc(Gc.get(y)||null,s,a,l,h,g)),!0;case"gotpointercapture":return y=g.pointerId,Yc.set(y,Wc(Yc.get(y)||null,s,a,l,h,g)),!0}return!1}function OE(s){var a=ls(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,lh(s.priority,function(){if(l.tag===13){var h=jn();h=Qs(h);var g=Mo(l,h);g!==null&&Un(g,l,h),Tm(l,h)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function wf(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=wm(s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);fs=h,l.target.dispatchEvent(h),fs=null}else return a=Di(l),a!==null&&IE(a),s.blockedOn=l,!1;a.shift()}return!0}function kE(s,a,l){wf(s)&&l.delete(a)}function OC(){Rm=!1,vr!==null&&wf(vr)&&(vr=null),br!==null&&wf(br)&&(br=null),Er!==null&&wf(Er)&&(Er=null),Gc.forEach(kE),Yc.forEach(kE)}function Af(s,a){s.blockedOn===a&&(s.blockedOn=null,Rm||(Rm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,OC)))}var Rf=null;function PE(s){Rf!==s&&(Rf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Rf===s&&(Rf=null);for(var a=0;a<s.length;a+=3){var l=s[a],h=s[a+1],g=s[a+2];if(typeof h!="function"){if(Am(h||l)===null)continue;break}var y=Di(l);y!==null&&(s.splice(a,3),a-=3,Ag(y,{pending:!0,data:g,method:l.method,action:h},h,g))}}))}function Kc(s){function a(U){return Af(U,s)}vr!==null&&Af(vr,s),br!==null&&Af(br,s),Er!==null&&Af(Er,s),Gc.forEach(a),Yc.forEach(a);for(var l=0;l<xr.length;l++){var h=xr[l];h.blockedOn===s&&(h.blockedOn=null)}for(;0<xr.length&&(l=xr[0],l.blockedOn===null);)OE(l),l.blockedOn===null&&xr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var g=l[h],y=l[h+1],T=g[Re]||null;if(typeof y=="function")T||PE(l);else if(T){var I=null;if(y&&y.hasAttribute("formAction")){if(g=y,T=y[Re]||null)I=T.formAction;else if(Am(g)!==null)continue}else I=T.action;typeof I=="function"?l[h+1]=I:(l.splice(h,3),h-=3),PE(l)}}}function Cm(s){this._internalRoot=s}Cf.prototype.render=Cm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,h=jn();RE(l,h,s,a,null,null)},Cf.prototype.unmount=Cm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;RE(s.current,2,null,s,null,null),cf(),a[Wn]=null}};function Cf(s){this._internalRoot=s}Cf.prototype.unstable_scheduleHydration=function(s){if(s){var a=Xs();s={blockedOn:null,target:s,priority:a};for(var l=0;l<xr.length&&a!==0&&a<xr[l].priority;l++);xr.splice(l,0,s),l===0&&OE(s)}};var NE=t.version;if(NE!=="19.1.0")throw Error(i(527,NE,"19.1.0"));J.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var kC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var If=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!If.isDisabled&&If.supportsFiber)try{ye=If.inject(kC),Qt=If}catch{}}return Xc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var l=!1,h="",g=Xv,y=Zv,T=Jv,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks)),a=wE(s,1,!1,null,null,l,h,g,y,T,I,null),s[Wn]=a.current,um(s),new Cm(a)},Xc.hydrateRoot=function(s,a,l){if(!r(s))throw Error(i(299));var h=!1,g="",y=Xv,T=Zv,I=Jv,U=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),a=wE(s,1,!0,a,l??null,h,g,y,T,I,U,K),a.context=AE(null),l=a.current,h=jn(),h=Qs(h),g=rr(h),g.callback=null,ar(l,g,h),l=h,a.current.lanes=l,os(a,l),qi(a),s[Wn]=a.current,um(s),new Cf(a)},Xc.version="19.1.0",Xc}var $E;function HC(){if($E)return Mm.exports;$E=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Mm.exports=FC(),Mm.exports}var qC=HC();const $C=i_(qC);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var GE="popstate";function GC(n={}){function t(i,r){let{pathname:o,search:c,hash:u}=i.location;return py("",{pathname:o,search:c,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:Su(r)}return WC(t,e,null,n)}function de(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Si(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YC(){return Math.random().toString(36).substring(2,10)}function YE(n,t){return{usr:n.state,key:n.key,idx:t}}function py(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Rl(t):t,state:e,key:t&&t.key||i||YC()}}function Su({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Rl(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function WC(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,u="POP",f=null,d=m();d==null&&(d=0,c.replaceState({...c.state,idx:d},""));function m(){return(c.state||{idx:null}).idx}function _(){u="POP";let A=m(),k=A==null?null:A-d;d=A,f&&f({action:u,location:C.location,delta:k})}function v(A,k){u="PUSH";let q=py(C.location,A,k);d=m()+1;let $=YE(q,d),tt=C.createHref(q);try{c.pushState($,"",tt)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;r.location.assign(tt)}o&&f&&f({action:u,location:C.location,delta:1})}function E(A,k){u="REPLACE";let q=py(C.location,A,k);d=m();let $=YE(q,d),tt=C.createHref(q);c.replaceState($,"",tt),o&&f&&f({action:u,location:C.location,delta:0})}function w(A){return KC(A)}let C={get action(){return u},get location(){return n(r,c)},listen(A){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(GE,_),f=A,()=>{r.removeEventListener(GE,_),f=null}},createHref(A){return t(r,A)},createURL:w,encodeLocation(A){let k=w(A);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:E,go(A){return c.go(A)}};return C}function KC(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),de(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Su(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function sS(n,t,e="/"){return QC(n,t,e,!1)}function QC(n,t,e,i){let r=typeof t=="string"?Rl(t):t,o=Fs(r.pathname||"/",e);if(o==null)return null;let c=rS(n);XC(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let d=lI(o);u=aI(c[f],d,i)}return u}function rS(n,t=[],e=[],i=""){let r=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(de(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let d=js([i,f.relativePath]),m=e.concat(f);o.children&&o.children.length>0&&(de(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),rS(o.children,t,m,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:sI(d,o.index),routesMeta:m})};return n.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))r(o,c);else for(let u of aS(o.path))r(o,c,u)}),t}function aS(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=aS(i.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&u.push(...c),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function XC(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:rI(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var ZC=/^:[\w-]+$/,JC=3,tI=2,eI=1,nI=10,iI=-2,WE=n=>n==="*";function sI(n,t){let e=n.split("/"),i=e.length;return e.some(WE)&&(i+=iI),t&&(i+=tI),e.filter(r=>!WE(r)).reduce((r,o)=>r+(ZC.test(o)?JC:o===""?eI:nI),i)}function rI(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function aI(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let u=0;u<i.length;++u){let f=i[u],d=u===i.length-1,m=o==="/"?t:t.slice(o.length)||"/",_=md({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},m),v=f.route;if(!_&&d&&e&&!i[i.length-1].route.index&&(_=md({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!_)return null;Object.assign(r,_.params),c.push({params:r,pathname:js([o,_.pathname]),pathnameBase:fI(js([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=js([o,_.pathnameBase]))}return c}function md(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=oI(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((d,{paramName:m,isOptional:_},v)=>{if(m==="*"){let w=u[v]||"";c=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const E=u[v];return _&&!E?d[m]=void 0:d[m]=(E||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:c,pattern:n}}function oI(n,t=!1,e=!0){Si(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function lI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Si(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Fs(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function cI(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Rl(n):n;return{pathname:e?e.startsWith("/")?e:uI(e,t):t,search:dI(i),hash:pI(r)}}function uI(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Nm(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function s_(n){let t=hI(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function r_(n,t,e,i=!1){let r;typeof n=="string"?r=Rl(n):(r={...n},de(!r.pathname||!r.pathname.includes("?"),Nm("?","pathname","search",r)),de(!r.pathname||!r.pathname.includes("#"),Nm("#","pathname","hash",r)),de(!r.search||!r.search.includes("#"),Nm("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,u;if(c==null)u=e;else{let _=t.length-1;if(!i&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),_-=1;r.pathname=v.join("/")}u=_>=0?t[_]:"/"}let f=cI(r,u),d=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||m)&&(f.pathname+="/"),f}var js=n=>n.join("/").replace(/\/\/+/g,"/"),fI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,pI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function gI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var oS=["POST","PUT","PATCH","DELETE"];new Set(oS);var mI=["GET",...oS];new Set(mI);var Cl=F.createContext(null);Cl.displayName="DataRouter";var Qd=F.createContext(null);Qd.displayName="DataRouterState";F.createContext(!1);var lS=F.createContext({isTransitioning:!1});lS.displayName="ViewTransition";var yI=F.createContext(new Map);yI.displayName="Fetchers";var _I=F.createContext(null);_I.displayName="Await";var Ci=F.createContext(null);Ci.displayName="Navigation";var Hu=F.createContext(null);Hu.displayName="Location";var rs=F.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var a_=F.createContext(null);a_.displayName="RouteError";function vI(n,{relative:t}={}){de(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=F.useContext(Ci),{hash:r,pathname:o,search:c}=qu(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:js([e,o])),i.createHref({pathname:u,search:c,hash:r})}function Il(){return F.useContext(Hu)!=null}function Ws(){return de(Il(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(Hu).location}var cS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uS(n){F.useContext(Ci).static||F.useLayoutEffect(n)}function Dl(){let{isDataRoute:n}=F.useContext(rs);return n?OI():bI()}function bI(){de(Il(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(Cl),{basename:t,navigator:e}=F.useContext(Ci),{matches:i}=F.useContext(rs),{pathname:r}=Ws(),o=JSON.stringify(s_(i)),c=F.useRef(!1);return uS(()=>{c.current=!0}),F.useCallback((f,d={})=>{if(Si(c.current,cS),!c.current)return;if(typeof f=="number"){e.go(f);return}let m=r_(f,JSON.parse(o),r,d.relative==="path");n==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:js([t,m.pathname])),(d.replace?e.replace:e.push)(m,d.state,d)},[t,e,o,r,n])}F.createContext(null);function qu(n,{relative:t}={}){let{matches:e}=F.useContext(rs),{pathname:i}=Ws(),r=JSON.stringify(s_(e));return F.useMemo(()=>r_(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function EI(n,t){return hS(n,t)}function hS(n,t,e,i){de(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=F.useContext(Ci),{matches:o}=F.useContext(rs),c=o[o.length-1],u=c?c.params:{},f=c?c.pathname:"/",d=c?c.pathnameBase:"/",m=c&&c.route;{let k=m&&m.path||"";fS(f,!m||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let _=Ws(),v;if(t){let k=typeof t=="string"?Rl(t):t;de(d==="/"||k.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${k.pathname}" was given in the \`location\` prop.`),v=k}else v=_;let E=v.pathname||"/",w=E;if(d!=="/"){let k=d.replace(/^\//,"").split("/");w="/"+E.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=sS(n,{pathname:w});Si(m||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Si(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=AI(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:js([d,r.encodeLocation?r.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:js([d,r.encodeLocation?r.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,e,i);return t&&A?F.createElement(Hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},A):A}function xI(){let n=MI(),t=gI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:o},"ErrorBoundary")," or"," ",F.createElement("code",{style:o},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),e?F.createElement("pre",{style:r},e):null,c)}var TI=F.createElement(xI,null),SI=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?F.createElement(rs.Provider,{value:this.props.routeContext},F.createElement(a_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wI({routeContext:n,match:t,children:e}){let i=F.useContext(Cl);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(rs.Provider,{value:n},e)}function AI(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e?.errors;if(o!=null){let f=r.findIndex(d=>d.route.id&&o?.[d.route.id]!==void 0);de(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let c=!1,u=-1;if(e)for(let f=0;f<r.length;f++){let d=r[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:m,errors:_}=e,v=d.route.loader&&!m.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||v){c=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((f,d,m)=>{let _,v=!1,E=null,w=null;e&&(_=o&&d.route.id?o[d.route.id]:void 0,E=d.route.errorElement||TI,c&&(u<0&&m===0?(fS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):u===m&&(v=!0,w=d.route.hydrateFallbackElement||null)));let C=t.concat(r.slice(0,m+1)),A=()=>{let k;return _?k=E:v?k=w:d.route.Component?k=F.createElement(d.route.Component,null):d.route.element?k=d.route.element:k=f,F.createElement(wI,{match:d,routeContext:{outlet:f,matches:C,isDataRoute:e!=null},children:k})};return e&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?F.createElement(SI,{location:e.location,revalidation:e.revalidation,component:E,error:_,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):A()},null)}function o_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RI(n){let t=F.useContext(Cl);return de(t,o_(n)),t}function CI(n){let t=F.useContext(Qd);return de(t,o_(n)),t}function II(n){let t=F.useContext(rs);return de(t,o_(n)),t}function l_(n){let t=II(n),e=t.matches[t.matches.length-1];return de(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function DI(){return l_("useRouteId")}function MI(){let n=F.useContext(a_),t=CI("useRouteError"),e=l_("useRouteError");return n!==void 0?n:t.errors?.[e]}function OI(){let{router:n}=RI("useNavigate"),t=l_("useNavigate"),e=F.useRef(!1);return uS(()=>{e.current=!0}),F.useCallback(async(r,o={})=>{Si(e.current,cS),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var KE={};function fS(n,t,e){!t&&!KE[n]&&(KE[n]=!0,Si(!1,e))}F.memo(kI);function kI({routes:n,future:t,state:e}){return hS(n,void 0,e,t)}function dS({to:n,replace:t,state:e,relative:i}){de(Il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=F.useContext(Ci);Si(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=F.useContext(rs),{pathname:c}=Ws(),u=Dl(),f=r_(n,s_(o),c,i==="path"),d=JSON.stringify(f);return F.useEffect(()=>{u(JSON.parse(d),{replace:t,state:e,relative:i})},[u,d,i,t,e]),null}function wr(n){de(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PI({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){de(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=F.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof e=="string"&&(e=Rl(e));let{pathname:f="/",search:d="",hash:m="",state:_=null,key:v="default"}=e,E=F.useMemo(()=>{let w=Fs(f,c);return w==null?null:{location:{pathname:w,search:d,hash:m,state:_,key:v},navigationType:i}},[c,f,d,m,_,v,i]);return Si(E!=null,`<Router basename="${c}"> is not able to match the URL "${f}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:F.createElement(Ci.Provider,{value:u},F.createElement(Hu.Provider,{children:t,value:E}))}function NI({children:n,location:t}){return EI(gy(n),t)}function gy(n,t=[]){let e=[];return F.Children.forEach(n,(i,r)=>{if(!F.isValidElement(i))return;let o=[...t,r];if(i.type===F.Fragment){e.push.apply(e,gy(i.props.children,o));return}de(i.type===wr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),de(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=gy(i.props.children,o)),e.push(c)}),e}var td="get",ed="application/x-www-form-urlencoded";function Xd(n){return n!=null&&typeof n.tagName=="string"}function VI(n){return Xd(n)&&n.tagName.toLowerCase()==="button"}function LI(n){return Xd(n)&&n.tagName.toLowerCase()==="form"}function jI(n){return Xd(n)&&n.tagName.toLowerCase()==="input"}function UI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zI(n,t){return n.button===0&&(!t||t==="_self")&&!UI(n)}var Df=null;function BI(){if(Df===null)try{new FormData(document.createElement("form"),0),Df=!1}catch{Df=!0}return Df}var FI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vm(n){return n!=null&&!FI.has(n)?(Si(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ed}"`),null):n}function HI(n,t){let e,i,r,o,c;if(LI(n)){let u=n.getAttribute("action");i=u?Fs(u,t):null,e=n.getAttribute("method")||td,r=Vm(n.getAttribute("enctype"))||ed,o=new FormData(n)}else if(VI(n)||jI(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(i=f?Fs(f,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||td,r=Vm(n.getAttribute("formenctype"))||Vm(u.getAttribute("enctype"))||ed,o=new FormData(u,n),!BI()){let{name:d,type:m,value:_}=n;if(m==="image"){let v=d?`${d}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else d&&o.append(d,_)}}else{if(Xd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=td,i=null,r=ed,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function c_(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function qI(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Fs(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function $I(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function YI(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await $I(o,e);return c.links?c.links():[]}return[]}));return XI(i.flat(1).filter(GI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function QE(n,t,e,i,r,o){let c=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,u=(f,d)=>e[d].pathname!==f.pathname||e[d].route.path?.endsWith("*")&&e[d].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,d)=>c(f,d)||u(f,d)):o==="data"?t.filter((f,d)=>{let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function WI(n,t,{includeHydrateFallback:e}={}){return KI(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function KI(n){return[...new Set(n)]}function QI(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function XI(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(QI(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function pS(){let n=F.useContext(Cl);return c_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ZI(){let n=F.useContext(Qd);return c_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var u_=F.createContext(void 0);u_.displayName="FrameworkContext";function gS(){let n=F.useContext(u_);return c_(n,"You must render this element inside a <HydratedRouter> element"),n}function JI(n,t){let e=F.useContext(u_),[i,r]=F.useState(!1),[o,c]=F.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:m,onTouchStart:_}=t,v=F.useRef(null);F.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let C=k=>{k.forEach(q=>{c(q.isIntersecting)})},A=new IntersectionObserver(C,{threshold:.5});return v.current&&A.observe(v.current),()=>{A.disconnect()}}},[n]),F.useEffect(()=>{if(i){let C=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(C)}}},[i]);let E=()=>{r(!0)},w=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Zc(u,E),onBlur:Zc(f,w),onMouseEnter:Zc(d,E),onMouseLeave:Zc(m,w),onTouchStart:Zc(_,E)}]:[!1,v,{}]}function Zc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function tD({page:n,...t}){let{router:e}=pS(),i=F.useMemo(()=>sS(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?F.createElement(nD,{page:n,matches:i,...t}):null}function eD(n){let{manifest:t,routeModules:e}=gS(),[i,r]=F.useState([]);return F.useEffect(()=>{let o=!1;return YI(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function nD({page:n,matches:t,...e}){let i=Ws(),{manifest:r,routeModules:o}=gS(),{basename:c}=pS(),{loaderData:u,matches:f}=ZI(),d=F.useMemo(()=>QE(n,t,f,r,i,"data"),[n,t,f,r,i]),m=F.useMemo(()=>QE(n,t,f,r,i,"assets"),[n,t,f,r,i]),_=F.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,C=!1;if(t.forEach(k=>{let q=r.routes[k.route.id];!q||!q.hasLoader||(!d.some($=>$.route.id===k.route.id)&&k.route.id in u&&o[k.route.id]?.shouldRevalidate||q.hasClientLoader?C=!0:w.add(k.route.id))}),w.size===0)return[];let A=qI(n,c,"data");return C&&w.size>0&&A.searchParams.set("_routes",t.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[A.pathname+A.search]},[c,u,i,r,d,t,n,o]),v=F.useMemo(()=>WI(m,r),[m,r]),E=eD(m);return F.createElement(F.Fragment,null,_.map(w=>F.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),v.map(w=>F.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),E.map(({key:w,link:C})=>F.createElement("link",{key:w,...C})))}function iD(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var mS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mS&&(window.__reactRouterVersion="7.7.0")}catch{}function sD({basename:n,children:t,window:e}){let i=F.useRef();i.current==null&&(i.current=GC({window:e,v5Compat:!0}));let r=i.current,[o,c]=F.useState({action:r.action,location:r.location}),u=F.useCallback(f=>{F.startTransition(()=>c(f))},[c]);return F.useLayoutEffect(()=>r.listen(u),[r,u]),F.createElement(PI,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var yS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_S=F.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:u,target:f,to:d,preventScrollReset:m,viewTransition:_,...v},E){let{basename:w}=F.useContext(Ci),C=typeof d=="string"&&yS.test(d),A,k=!1;if(typeof d=="string"&&C&&(A=d,mS))try{let M=new URL(window.location.href),N=d.startsWith("//")?new URL(M.protocol+d):new URL(d),P=Fs(N.pathname,w);N.origin===M.origin&&P!=null?d=P+N.search+N.hash:k=!0}catch{Si(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=vI(d,{relative:r}),[$,tt,L]=JI(i,v),Q=lD(d,{replace:c,state:u,target:f,preventScrollReset:m,relative:r,viewTransition:_});function O(M){t&&t(M),M.defaultPrevented||Q(M)}let R=F.createElement("a",{...v,...L,href:A||q,onClick:k||o?t:O,ref:iD(E,tt),target:f,"data-discover":!C&&e==="render"?"true":void 0});return $&&!C?F.createElement(F.Fragment,null,R,F.createElement(tD,{page:q})):R});_S.displayName="Link";var rD=F.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:u,children:f,...d},m){let _=qu(c,{relative:d.relative}),v=Ws(),E=F.useContext(Qd),{navigator:w,basename:C}=F.useContext(Ci),A=E!=null&&dD(_)&&u===!0,k=w.encodeLocation?w.encodeLocation(_).pathname:_.pathname,q=v.pathname,$=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(q=q.toLowerCase(),$=$?$.toLowerCase():null,k=k.toLowerCase()),$&&C&&($=Fs($,C)||$);const tt=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let L=q===k||!r&&q.startsWith(k)&&q.charAt(tt)==="/",Q=$!=null&&($===k||!r&&$.startsWith(k)&&$.charAt(k.length)==="/"),O={isActive:L,isPending:Q,isTransitioning:A},R=L?t:void 0,M;typeof i=="function"?M=i(O):M=[i,L?"active":null,Q?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(O):o;return F.createElement(_S,{...d,"aria-current":R,className:M,ref:m,style:N,to:c,viewTransition:u},typeof f=="function"?f(O):f)});rD.displayName="NavLink";var aD=F.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=td,action:u,onSubmit:f,relative:d,preventScrollReset:m,viewTransition:_,...v},E)=>{let w=hD(),C=fD(u,{relative:d}),A=c.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&yS.test(u),q=$=>{if(f&&f($),$.defaultPrevented)return;$.preventDefault();let tt=$.nativeEvent.submitter,L=tt?.getAttribute("formmethod")||c;w(tt||$.currentTarget,{fetcherKey:t,method:L,navigate:e,replace:r,state:o,relative:d,preventScrollReset:m,viewTransition:_})};return F.createElement("form",{ref:E,method:A,action:C,onSubmit:i?f:q,...v,"data-discover":!k&&n==="render"?"true":void 0})});aD.displayName="Form";function oD(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vS(n){let t=F.useContext(Cl);return de(t,oD(n)),t}function lD(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let u=Dl(),f=Ws(),d=qu(n,{relative:o});return F.useCallback(m=>{if(zI(m,t)){m.preventDefault();let _=e!==void 0?e:Su(f)===Su(d);u(n,{replace:_,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[f,u,d,e,i,t,n,r,o,c])}var cD=0,uD=()=>`__${String(++cD)}__`;function hD(){let{router:n}=vS("useSubmit"),{basename:t}=F.useContext(Ci),e=DI();return F.useCallback(async(i,r={})=>{let{action:o,method:c,encType:u,formData:f,body:d}=HI(i,t);if(r.navigate===!1){let m=r.fetcherKey||uD();await n.fetch(m,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||c,formEncType:r.encType||u,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:d,formMethod:r.method||c,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function fD(n,{relative:t}={}){let{basename:e}=F.useContext(Ci),i=F.useContext(rs);de(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...qu(n||".",{relative:t})},c=Ws();if(n==null){o.search=c.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(_=>_).forEach(_=>u.append("index",_));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:js([e,o.pathname])),Su(o)}function dD(n,t={}){let e=F.useContext(lS);de(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=vS("useViewTransitionState"),r=qu(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=Fs(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Fs(e.nextLocation.pathname,i)||e.nextLocation.pathname;return md(r.pathname,c)!=null||md(r.pathname,o)!=null}const pD=()=>{};var XE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},gD=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],u=n[e++],f=((r&7)<<18|(o&63)<<12|(c&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},ES={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,u=c?n[r+1]:0,f=r+2<n.length,d=f?n[r+2]:0,m=o>>2,_=(o&3)<<4|u>>4;let v=(u&15)<<2|d>>6,E=d&63;f||(E=64,c||(v=64)),i.push(e[m],e[_],e[v],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(bS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):gD(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const d=r<n.length?e[n.charAt(r)]:64;++r;const _=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||u==null||d==null||_==null)throw new mD;const v=o<<2|u>>4;if(i.push(v),d!==64){const E=u<<4&240|d>>2;if(i.push(E),_!==64){const w=d<<6&192|_;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yD=function(n){const t=bS(n);return ES.encodeByteArray(t,!0)},yd=function(n){return yD(n).replace(/\./g,"")},xS=function(n){try{return ES.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=()=>_D().__FIREBASE_DEFAULTS__,bD=()=>{if(typeof process>"u"||typeof XE>"u")return;const n=XE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ED=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&xS(n[1]);return t&&JSON.parse(t)},Zd=()=>{try{return pD()||vD()||bD()||ED()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},TS=n=>Zd()?.emulatorHosts?.[n],xD=n=>{const t=TS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},SS=()=>Zd()?.config,wS=n=>Zd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[yd(JSON.stringify(e)),yd(JSON.stringify(c)),""].join(".")}const pu={};function wD(){const n={prod:[],emulator:[]};for(const t of Object.keys(pu))pu[t]?n.emulator.push(t):n.prod.push(t);return n}function AD(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let ZE=!1;function RS(n,t){if(typeof window>"u"||typeof document>"u"||!Ml(window.location.host)||pu[n]===t||pu[n]||ZE)return;pu[n]=t;function e(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=wD().prod.length>0;function c(){const v=document.getElementById(i);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{ZE=!0,c()},v}function m(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=AD(i),E=e("text"),w=document.getElementById(E)||document.createElement("span"),C=e("learnmore"),A=document.getElementById(C)||document.createElement("a"),k=e("preprendIcon"),q=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const $=v.element;u($),m(A,C);const tt=d();f(q,k),$.append(q,w,A,tt),document.body.appendChild($)}o?(w.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function CD(){const n=Zd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ID(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function MD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OD(){const n=gn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kD(){return!CD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PD(){try{return typeof indexedDB=="object"}catch{return!1}}function ND(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="FirebaseError";class Ks extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=VD,Object.setPrototypeOf(this,Ks.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$u.prototype.create)}}class $u{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?LD(o,i):"Error",u=`${this.serviceName}: ${c} (${r}).`;return new Ks(r,u,i)}}function LD(n,t){return n.replace(jD,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const jD=/\{\$([^}]+)}/g;function UD(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Br(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(JE(o)&&JE(c)){if(!Br(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function JE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function su(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function ru(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function zD(n,t){const e=new BD(n,t);return e.subscribe.bind(e)}class BD{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");FD(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Lm),r.error===void 0&&(r.error=Lm),r.complete===void 0&&(r.complete=Lm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FD(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(n){return n&&n._delegate?n._delegate:n}class Ka{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HD=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new TD;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($D(t))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ua){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ua){return this.instances.has(t)}getOptions(t=Ua){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&c.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:qD(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ua){return this.component?this.component.multipleInstances?t:Ua:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qD(n){return n===Ua?void 0:n}function $D(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new HD(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Vt||(Vt={}));const YD={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},WD=Vt.INFO,KD={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},QD=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=KD[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class h_{constructor(t){this.name=t,this._logLevel=WD,this._logHandler=QD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const XD=(n,t)=>t.some(e=>n instanceof e);let tx,ex;function ZD(){return tx||(tx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JD(){return ex||(ex=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CS=new WeakMap,my=new WeakMap,IS=new WeakMap,jm=new WeakMap,f_=new WeakMap;function tM(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(kr(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&CS.set(e,n)}).catch(()=>{}),f_.set(t,n),t}function eM(n){if(my.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});my.set(n,t)}let yy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return my.get(n);if(t==="objectStoreNames")return n.objectStoreNames||IS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return kr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function nM(n){yy=n(yy)}function iM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Um(this),t,...e);return IS.set(i,t.sort?t.sort():[t]),kr(i)}:JD().includes(n)?function(...t){return n.apply(Um(this),t),kr(CS.get(this))}:function(...t){return kr(n.apply(Um(this),t))}}function sM(n){return typeof n=="function"?iM(n):(n instanceof IDBTransaction&&eM(n),XD(n,ZD())?new Proxy(n,yy):n)}function kr(n){if(n instanceof IDBRequest)return tM(n);if(jm.has(n))return jm.get(n);const t=sM(n);return t!==n&&(jm.set(n,t),f_.set(t,n)),t}const Um=n=>f_.get(n);function rM(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),u=kr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(kr(c.result),f.oldVersion,f.newVersion,kr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),r&&f.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const aM=["get","getKey","getAll","getAllKeys","count"],oM=["put","add","delete","clear"],zm=new Map;function nx(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(zm.get(t))return zm.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=oM.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||aM.includes(e)))return;const o=async function(c,...u){const f=this.transaction(c,r?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[e](...u),r&&f.done]))[0]};return zm.set(t,o),o}nM(n=>({...n,get:(t,e,i)=>nx(t,e)||n.get(t,e,i),has:(t,e)=>!!nx(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(cM(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function cM(n){return n.getComponent()?.type==="VERSION"}const _y="@firebase/app",ix="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new h_("@firebase/app"),uM="@firebase/app-compat",hM="@firebase/analytics-compat",fM="@firebase/analytics",dM="@firebase/app-check-compat",pM="@firebase/app-check",gM="@firebase/auth",mM="@firebase/auth-compat",yM="@firebase/database",_M="@firebase/data-connect",vM="@firebase/database-compat",bM="@firebase/functions",EM="@firebase/functions-compat",xM="@firebase/installations",TM="@firebase/installations-compat",SM="@firebase/messaging",wM="@firebase/messaging-compat",AM="@firebase/performance",RM="@firebase/performance-compat",CM="@firebase/remote-config",IM="@firebase/remote-config-compat",DM="@firebase/storage",MM="@firebase/storage-compat",OM="@firebase/firestore",kM="@firebase/ai",PM="@firebase/firestore-compat",NM="firebase",VM="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="[DEFAULT]",LM={[_y]:"fire-core",[uM]:"fire-core-compat",[fM]:"fire-analytics",[hM]:"fire-analytics-compat",[pM]:"fire-app-check",[dM]:"fire-app-check-compat",[gM]:"fire-auth",[mM]:"fire-auth-compat",[yM]:"fire-rtdb",[_M]:"fire-data-connect",[vM]:"fire-rtdb-compat",[bM]:"fire-fn",[EM]:"fire-fn-compat",[xM]:"fire-iid",[TM]:"fire-iid-compat",[SM]:"fire-fcm",[wM]:"fire-fcm-compat",[AM]:"fire-perf",[RM]:"fire-perf-compat",[CM]:"fire-rc",[IM]:"fire-rc-compat",[DM]:"fire-gcs",[MM]:"fire-gcs-compat",[OM]:"fire-fst",[PM]:"fire-fst-compat",[kM]:"fire-vertex","fire-js":"fire-js",[NM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map,jM=new Map,by=new Map;function sx(n,t){try{n.container.addComponent(t)}catch(e){Hs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function gl(n){const t=n.name;if(by.has(t))return Hs.debug(`There were multiple attempts to register component ${t}.`),!1;by.set(t,n);for(const e of _d.values())sx(e,n);for(const e of jM.values())sx(e,n);return!0}function d_(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function li(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new $u("app","Firebase",UM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=VM;function DS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:vy,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Pr.create("bad-app-name",{appName:String(r)});if(e||(e=SS()),!e)throw Pr.create("no-options");const o=_d.get(r);if(o){if(Br(e,o.options)&&Br(i,o.config))return o;throw Pr.create("duplicate-app",{appName:r})}const c=new GD(r);for(const f of by.values())c.addComponent(f);const u=new zM(e,i,c);return _d.set(r,u),u}function MS(n=vy){const t=_d.get(n);if(!t&&n===vy&&SS())return DS();if(!t)throw Pr.create("no-app",{appName:n});return t}function Nr(n,t,e){let i=LM[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const c=[`Unable to register library "${i}" with version "${t}":`];r&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hs.warn(c.join(" "));return}gl(new Ka(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM="firebase-heartbeat-database",FM=1,wu="firebase-heartbeat-store";let Bm=null;function OS(){return Bm||(Bm=rM(BM,FM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(wu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Pr.create("idb-open",{originalErrorMessage:n.message})})),Bm}async function HM(n){try{const e=(await OS()).transaction(wu),i=await e.objectStore(wu).get(kS(n));return await e.done,i}catch(t){if(t instanceof Ks)Hs.warn(t.message);else{const e=Pr.create("idb-get",{originalErrorMessage:t?.message});Hs.warn(e.message)}}}async function rx(n,t){try{const i=(await OS()).transaction(wu,"readwrite");await i.objectStore(wu).put(t,kS(n)),await i.done}catch(e){if(e instanceof Ks)Hs.warn(e.message);else{const i=Pr.create("idb-set",{originalErrorMessage:e?.message});Hs.warn(i.message)}}}function kS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=1024,$M=30;class GM{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new WM(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ax();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>$M){const r=KM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ax(),{heartbeatsToSend:e,unsentEntries:i}=YM(this._heartbeatsCache.heartbeats),r=yd(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Hs.warn(t),""}}}function ax(){return new Date().toISOString().substring(0,10)}function YM(n,t=qM){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),ox(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),ox(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class WM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PD()?ND().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await HM(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return rx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return rx(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function ox(n){return yd(JSON.stringify({version:2,heartbeats:n})).length}function KM(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(n){gl(new Ka("platform-logger",t=>new lM(t),"PRIVATE")),gl(new Ka("heartbeat",t=>new GM(t),"PRIVATE")),Nr(_y,ix,n),Nr(_y,ix,"esm2020"),Nr("fire-js","")}QM("");function PS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XM=PS,NS=new $u("auth","Firebase",PS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new h_("@firebase/auth");function ZM(n,...t){vd.logLevel<=Vt.WARN&&vd.warn(`Auth (${Ol}): ${n}`,...t)}function nd(n,...t){vd.logLevel<=Vt.ERROR&&vd.error(`Auth (${Ol}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(n,...t){throw p_(n,...t)}function Qi(n,...t){return p_(n,...t)}function VS(n,t,e){const i={...XM(),[t]:e};return new $u("auth","Firebase",i).create(t,{appName:n.name})}function Us(n){return VS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p_(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return NS.create(n,...t)}function wt(n,t,...e){if(!n)throw p_(t,...e)}function Vs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw nd(t),new Error(t)}function qs(n,t){n||Vs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(){return typeof self<"u"&&self.location?.href||""}function JM(){return lx()==="http:"||lx()==="https:"}function lx(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JM()||DD()||"connection"in navigator)?navigator.onLine:!0}function eO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t,e){this.shortDelay=t,this.longDelay=e,qs(e>t,"Short delay should be less than long delay!"),this.isMobile=RD()||MD()}get(){return tO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(n,t){qs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sO=new Yu(3e4,6e4);function Qr(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Xr(n,t,e,i,r={}){return jS(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const u=Gu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:t,headers:f,...o};return ID()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Ml(n.emulatorConfig.host)&&(d.credentials="include"),LS.fetch()(await US(n,n.config.apiHost,e,u),d)})}async function jS(n,t,e){n._canInitEmulator=!1;const i={...nO,...t};try{const r=new aO(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Mf(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const u=o.ok?c.errorMessage:c.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mf(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Mf(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Mf(n,"user-disabled",c);const m=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw VS(n,m,d);wi(n,m)}}catch(r){if(r instanceof Ks)throw r;wi(n,"network-request-failed",{message:String(r)})}}async function Wu(n,t,e,i,r={}){const o=await Xr(n,t,e,i,r);return"mfaPendingCredential"in o&&wi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function US(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?g_(n.config,r):`${n.config.apiScheme}://${r}`;return iO.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function rO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Qi(this.auth,"network-request-failed")),sO.get())})}}function Mf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Qi(n,t,i);return r.customData._tokenResponse=e,r}function cx(n){return n!==void 0&&n.enterprise!==void 0}class oO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return rO(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lO(n,t){return Xr(n,"GET","/v2/recaptchaConfig",Qr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(n,t){return Xr(n,"POST","/v1/accounts:delete",t)}async function bd(n,t){return Xr(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function uO(n,t=!1){const e=Qe(n),i=await e.getIdToken(t),r=m_(i);wt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o?.sign_in_provider;return{claims:r,token:i,authTime:gu(Fm(r.auth_time)),issuedAtTime:gu(Fm(r.iat)),expirationTime:gu(Fm(r.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Fm(n){return Number(n)*1e3}function m_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return nd("JWT malformed, contained fewer than 3 sections"),null;try{const r=xS(e);return r?JSON.parse(r):(nd("Failed to decode base64 JWT payload"),null)}catch(r){return nd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function ux(n){const t=m_(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Ks&&hO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function hO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(n){const t=n.auth,e=await n.getIdToken(),i=await Au(n,bd(t,{idToken:e}));wt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?zS(r.providerUserInfo):[],c=pO(n.providerData,o),u=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!c?.length,d=u?f:!1,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new xy(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,m)}async function dO(n){const t=Qe(n);await Ed(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pO(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function zS(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(n,t){const e=await jS(n,{},async()=>{const i=Gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await US(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:u,body:i};return n.emulatorConfig&&Ml(n.emulatorConfig.host)&&(f.credentials="include"),LS.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function mO(n,t){return Xr(n,"POST","/v2/accounts:revokeToken",Qr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ux(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=ux(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await gO(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new ll;return i&&(wt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(wt(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(wt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return Vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class xi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new fO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new xy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Au(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return uO(this,t)}reload(){return dO(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new xi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Ed(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(Us(this.auth));const t=await this.getIdToken();return await Au(this,cO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,u=e.tenantId??void 0,f=e._redirectEventId??void 0,d=e.createdAt??void 0,m=e.lastLoginAt??void 0,{uid:_,emailVerified:v,isAnonymous:E,providerData:w,stsTokenManager:C}=e;wt(_&&C,t,"internal-error");const A=ll.fromJSON(this.name,C);wt(typeof _=="string",t,"internal-error"),Sr(i,t.name),Sr(r,t.name),wt(typeof v=="boolean",t,"internal-error"),wt(typeof E=="boolean",t,"internal-error"),Sr(o,t.name),Sr(c,t.name),Sr(u,t.name),Sr(f,t.name),Sr(d,t.name),Sr(m,t.name);const k=new xi({uid:_,auth:t,email:r,emailVerified:v,displayName:i,isAnonymous:E,photoURL:c,phoneNumber:o,tenantId:u,stsTokenManager:A,createdAt:d,lastLoginAt:m});return w&&Array.isArray(w)&&(k.providerData=w.map(q=>({...q}))),f&&(k._redirectEventId=f),k}static async _fromIdTokenResponse(t,e,i=!1){const r=new ll;r.updateFromServerResponse(e);const o=new xi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Ed(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];wt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?zS(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!o?.length,u=new ll;u.updateFromIdToken(i);const f=new xi({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:c}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new xy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=new Map;function Ls(n){qs(n instanceof Function,"Expected a class definition");let t=hx.get(n);return t?(qs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,hx.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}BS.type="NONE";const fx=BS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(n,t,e){return`firebase:${n}:${t}:${e}`}class cl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=id(this.userKey,r.apiKey,o),this.fullPersistenceKey=id("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await bd(this.auth,{idToken:t}).catch(()=>{});return e?xi._fromGetAccountInfoResponse(this.auth,e,t):null}return xi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new cl(Ls(fx),t,i);const r=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||Ls(fx);const c=id(i,t.config.apiKey,t.name);let u=null;for(const d of e)try{const m=await d._get(c);if(m){let _;if(typeof m=="string"){const v=await bd(t,{idToken:m}).catch(()=>{});if(!v)break;_=await xi._fromGetAccountInfoResponse(t,v,m)}else _=xi._fromJSON(t,m);d!==o&&(u=_),o=d;break}}catch{}const f=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new cl(o,t,i):(o=f[0],u&&await o._set(c,u.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(c)}catch{}})),new cl(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($S(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(FS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(YS(t))return"Blackberry";if(WS(t))return"Webos";if(HS(t))return"Safari";if((t.includes("chrome/")||qS(t))&&!t.includes("edge/"))return"Chrome";if(GS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function FS(n=gn()){return/firefox\//i.test(n)}function HS(n=gn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function qS(n=gn()){return/crios\//i.test(n)}function $S(n=gn()){return/iemobile/i.test(n)}function GS(n=gn()){return/android/i.test(n)}function YS(n=gn()){return/blackberry/i.test(n)}function WS(n=gn()){return/webos/i.test(n)}function y_(n=gn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function yO(n=gn()){return y_(n)&&!!window.navigator?.standalone}function _O(){return OD()&&document.documentMode===10}function KS(n=gn()){return y_(n)||GS(n)||WS(n)||YS(n)||/windows phone/i.test(n)||$S(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n,t=[]){let e;switch(n){case"Browser":e=dx(gn());break;case"Worker":e=`${dx(gn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ol}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,u)=>{try{const f=t(o);c(f)}catch(f){u(f)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(n,t={}){return Xr(n,"GET","/v2/passwordPolicy",Qr(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=6;class xO{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??EO,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new px(this),this.idTokenSubscription=new px(this),this.beforeStateQueue=new vO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ls(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await cl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await bd(this,{idToken:t}),i=await xi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(li(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===c)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Ed(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=eO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(li(this.app))return Promise.reject(Us(this));const e=t?Qe(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return li(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ls(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bO(this),e=new xO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $u("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await mO(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ls(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[Ls(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(u,this,"internal-error"),u.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,r);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=QS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ZM(`Error while retrieving App Check token: ${t.error}`),t?.token}}function io(n){return Qe(n)}class px{constructor(t){this.auth=t,this.observer=null,this.addObserver=zD(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SO(n){Jd=n}function XS(n){return Jd.loadJS(n)}function wO(){return Jd.recaptchaEnterpriseScript}function AO(){return Jd.gapiScript}function RO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class CO{constructor(){this.enterprise=new IO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class IO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const DO="recaptcha-enterprise",ZS="NO_RECAPTCHA";class MO{constructor(t){this.type=DO,this.auth=io(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,u)=>{lO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new oO(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,c(d.siteKey)}}).catch(f=>{u(f)})})}function r(o,c,u){const f=window.grecaptcha;cx(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{c(d)}).catch(()=>{c(ZS)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CO().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(u=>{if(!e&&cx(window.grecaptcha))r(u,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=wO();f.length!==0&&(f+=u),XS(f).then(()=>{r(u,o,c)}).catch(d=>{c(d)})}}).catch(u=>{c(u)})})}}async function gx(n,t,e,i=!1,r=!1){const o=new MO(n);let c;if(r)c=ZS;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Ty(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await gx(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await gx(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(n,t){const e=d_(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Br(o,t??{}))return r;wi(r,"already-initialized")}return e.initialize({options:t})}function kO(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ls);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function PO(n,t,e){const i=io(n);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=JS(t),{host:c,port:u}=NO(t),f=u===null?"":`:${u}`,d={url:`${o}//${c}${f}/`},m=Object.freeze({host:c,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(Br(d,i.config.emulator)&&Br(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,Ml(c)?(AS(`${o}//${c}${f}`),RS("Auth",!0)):VO()}function JS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function NO(n){const t=JS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:mx(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:mx(c)}}}function mx(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function VO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Vs("not implemented")}_getIdTokenResponse(t){return Vs("not implemented")}_linkToIdToken(t,e){return Vs("not implemented")}_getReauthenticationResolver(t){return Vs("not implemented")}}async function LO(n,t){return Xr(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(n,t){return Wu(n,"POST","/v1/accounts:signInWithPassword",Qr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO(n,t){return Wu(n,"POST","/v1/accounts:signInWithEmailLink",Qr(n,t))}async function zO(n,t){return Wu(n,"POST","/v1/accounts:signInWithEmailLink",Qr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends __{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Ru(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Ru(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ty(t,e,"signInWithPassword",jO);case"emailLink":return UO(t,{email:this._email,oobCode:this._password});default:wi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ty(t,i,"signUpPassword",LO);case"emailLink":return zO(t,{idToken:e,email:this._email,oobCode:this._password});default:wi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(n,t){return Wu(n,"POST","/v1/accounts:signInWithIdp",Qr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="http://localhost";class Qa extends __{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Qa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):wi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const c=new Qa(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return ul(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,ul(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ul(t,e)}buildRequest(){const t={requestUri:BO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Gu(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HO(n){const t=su(ru(n)).link,e=t?su(ru(t)).deep_link_id:null,i=su(ru(n)).deep_link_id;return(i?su(ru(i)).link:null)||i||e||t||n}class v_{constructor(t){const e=su(ru(t)),i=e.apiKey??null,r=e.oobCode??null,o=FO(e.mode??null);wt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=HO(t);try{return new v_(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.providerId=kl.PROVIDER_ID}static credential(t,e){return Ru._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=v_.parseLink(e);return wt(i,"argument-error"),Ru._fromEmailAndCode(t,i.code,i.tenantId)}}kl.PROVIDER_ID="password";kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends tw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Ku{constructor(){super("facebook.com")}static credential(t){return Qa._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Rr.credential(t.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Qa._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ns.credentialFromTaggedObject(t)}static credentialFromError(t){return Ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Ns.credential(e,i)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Ku{constructor(){super("github.com")}static credential(t){return Qa._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cr.credential(t.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Ku{constructor(){super("twitter.com")}static credential(t,e){return Qa._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Ir.credential(e,i)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(n,t){return Wu(n,"POST","/v1/accounts:signUp",Qr(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await xi._fromIdTokenResponse(t,i,r),c=yx(i);return new Xa({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=yx(i);return new Xa({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function yx(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends Ks{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,xd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new xd(t,e,i,r)}}function ew(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xd._fromErrorAndOperation(n,o,t,i):o})}async function $O(n,t,e=!1){const i=await Au(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Xa._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(n,t,e=!1){const{auth:i}=n;if(li(i.app))return Promise.reject(Us(i));const r="reauthenticate";try{const o=await Au(n,ew(i,r,t,n),e);wt(o.idToken,i,"internal-error");const c=m_(o.idToken);wt(c,i,"internal-error");const{sub:u}=c;return wt(n.uid===u,i,"user-mismatch"),Xa._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&wi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(n,t,e=!1){if(li(n.app))return Promise.reject(Us(n));const i="signIn",r=await ew(n,i,t),o=await Xa._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function YO(n,t){return nw(io(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iw(n){const t=io(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function WO(n,t,e){if(li(n.app))return Promise.reject(Us(n));const i=io(n),c=await Ty(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qO).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&iw(n),f}),u=await Xa._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(u.user),u}function KO(n,t,e){return li(n.app)?Promise.reject(Us(n)):YO(Qe(n),kl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&iw(n),i})}function QO(n,t,e,i){return Qe(n).onIdTokenChanged(t,e,i)}function XO(n,t,e){return Qe(n).beforeAuthStateChanged(t,e)}function ZO(n,t,e,i){return Qe(n).onAuthStateChanged(t,e,i)}function JO(n){return Qe(n).signOut()}const Td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Td,"1"),this.storage.removeItem(Td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=1e3,ek=10;class rw extends sw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,u,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);_O()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,ek):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},tk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}rw.type="LOCAL";const nk=rw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw extends sw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}aw.type="SESSION";const ow=aw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new tp(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(c).map(async d=>d(e.origin,o)),f=await ik(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((u,f)=>{const d=b_("",20);r.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(_){const v=_;if(v.data.eventId===d)switch(v.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(){return window}function rk(n){Xi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function ak(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ok(){return navigator?.serviceWorker?.controller||null}function lk(){return lw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="firebaseLocalStorageDb",ck=1,Sd="firebaseLocalStorage",uw="fbase_key";class Qu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ep(n,t){return n.transaction([Sd],t?"readwrite":"readonly").objectStore(Sd)}function uk(){const n=indexedDB.deleteDatabase(cw);return new Qu(n).toPromise()}function Sy(){const n=indexedDB.open(cw,ck);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Sd,{keyPath:uw})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Sd)?t(i):(i.close(),await uk(),t(await Sy()))})})}async function _x(n,t,e){const i=ep(n,!0).put({[uw]:t,value:e});return new Qu(i).toPromise()}async function hk(n,t){const e=ep(n,!1).get(t),i=await new Qu(e).toPromise();return i===void 0?null:i.value}function vx(n,t){const e=ep(n,!0).delete(t);return new Qu(e).toPromise()}const fk=800,dk=3;class hw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>dk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tp._getInstance(lk()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ak(),!this.activeServiceWorker)return;this.sender=new sk(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ok()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Sy();return await _x(t,Td,"1"),await vx(t,Td),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>_x(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>hk(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>vx(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=ep(r,!1).getAll();return new Qu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hw.type="LOCAL";const pk=hw;new Yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(n,t){return t?Ls(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_ extends __{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ul(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ul(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ul(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function mk(n){return nw(n.auth,new E_(n),n.bypassAuthState)}function yk(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),GO(e,new E_(n),n.bypassAuthState)}async function _k(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),$O(e,new E_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:u}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mk;case"linkViaPopup":case"linkViaRedirect":return _k;case"reauthViaPopup":case"reauthViaRedirect":return yk;default:wi(this.auth,"internal-error")}}resolve(t){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=new Yu(2e3,1e4);class ol extends fw{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){qs(this.filter.length===1,"Popup operations only handle one event");const t=b_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vk.get())};t()}}ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk="pendingRedirect",sd=new Map;class Ek extends fw{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=sd.get(this.auth._key());if(!t){try{const i=await xk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}sd.set(this.auth._key(),t)}return this.bypassAuthState||sd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xk(n,t){const e=wk(t),i=Sk(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function Tk(n,t){sd.set(n._key(),t)}function Sk(n){return Ls(n._redirectPersistence)}function wk(n){return id(bk,n.config.apiKey,n.name)}async function Ak(n,t,e=!1){if(li(n.app))return Promise.reject(Us(n));const i=io(n),r=gk(i,t),c=await new Ek(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=10*60*1e3;class Ck{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ik(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!dw(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Qi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Rk&&this.cachedEventUids.clear(),this.cachedEventUids.has(bx(t))}saveEventToCache(t){this.cachedEventUids.add(bx(t)),this.lastProcessedEventTime=Date.now()}}function bx(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function dw({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function Ik(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(n,t={}){return Xr(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ok=/^https?/;async function kk(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Dk(n);for(const e of t)try{if(Pk(e))return}catch{}wi(n,"unauthorized-domain")}function Pk(n){const t=Ey(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!Ok.test(e))return!1;if(Mk.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=new Yu(3e4,6e4);function Ex(){const n=Xi().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function Vk(n){return new Promise((t,e)=>{function i(){Ex(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ex(),e(Qi(n,"network-request-failed"))},timeout:Nk.get()})}if(Xi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Xi().gapi?.load)i();else{const r=RO("iframefcb");return Xi()[r]=()=>{gapi.load?i():e(Qi(n,"network-request-failed"))},XS(`${AO()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw rd=null,t})}let rd=null;function Lk(n){return rd=rd||Vk(n),rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=new Yu(5e3,15e3),Uk="__/auth/iframe",zk="emulator/auth/iframe",Bk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hk(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?g_(t,zk):`https://${n.config.authDomain}/${Uk}`,i={apiKey:t.apiKey,appName:n.name,v:Ol},r=Fk.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Gu(i).slice(1)}`}async function qk(n){const t=await Lk(n),e=Xi().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:Hk(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bk,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=Qi(n,"network-request-failed"),u=Xi().setTimeout(()=>{o(c)},jk.get());function f(){Xi().clearTimeout(u),r(i)}i.ping(f).then(f,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gk=500,Yk=600,Wk="_blank",Kk="http://localhost";class xx{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qk(n,t,e,i=Gk,r=Yk){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const f={...$k,width:i.toString(),height:r.toString(),top:o,left:c},d=gn().toLowerCase();e&&(u=qS(d)?Wk:e),FS(d)&&(t=t||Kk,f.scrollbars="yes");const m=Object.entries(f).reduce((v,[E,w])=>`${v}${E}=${w},`,"");if(yO(d)&&u!=="_self")return Xk(t||"",u),new xx(null);const _=window.open(t||"",u,m);wt(_,n,"popup-blocked");try{_.focus()}catch{}return new xx(_)}function Xk(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="__/auth/handler",Jk="emulator/auth/handler",tP=encodeURIComponent("fac");async function Tx(n,t,e,i,r,o){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ol,eventId:r};if(t instanceof tw){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",UD(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[m,_]of Object.entries({}))c[m]=_}if(t instanceof Ku){const m=t.getScopes().filter(_=>_!=="");m.length>0&&(c.scopes=m.join(","))}n.tenantId&&(c.tid=n.tenantId);const u=c;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const f=await n._getAppCheckToken(),d=f?`#${tP}=${encodeURIComponent(f)}`:"";return`${eP(n)}?${Gu(u).slice(1)}${d}`}function eP({config:n}){return n.emulator?g_(n,Jk):`https://${n.authDomain}/${Zk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class nP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ow,this._completeRedirectFn=Ak,this._overrideRedirectResult=Tk}async _openPopup(t,e,i,r){qs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Tx(t,e,i,Ey(),r);return Qk(t,o,b_())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await Tx(t,e,i,Ey(),r);return rk(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(qs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await qk(t),i=new Ck(t);return e.register("authEvent",r=>(wt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Hm,{type:Hm},r=>{const o=r?.[0]?.[Hm];o!==void 0&&e(!!o),wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=kk(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return KS()||HS()||y_()}}const iP=nP;var Sx="@firebase/auth",wx="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aP(n){gl(new Ka("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=i.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QS(n)},d=new TO(i,r,o,f);return kO(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),gl(new Ka("auth-internal",t=>{const e=io(t.getProvider("auth").getImmediate());return(i=>new sP(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(Sx,wx,rP(n)),Nr(Sx,wx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=5*60,lP=wS("authIdTokenMaxAge")||oP;let Ax=null;const cP=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>lP)return;const r=e?.token;Ax!==r&&(Ax=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function uP(n=MS()){const t=d_(n,"auth");if(t.isInitialized())return t.getImmediate();const e=OO(n,{popupRedirectResolver:iP,persistence:[pk,nk,ow]}),i=wS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=cP(o.toString());XO(e,c,()=>c(e.currentUser)),QO(e,u=>c(u))}}const r=TS("auth");return r&&PO(e,`http://${r}`),e}function hP(){return document.getElementsByTagName("head")?.[0]??document}SO({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Qi("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",hP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aP("Browser");var Rx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,pw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function M(){}M.prototype=R.prototype,O.D=R.prototype,O.prototype=new M,O.prototype.constructor=O,O.C=function(N,P,z){for(var j=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)j[ft-2]=arguments[ft];return R.prototype[P].apply(N,j)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(O,R,M){M||(M=0);var N=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)N[P]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(P=0;16>P;++P)N[P]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=O.g[0],M=O.g[1],P=O.g[2];var z=O.g[3],j=R+(z^M&(P^z))+N[0]+3614090360&4294967295;R=M+(j<<7&4294967295|j>>>25),j=z+(P^R&(M^P))+N[1]+3905402710&4294967295,z=R+(j<<12&4294967295|j>>>20),j=P+(M^z&(R^M))+N[2]+606105819&4294967295,P=z+(j<<17&4294967295|j>>>15),j=M+(R^P&(z^R))+N[3]+3250441966&4294967295,M=P+(j<<22&4294967295|j>>>10),j=R+(z^M&(P^z))+N[4]+4118548399&4294967295,R=M+(j<<7&4294967295|j>>>25),j=z+(P^R&(M^P))+N[5]+1200080426&4294967295,z=R+(j<<12&4294967295|j>>>20),j=P+(M^z&(R^M))+N[6]+2821735955&4294967295,P=z+(j<<17&4294967295|j>>>15),j=M+(R^P&(z^R))+N[7]+4249261313&4294967295,M=P+(j<<22&4294967295|j>>>10),j=R+(z^M&(P^z))+N[8]+1770035416&4294967295,R=M+(j<<7&4294967295|j>>>25),j=z+(P^R&(M^P))+N[9]+2336552879&4294967295,z=R+(j<<12&4294967295|j>>>20),j=P+(M^z&(R^M))+N[10]+4294925233&4294967295,P=z+(j<<17&4294967295|j>>>15),j=M+(R^P&(z^R))+N[11]+2304563134&4294967295,M=P+(j<<22&4294967295|j>>>10),j=R+(z^M&(P^z))+N[12]+1804603682&4294967295,R=M+(j<<7&4294967295|j>>>25),j=z+(P^R&(M^P))+N[13]+4254626195&4294967295,z=R+(j<<12&4294967295|j>>>20),j=P+(M^z&(R^M))+N[14]+2792965006&4294967295,P=z+(j<<17&4294967295|j>>>15),j=M+(R^P&(z^R))+N[15]+1236535329&4294967295,M=P+(j<<22&4294967295|j>>>10),j=R+(P^z&(M^P))+N[1]+4129170786&4294967295,R=M+(j<<5&4294967295|j>>>27),j=z+(M^P&(R^M))+N[6]+3225465664&4294967295,z=R+(j<<9&4294967295|j>>>23),j=P+(R^M&(z^R))+N[11]+643717713&4294967295,P=z+(j<<14&4294967295|j>>>18),j=M+(z^R&(P^z))+N[0]+3921069994&4294967295,M=P+(j<<20&4294967295|j>>>12),j=R+(P^z&(M^P))+N[5]+3593408605&4294967295,R=M+(j<<5&4294967295|j>>>27),j=z+(M^P&(R^M))+N[10]+38016083&4294967295,z=R+(j<<9&4294967295|j>>>23),j=P+(R^M&(z^R))+N[15]+3634488961&4294967295,P=z+(j<<14&4294967295|j>>>18),j=M+(z^R&(P^z))+N[4]+3889429448&4294967295,M=P+(j<<20&4294967295|j>>>12),j=R+(P^z&(M^P))+N[9]+568446438&4294967295,R=M+(j<<5&4294967295|j>>>27),j=z+(M^P&(R^M))+N[14]+3275163606&4294967295,z=R+(j<<9&4294967295|j>>>23),j=P+(R^M&(z^R))+N[3]+4107603335&4294967295,P=z+(j<<14&4294967295|j>>>18),j=M+(z^R&(P^z))+N[8]+1163531501&4294967295,M=P+(j<<20&4294967295|j>>>12),j=R+(P^z&(M^P))+N[13]+2850285829&4294967295,R=M+(j<<5&4294967295|j>>>27),j=z+(M^P&(R^M))+N[2]+4243563512&4294967295,z=R+(j<<9&4294967295|j>>>23),j=P+(R^M&(z^R))+N[7]+1735328473&4294967295,P=z+(j<<14&4294967295|j>>>18),j=M+(z^R&(P^z))+N[12]+2368359562&4294967295,M=P+(j<<20&4294967295|j>>>12),j=R+(M^P^z)+N[5]+4294588738&4294967295,R=M+(j<<4&4294967295|j>>>28),j=z+(R^M^P)+N[8]+2272392833&4294967295,z=R+(j<<11&4294967295|j>>>21),j=P+(z^R^M)+N[11]+1839030562&4294967295,P=z+(j<<16&4294967295|j>>>16),j=M+(P^z^R)+N[14]+4259657740&4294967295,M=P+(j<<23&4294967295|j>>>9),j=R+(M^P^z)+N[1]+2763975236&4294967295,R=M+(j<<4&4294967295|j>>>28),j=z+(R^M^P)+N[4]+1272893353&4294967295,z=R+(j<<11&4294967295|j>>>21),j=P+(z^R^M)+N[7]+4139469664&4294967295,P=z+(j<<16&4294967295|j>>>16),j=M+(P^z^R)+N[10]+3200236656&4294967295,M=P+(j<<23&4294967295|j>>>9),j=R+(M^P^z)+N[13]+681279174&4294967295,R=M+(j<<4&4294967295|j>>>28),j=z+(R^M^P)+N[0]+3936430074&4294967295,z=R+(j<<11&4294967295|j>>>21),j=P+(z^R^M)+N[3]+3572445317&4294967295,P=z+(j<<16&4294967295|j>>>16),j=M+(P^z^R)+N[6]+76029189&4294967295,M=P+(j<<23&4294967295|j>>>9),j=R+(M^P^z)+N[9]+3654602809&4294967295,R=M+(j<<4&4294967295|j>>>28),j=z+(R^M^P)+N[12]+3873151461&4294967295,z=R+(j<<11&4294967295|j>>>21),j=P+(z^R^M)+N[15]+530742520&4294967295,P=z+(j<<16&4294967295|j>>>16),j=M+(P^z^R)+N[2]+3299628645&4294967295,M=P+(j<<23&4294967295|j>>>9),j=R+(P^(M|~z))+N[0]+4096336452&4294967295,R=M+(j<<6&4294967295|j>>>26),j=z+(M^(R|~P))+N[7]+1126891415&4294967295,z=R+(j<<10&4294967295|j>>>22),j=P+(R^(z|~M))+N[14]+2878612391&4294967295,P=z+(j<<15&4294967295|j>>>17),j=M+(z^(P|~R))+N[5]+4237533241&4294967295,M=P+(j<<21&4294967295|j>>>11),j=R+(P^(M|~z))+N[12]+1700485571&4294967295,R=M+(j<<6&4294967295|j>>>26),j=z+(M^(R|~P))+N[3]+2399980690&4294967295,z=R+(j<<10&4294967295|j>>>22),j=P+(R^(z|~M))+N[10]+4293915773&4294967295,P=z+(j<<15&4294967295|j>>>17),j=M+(z^(P|~R))+N[1]+2240044497&4294967295,M=P+(j<<21&4294967295|j>>>11),j=R+(P^(M|~z))+N[8]+1873313359&4294967295,R=M+(j<<6&4294967295|j>>>26),j=z+(M^(R|~P))+N[15]+4264355552&4294967295,z=R+(j<<10&4294967295|j>>>22),j=P+(R^(z|~M))+N[6]+2734768916&4294967295,P=z+(j<<15&4294967295|j>>>17),j=M+(z^(P|~R))+N[13]+1309151649&4294967295,M=P+(j<<21&4294967295|j>>>11),j=R+(P^(M|~z))+N[4]+4149444226&4294967295,R=M+(j<<6&4294967295|j>>>26),j=z+(M^(R|~P))+N[11]+3174756917&4294967295,z=R+(j<<10&4294967295|j>>>22),j=P+(R^(z|~M))+N[2]+718787259&4294967295,P=z+(j<<15&4294967295|j>>>17),j=M+(z^(P|~R))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(P+(j<<21&4294967295|j>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+z&4294967295}i.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var M=R-this.blockSize,N=this.B,P=this.h,z=0;z<R;){if(P==0)for(;z<=M;)r(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<R;)if(N[P++]=O.charCodeAt(z++),P==this.blockSize){r(this,N),P=0;break}}else for(;z<R;)if(N[P++]=O[z++],P==this.blockSize){r(this,N),P=0;break}}this.h=P,this.o+=R},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var M=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=M&255,M/=256;for(this.u(O),O=Array(16),R=M=0;4>R;++R)for(var N=0;32>N;N+=8)O[M++]=this.g[R]>>>N&255;return O};function o(O,R){var M=u;return Object.prototype.hasOwnProperty.call(M,O)?M[O]:M[O]=R(O)}function c(O,R){this.h=R;for(var M=[],N=!0,P=O.length-1;0<=P;P--){var z=O[P]|0;N&&z==R||(M[P]=z,N=!1)}this.g=M}var u={};function f(O){return-128<=O&&128>O?o(O,function(R){return new c([R|0],0>R?-1:0)}):new c([O|0],0>O?-1:0)}function d(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return A(d(-O));for(var R=[],M=1,N=0;O>=M;N++)R[N]=O/M|0,M*=4294967296;return new c(R,0)}function m(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return A(m(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=d(Math.pow(R,8)),N=_,P=0;P<O.length;P+=8){var z=Math.min(8,O.length-P),j=parseInt(O.substring(P,P+z),R);8>z?(z=d(Math.pow(R,z)),N=N.j(z).add(d(j))):(N=N.j(M),N=N.add(d(j)))}return N}var _=f(0),v=f(1),E=f(16777216);n=c.prototype,n.m=function(){if(C(this))return-A(this).m();for(var O=0,R=1,M=0;M<this.g.length;M++){var N=this.i(M);O+=(0<=N?N:4294967296+N)*R,R*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(w(this))return"0";if(C(this))return"-"+A(this).toString(O);for(var R=d(Math.pow(O,6)),M=this,N="";;){var P=tt(M,R).g;M=k(M,P.j(R));var z=((0<M.g.length?M.g[0]:M.h)>>>0).toString(O);if(M=P,w(M))return z+N;for(;6>z.length;)z="0"+z;N=z+N}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function w(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function C(O){return O.h==-1}n.l=function(O){return O=k(this,O),C(O)?-1:w(O)?0:1};function A(O){for(var R=O.g.length,M=[],N=0;N<R;N++)M[N]=~O.g[N];return new c(M,~O.h).add(v)}n.abs=function(){return C(this)?A(this):this},n.add=function(O){for(var R=Math.max(this.g.length,O.g.length),M=[],N=0,P=0;P<=R;P++){var z=N+(this.i(P)&65535)+(O.i(P)&65535),j=(z>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);N=j>>>16,z&=65535,j&=65535,M[P]=j<<16|z}return new c(M,M[M.length-1]&-2147483648?-1:0)};function k(O,R){return O.add(A(R))}n.j=function(O){if(w(this)||w(O))return _;if(C(this))return C(O)?A(this).j(A(O)):A(A(this).j(O));if(C(O))return A(this.j(A(O)));if(0>this.l(E)&&0>O.l(E))return d(this.m()*O.m());for(var R=this.g.length+O.g.length,M=[],N=0;N<2*R;N++)M[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<O.g.length;P++){var z=this.i(N)>>>16,j=this.i(N)&65535,ft=O.i(P)>>>16,ut=O.i(P)&65535;M[2*N+2*P]+=j*ut,q(M,2*N+2*P),M[2*N+2*P+1]+=z*ut,q(M,2*N+2*P+1),M[2*N+2*P+1]+=j*ft,q(M,2*N+2*P+1),M[2*N+2*P+2]+=z*ft,q(M,2*N+2*P+2)}for(N=0;N<R;N++)M[N]=M[2*N+1]<<16|M[2*N];for(N=R;N<2*R;N++)M[N]=0;return new c(M,0)};function q(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function $(O,R){this.g=O,this.h=R}function tt(O,R){if(w(R))throw Error("division by zero");if(w(O))return new $(_,_);if(C(O))return R=tt(A(O),R),new $(A(R.g),A(R.h));if(C(R))return R=tt(O,A(R)),new $(A(R.g),R.h);if(30<O.g.length){if(C(O)||C(R))throw Error("slowDivide_ only works with positive integers.");for(var M=v,N=R;0>=N.l(O);)M=L(M),N=L(N);var P=Q(M,1),z=Q(N,1);for(N=Q(N,2),M=Q(M,2);!w(N);){var j=z.add(N);0>=j.l(O)&&(P=P.add(M),z=j),N=Q(N,1),M=Q(M,1)}return R=k(O,P.j(R)),new $(P,R)}for(P=_;0<=O.l(R);){for(M=Math.max(1,Math.floor(O.m()/R.m())),N=Math.ceil(Math.log(M)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),z=d(M),j=z.j(R);C(j)||0<j.l(O);)M-=N,z=d(M),j=z.j(R);w(z)&&(z=v),P=P.add(z),O=k(O,j)}return new $(P,O)}n.A=function(O){return tt(this,O).h},n.and=function(O){for(var R=Math.max(this.g.length,O.g.length),M=[],N=0;N<R;N++)M[N]=this.i(N)&O.i(N);return new c(M,this.h&O.h)},n.or=function(O){for(var R=Math.max(this.g.length,O.g.length),M=[],N=0;N<R;N++)M[N]=this.i(N)|O.i(N);return new c(M,this.h|O.h)},n.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),M=[],N=0;N<R;N++)M[N]=this.i(N)^O.i(N);return new c(M,this.h^O.h)};function L(O){for(var R=O.g.length+1,M=[],N=0;N<R;N++)M[N]=O.i(N)<<1|O.i(N-1)>>>31;return new c(M,O.h)}function Q(O,R){var M=R>>5;R%=32;for(var N=O.g.length-M,P=[],z=0;z<N;z++)P[z]=0<R?O.i(z+M)>>>R|O.i(z+M+1)<<32-R:O.i(z+M);return new c(P,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,pw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=m,Vr=c}).apply(typeof Rx<"u"?Rx:typeof self<"u"?self:typeof window<"u"?window:{});var Of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gw,au,mw,ad,wy,yw,_w,vw;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,b,x){return p==Array.prototype||p==Object.prototype||(p[b]=x.value),p};function e(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Of=="object"&&Of];for(var b=0;b<p.length;++b){var x=p[b];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=e(this);function r(p,b){if(b)t:{var x=i;p=p.split(".");for(var D=0;D<p.length-1;D++){var Y=p[D];if(!(Y in x))break t;x=x[Y]}p=p[p.length-1],D=x[p],b=b(D),b!=D&&b!=null&&t(x,p,{configurable:!0,writable:!0,value:b})}}function o(p,b){p instanceof String&&(p+="");var x=0,D=!1,Y={next:function(){if(!D&&x<p.length){var et=x++;return{value:b(et,p[et]),done:!1}}return D=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}r("Array.prototype.values",function(p){return p||function(){return o(this,function(b,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},u=this||self;function f(p){var b=typeof p;return b=b!="object"?b:p?Array.isArray(p)?"array":b:"null",b=="array"||b=="object"&&typeof p.length=="number"}function d(p){var b=typeof p;return b=="object"&&p!=null||b=="function"}function m(p,b,x){return p.call.apply(p.bind,arguments)}function _(p,b,x){if(!p)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,D),p.apply(b,Y)}}return function(){return p.apply(b,arguments)}}function v(p,b,x){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:_,v.apply(null,arguments)}function E(p,b){var x=Array.prototype.slice.call(arguments,1);return function(){var D=x.slice();return D.push.apply(D,arguments),p.apply(this,D)}}function w(p,b){function x(){}x.prototype=b.prototype,p.aa=b.prototype,p.prototype=new x,p.prototype.constructor=p,p.Qb=function(D,Y,et){for(var dt=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)dt[Ut-2]=arguments[Ut];return b.prototype[Y].apply(D,dt)}}function C(p){const b=p.length;if(0<b){const x=Array(b);for(let D=0;D<b;D++)x[D]=p[D];return x}return[]}function A(p,b){for(let x=1;x<arguments.length;x++){const D=arguments[x];if(f(D)){const Y=p.length||0,et=D.length||0;p.length=Y+et;for(let dt=0;dt<et;dt++)p[Y+dt]=D[dt]}else p.push(D)}}class k{constructor(b,x){this.i=b,this.j=x,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function q(p){return/^[\s\xa0]*$/.test(p)}function $(){var p=u.navigator;return p&&(p=p.userAgent)?p:""}function tt(p){return tt[" "](p),p}tt[" "]=function(){};var L=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function Q(p,b,x){for(const D in p)b.call(x,p[D],D,p)}function O(p,b){for(const x in p)b.call(void 0,p[x],x,p)}function R(p){const b={};for(const x in p)b[x]=p[x];return b}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(p,b){let x,D;for(let Y=1;Y<arguments.length;Y++){D=arguments[Y];for(x in D)p[x]=D[x];for(let et=0;et<M.length;et++)x=M[et],Object.prototype.hasOwnProperty.call(D,x)&&(p[x]=D[x])}}function P(p){var b=1;p=p.split(":");const x=[];for(;0<b&&p.length;)x.push(p.shift()),b--;return p.length&&x.push(p.join(":")),x}function z(p){u.setTimeout(()=>{throw p},0)}function j(){var p=pt;let b=null;return p.g&&(b=p.g,p.g=p.g.next,p.g||(p.h=null),b.next=null),b}class ft{constructor(){this.h=this.g=null}add(b,x){const D=ut.get();D.set(b,x),this.h?this.h.next=D:this.g=D,this.h=D}}var ut=new k(()=>new B,p=>p.reset());class B{constructor(){this.next=this.g=this.h=null}set(b,x){this.h=b,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let J,it=!1,pt=new ft,V=()=>{const p=u.Promise.resolve(void 0);J=()=>{p.then(nt)}};var nt=()=>{for(var p;p=j();){try{p.h.call(p.g)}catch(x){z(x)}var b=ut;b.j(p),100>b.h&&(b.h++,p.next=b.g,b.g=p)}it=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(p,b){this.type=p,this.g=this.target=b,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,b=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const x=()=>{};u.addEventListener("test",x,b),u.removeEventListener("test",x,b)}catch{}return p}();function bt(p,b){if(ot.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var x=this.type=p.type,D=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=b,b=p.relatedTarget){if(L){t:{try{tt(b.nodeName);var Y=!0;break t}catch{}Y=!1}Y||(b=null)}}else x=="mouseover"?b=p.fromElement:x=="mouseout"&&(b=p.toElement);this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:vt[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&bt.aa.h.call(this)}}w(bt,ot);var vt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),Ht=0;function Be(p,b,x,D,Y){this.listener=p,this.proxy=null,this.src=b,this.type=x,this.capture=!!D,this.ha=Y,this.key=++Ht,this.da=this.fa=!1}function pe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Fe(p){this.src=p,this.g={},this.h=0}Fe.prototype.add=function(p,b,x,D,Y){var et=p.toString();p=this.g[et],p||(p=this.g[et]=[],this.h++);var dt=Gn(p,b,D,Y);return-1<dt?(b=p[dt],x||(b.fa=!1)):(b=new Be(b,this.src,et,!!D,Y),b.fa=x,p.push(b)),b};function Dn(p,b){var x=b.type;if(x in p.g){var D=p.g[x],Y=Array.prototype.indexOf.call(D,b,void 0),et;(et=0<=Y)&&Array.prototype.splice.call(D,Y,1),et&&(pe(b),p.g[x].length==0&&(delete p.g[x],p.h--))}}function Gn(p,b,x,D){for(var Y=0;Y<p.length;++Y){var et=p[Y];if(!et.da&&et.listener==b&&et.capture==!!x&&et.ha==D)return Y}return-1}var ea="closure_lm_"+(1e6*Math.random()|0),Fl={};function rh(p,b,x,D,Y){if(Array.isArray(b)){for(var et=0;et<b.length;et++)rh(p,b[et],x,D,Y);return null}return x=ah(x),p&&p[re]?p.K(b,x,d(D)?!!D.capture:!1,Y):Yn(p,b,x,!1,D,Y)}function Yn(p,b,x,D,Y,et){if(!b)throw Error("Invalid event type");var dt=d(Y)?!!Y.capture:!!Y,Ut=uo(p);if(Ut||(p[ea]=Ut=new Fe(p)),x=Ut.add(b,x,D,dt,et),x.proxy)return x;if(D=Ip(),x.proxy=D,D.src=p,D.listener=x,p.addEventListener)gt||(Y=dt),Y===void 0&&(Y=!1),p.addEventListener(b.toString(),D,Y);else if(p.attachEvent)p.attachEvent(na(b.toString()),D);else if(p.addListener&&p.removeListener)p.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Ip(){function p(x){return b.call(p.src,p.listener,x)}const b=Dp;return p}function Hl(p,b,x,D,Y){if(Array.isArray(b))for(var et=0;et<b.length;et++)Hl(p,b[et],x,D,Y);else D=d(D)?!!D.capture:!!D,x=ah(x),p&&p[re]?(p=p.i,b=String(b).toString(),b in p.g&&(et=p.g[b],x=Gn(et,x,D,Y),-1<x&&(pe(et[x]),Array.prototype.splice.call(et,x,1),et.length==0&&(delete p.g[b],p.h--)))):p&&(p=uo(p))&&(b=p.g[b.toString()],p=-1,b&&(p=Gn(b,x,D,Y)),(x=-1<p?b[p]:null)&&co(x))}function co(p){if(typeof p!="number"&&p&&!p.da){var b=p.src;if(b&&b[re])Dn(b.i,p);else{var x=p.type,D=p.proxy;b.removeEventListener?b.removeEventListener(x,D,p.capture):b.detachEvent?b.detachEvent(na(x),D):b.addListener&&b.removeListener&&b.removeListener(D),(x=uo(b))?(Dn(x,p),x.h==0&&(x.src=null,b[ea]=null)):pe(p)}}}function na(p){return p in Fl?Fl[p]:Fl[p]="on"+p}function Dp(p,b){if(p.da)p=!0;else{b=new bt(b,this);var x=p.listener,D=p.ha||p.src;p.fa&&co(p),p=x.call(D,b)}return p}function uo(p){return p=p[ea],p instanceof Fe?p:null}var ql="__closure_events_fn_"+(1e9*Math.random()>>>0);function ah(p){return typeof p=="function"?p:(p[ql]||(p[ql]=function(b){return p.handleEvent(b)}),p[ql])}function ye(){ht.call(this),this.i=new Fe(this),this.M=this,this.F=null}w(ye,ht),ye.prototype[re]=!0,ye.prototype.removeEventListener=function(p,b,x,D){Hl(this,p,b,x,D)};function Qt(p,b){var x,D=p.F;if(D)for(x=[];D;D=D.F)x.push(D);if(p=p.M,D=b.type||b,typeof b=="string")b=new ot(b,p);else if(b instanceof ot)b.target=b.target||p;else{var Y=b;b=new ot(D,p),N(b,Y)}if(Y=!0,x)for(var et=x.length-1;0<=et;et--){var dt=b.g=x[et];Y=Mn(dt,D,!0,b)&&Y}if(dt=b.g=p,Y=Mn(dt,D,!0,b)&&Y,Y=Mn(dt,D,!1,b)&&Y,x)for(et=0;et<x.length;et++)dt=b.g=x[et],Y=Mn(dt,D,!1,b)&&Y}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var p=this.i,b;for(b in p.g){for(var x=p.g[b],D=0;D<x.length;D++)pe(x[D]);delete p.g[b],p.h--}}this.F=null},ye.prototype.K=function(p,b,x,D){return this.i.add(String(p),b,!1,x,D)},ye.prototype.L=function(p,b,x,D){return this.i.add(String(p),b,!0,x,D)};function Mn(p,b,x,D){if(b=p.i.g[String(b)],!b)return!0;b=b.concat();for(var Y=!0,et=0;et<b.length;++et){var dt=b[et];if(dt&&!dt.da&&dt.capture==x){var Ut=dt.listener,Ne=dt.ha||dt.src;dt.fa&&Dn(p.i,dt),Y=Ut.call(Ne,D)!==!1&&Y}}return Y&&!D.defaultPrevented}function on(p,b,x){if(typeof p=="function")x&&(p=v(p,x));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:u.setTimeout(p,b||0)}function oh(p){p.g=on(()=>{p.g=null,p.i&&(p.i=!1,oh(p))},p.l);const b=p.h;p.h=null,p.m.apply(null,b)}class Mp extends ht{constructor(b,x){super(),this.m=b,this.l=x,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:oh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ia(p){ht.call(this),this.h=p,this.g={}}w(ia,ht);var sa=[];function ra(p){Q(p.g,function(b,x){this.g.hasOwnProperty(x)&&co(b)},p),p.g={}}ia.prototype.N=function(){ia.aa.N.call(this),ra(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gi=u.JSON.stringify,ho=u.JSON.parse,aa=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function $l(){}$l.prototype.h=null;function Gl(p){return p.h||(p.h=p.i())}function Yl(){}var as={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function os(){ot.call(this,"d")}w(os,ot);function Wl(){ot.call(this,"c")}w(Wl,ot);var Ii={},Kl=null;function Qs(){return Kl=Kl||new ye}Ii.La="serverreachability";function fo(p){ot.call(this,Ii.La,p)}w(fo,ot);function Xs(p){const b=Qs();Qt(b,new fo(b))}Ii.STAT_EVENT="statevent";function lh(p,b){ot.call(this,Ii.STAT_EVENT,p),this.stat=b}w(lh,ot);function he(p){const b=Qs();Qt(b,new lh(b,p))}Ii.Ma="timingevent";function Pe(p,b){ot.call(this,Ii.Ma,p),this.size=b}w(Pe,ot);function Re(p,b){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},b)}function Wn(){this.g=!0}Wn.prototype.xa=function(){this.g=!1};function Ql(p,b,x,D,Y,et){p.info(function(){if(p.g)if(et)for(var dt="",Ut=et.split("&"),Ne=0;Ne<Ut.length;Ne++){var zt=Ut[Ne].split("=");if(1<zt.length){var qe=zt[0];zt=zt[1];var Ve=qe.split("_");dt=2<=Ve.length&&Ve[1]=="type"?dt+(qe+"="+zt+"&"):dt+(qe+"=redacted&")}}else dt=null;else dt=et;return"XMLHTTP REQ ("+D+") [attempt "+Y+"]: "+b+`
`+x+`
`+dt})}function Op(p,b,x,D,Y,et,dt){p.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+Y+"]: "+b+`
`+x+`
`+et+" "+dt})}function Zs(p,b,x,D){p.info(function(){return"XMLHTTP TEXT ("+b+"): "+oa(p,x)+(D?" "+D:"")})}function ch(p,b){p.info(function(){return"TIMEOUT: "+b})}Wn.prototype.info=function(){};function oa(p,b){if(!p.g)return b;if(!b)return null;try{var x=JSON.parse(b);if(x){for(p=0;p<x.length;p++)if(Array.isArray(x[p])){var D=x[p];if(!(2>D.length)){var Y=D[1];if(Array.isArray(Y)&&!(1>Y.length)){var et=Y[0];if(et!="noop"&&et!="stop"&&et!="close")for(var dt=1;dt<Y.length;dt++)Y[dt]=""}}}}return gi(x)}catch{return b}}var Js={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ls={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Di;function Mi(){}w(Mi,$l),Mi.prototype.g=function(){return new XMLHttpRequest},Mi.prototype.i=function(){return{}},Di=new Mi;function mn(p,b,x,D){this.j=p,this.i=b,this.l=x,this.R=D||1,this.U=new ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new be}function be(){this.i=null,this.g="",this.h=!1}var Xl={},po={};function mi(p,b,x){p.L=1,p.v=fa(On(b)),p.m=x,p.P=!0,cs(p,null)}function cs(p,b){p.F=Date.now(),la(p),p.A=On(p.v);var x=p.A,D=p.R;Array.isArray(D)||(D=[String(D)]),ic(x.i,"t",D),p.C=0,x=p.j.J,p.h=new be,p.g=wh(p.j,x?b:null,!p.m),0<p.O&&(p.M=new Mp(v(p.Y,p,p.g),p.O)),b=p.U,x=p.g,D=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(sa[0]=Y.toString()),Y=sa);for(var et=0;et<Y.length;et++){var dt=rh(x,Y[et],D||b.handleEvent,!1,b.h||b);if(!dt)break;b.g[dt.key]=dt}b=p.H?R(p.H):{},p.m?(p.u||(p.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,b)):(p.u="GET",p.g.ea(p.A,p.u,null,b)),Xs(),Ql(p.i,p.u,p.A,p.l,p.R,p.m)}mn.prototype.ca=function(p){p=p.target;const b=this.M;b&&Zn(p)==3?b.j():this.Y(p)},mn.prototype.Y=function(p){try{if(p==this.g)t:{const Ve=Zn(this.g);var b=this.g.Ba();const ys=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||yh(this.g)))){this.J||Ve!=4||b==7||(b==8||0>=ys?Xs(3):Xs(2)),tr(this);var x=this.g.Z();this.X=x;e:if(uh(this)){var D=yh(this.g);p="";var Y=D.length,et=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xe(this),Oi(this);var dt="";break e}this.h.i=new u.TextDecoder}for(b=0;b<Y;b++)this.h.h=!0,p+=this.h.i.decode(D[b],{stream:!(et&&b==Y-1)});D.length=0,this.h.g+=p,this.C=0,dt=this.h.g}else dt=this.g.oa();if(this.o=x==200,Op(this.i,this.u,this.A,this.l,this.R,Ve,x),this.o){if(this.T&&!this.K){e:{if(this.g){var Ut,Ne=this.g;if((Ut=Ne.g?Ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ut)){var zt=Ut;break e}}zt=null}if(x=zt)Zs(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ca(this,x);else{this.o=!1,this.s=3,he(12),Xe(this),Oi(this);break t}}if(this.P){x=!0;let Ze;for(;!this.J&&this.C<dt.length;)if(Ze=hh(this,dt),Ze==po){Ve==4&&(this.s=4,he(14),x=!1),Zs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==Xl){this.s=4,he(15),Zs(this.i,this.l,dt,"[Invalid Chunk]"),x=!1;break}else Zs(this.i,this.l,Ze,null),ca(this,Ze);if(uh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||dt.length!=0||this.h.h||(this.s=1,he(16),x=!1),this.o=this.o&&x,!x)Zs(this.i,this.l,dt,"[Invalid Chunked Response]"),Xe(this),Oi(this);else if(0<dt.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+dt.length),ba(qe),qe.M=!0,he(11))}}else Zs(this.i,this.l,dt,null),ca(this,dt);Ve==4&&Xe(this),this.o&&!this.J&&(Ve==4?xh(this.j,this):(this.o=!1,la(this)))}else Lp(this.g),x==400&&0<dt.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),Xe(this),Oi(this)}}}catch{}finally{}};function uh(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function hh(p,b){var x=p.C,D=b.indexOf(`
`,x);return D==-1?po:(x=Number(b.substring(x,D)),isNaN(x)?Xl:(D+=1,D+x>b.length?po:(b=b.slice(D,D+x),p.C=D+x,b)))}mn.prototype.cancel=function(){this.J=!0,Xe(this)};function la(p){p.S=Date.now()+p.I,fh(p,p.I)}function fh(p,b){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Re(v(p.ba,p),b)}function tr(p){p.B&&(u.clearTimeout(p.B),p.B=null)}mn.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(ch(this.i,this.A),this.L!=2&&(Xs(),he(17)),Xe(this),this.s=2,Oi(this)):fh(this,this.S-p)};function Oi(p){p.j.G==0||p.J||xh(p.j,p)}function Xe(p){tr(p);var b=p.M;b&&typeof b.ma=="function"&&b.ma(),p.M=null,ra(p.U),p.g&&(b=p.g,p.g=null,b.abort(),b.ma())}function ca(p,b){try{var x=p.j;if(x.G!=0&&(x.g==p||Zl(x.h,p))){if(!p.K&&Zl(x.h,p)&&x.G==3){try{var D=x.Da.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var Y=D;if(Y[0]==0){t:if(!x.u){if(x.g)if(x.g.F+3e3<p.F)Ao(x),So(x);else break t;lc(x),he(18)}}else x.za=Y[1],0<x.za-x.T&&37500>Y[2]&&x.F&&x.v==0&&!x.C&&(x.C=Re(v(x.Za,x),6e3));if(1>=mo(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else ms(x,11)}else if((p.K||x.g==p)&&Ao(x),!q(b))for(Y=x.Da.g.parse(b),b=0;b<Y.length;b++){let zt=Y[b];if(x.T=zt[0],zt=zt[1],x.G==2)if(zt[0]=="c"){x.K=zt[1],x.ia=zt[2];const qe=zt[3];qe!=null&&(x.la=qe,x.j.info("VER="+x.la));const Ve=zt[4];Ve!=null&&(x.Aa=Ve,x.j.info("SVER="+x.Aa));const ys=zt[5];ys!=null&&typeof ys=="number"&&0<ys&&(D=1.5*ys,x.L=D,x.j.info("backChannelRequestTimeoutMs_="+D)),D=x;const Ze=p.g;if(Ze){const Ui=Ze.g?Ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ui){var et=D.h;et.g||Ui.indexOf("spdy")==-1&&Ui.indexOf("quic")==-1&&Ui.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(yo(et,et.h),et.h=null))}if(D.D){const uc=Ze.g?Ze.g.getResponseHeader("X-HTTP-Session-Id"):null;uc&&(D.ya=uc,te(D.I,D.D,uc))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-p.F,x.j.info("Handshake RTT: "+x.R+"ms")),D=x;var dt=p;if(D.qa=Sh(D,D.J?D.ia:null,D.W),dt.K){yn(D.h,dt);var Ut=dt,Ne=D.L;Ne&&(Ut.I=Ne),Ut.B&&(tr(Ut),la(Ut)),D.g=dt}else bh(D);0<x.i.length&&wo(x)}else zt[0]!="stop"&&zt[0]!="close"||ms(x,7);else x.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?ms(x,7):ac(x):zt[0]!="noop"&&x.l&&x.l.ta(zt),x.v=0)}}Xs(4)}catch{}}var dh=class{constructor(p,b){this.g=p,this.map=b}};function us(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function go(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function mo(p){return p.h?1:p.g?p.g.size:0}function Zl(p,b){return p.h?p.h==b:p.g?p.g.has(b):!1}function yo(p,b){p.g?p.g.add(b):p.h=b}function yn(p,b){p.h&&p.h==b?p.h=null:p.g&&p.g.has(b)&&p.g.delete(b)}us.prototype.cancel=function(){if(this.i=Jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Jl(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let b=p.i;for(const x of p.g.values())b=b.concat(x.D);return b}return C(p.i)}function kp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var b=[],x=p.length,D=0;D<x;D++)b.push(p[D]);return b}b=[],x=0;for(D in p)b[x++]=p[D];return b}function _o(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var b=[];p=p.length;for(var x=0;x<p;x++)b.push(x);return b}b=[],x=0;for(const D in p)b[x++]=D;return b}}}function tc(p,b){if(p.forEach&&typeof p.forEach=="function")p.forEach(b,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,b,void 0);else for(var x=_o(p),D=kp(p),Y=D.length,et=0;et<Y;et++)b.call(void 0,D[et],x&&x[et],p)}var ua=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pp(p,b){if(p){p=p.split("&");for(var x=0;x<p.length;x++){var D=p[x].indexOf("="),Y=null;if(0<=D){var et=p[x].substring(0,D);Y=p[x].substring(D+1)}else et=p[x];b(et,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ce(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ce){this.h=p.h,ha(this,p.j),this.o=p.o,this.g=p.g,er(this,p.s),this.l=p.l;var b=p.i,x=new fs;x.i=b.i,b.g&&(x.g=new Map(b.g),x.h=b.h),hs(this,x),this.m=p.m}else p&&(b=String(p).match(ua))?(this.h=!1,ha(this,b[1]||"",!0),this.o=Kn(b[2]||""),this.g=Kn(b[3]||"",!0),er(this,b[4]),this.l=Kn(b[5]||"",!0),hs(this,b[6]||"",!0),this.m=Kn(b[7]||"")):(this.h=!1,this.i=new fs(null,this.h))}Ce.prototype.toString=function(){var p=[],b=this.j;b&&p.push(da(b,ec,!0),":");var x=this.g;return(x||b=="file")&&(p.push("//"),(b=this.o)&&p.push(da(b,ec,!0),"@"),p.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&p.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&p.push("/"),p.push(da(x,x.charAt(0)=="/"?Np:nc,!0))),(x=this.i.toString())&&p.push("?",x),(x=this.m)&&p.push("#",da(x,vo)),p.join("")};function On(p){return new Ce(p)}function ha(p,b,x){p.j=x?Kn(b,!0):b,p.j&&(p.j=p.j.replace(/:$/,""))}function er(p,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);p.s=b}else p.s=null}function hs(p,b,x){b instanceof fs?(p.i=b,gh(p.i,p.h)):(x||(b=da(b,Vp)),p.i=new fs(b,p.h))}function te(p,b,x){p.i.set(b,x)}function fa(p){return te(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function Kn(p,b){return p?b?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function da(p,b,x){return typeof p=="string"?(p=encodeURI(p).replace(b,ph),x&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function ph(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var ec=/[#\/\?@]/g,nc=/[#\?:]/g,Np=/[#\?]/g,Vp=/[#\?@]/g,vo=/#/g;function fs(p,b){this.h=this.g=null,this.i=p||null,this.j=!!b}function Qn(p){p.g||(p.g=new Map,p.h=0,p.i&&Pp(p.i,function(b,x){p.add(decodeURIComponent(b.replace(/\+/g," ")),x)}))}n=fs.prototype,n.add=function(p,b){Qn(this),this.i=null,p=ki(this,p);var x=this.g.get(p);return x||this.g.set(p,x=[]),x.push(b),this.h+=1,this};function ds(p,b){Qn(p),b=ki(p,b),p.g.has(b)&&(p.i=null,p.h-=p.g.get(b).length,p.g.delete(b))}function ps(p,b){return Qn(p),b=ki(p,b),p.g.has(b)}n.forEach=function(p,b){Qn(this),this.g.forEach(function(x,D){x.forEach(function(Y){p.call(b,Y,D,this)},this)},this)},n.na=function(){Qn(this);const p=Array.from(this.g.values()),b=Array.from(this.g.keys()),x=[];for(let D=0;D<b.length;D++){const Y=p[D];for(let et=0;et<Y.length;et++)x.push(b[D])}return x},n.V=function(p){Qn(this);let b=[];if(typeof p=="string")ps(this,p)&&(b=b.concat(this.g.get(ki(this,p))));else{p=Array.from(this.g.values());for(let x=0;x<p.length;x++)b=b.concat(p[x])}return b},n.set=function(p,b){return Qn(this),this.i=null,p=ki(this,p),ps(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[b]),this.h+=1,this},n.get=function(p,b){return p?(p=this.V(p),0<p.length?String(p[0]):b):b};function ic(p,b,x){ds(p,b),0<x.length&&(p.i=null,p.g.set(ki(p,b),C(x)),p.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],b=Array.from(this.g.keys());for(var x=0;x<b.length;x++){var D=b[x];const et=encodeURIComponent(String(D)),dt=this.V(D);for(D=0;D<dt.length;D++){var Y=et;dt[D]!==""&&(Y+="="+encodeURIComponent(String(dt[D]))),p.push(Y)}}return this.i=p.join("&")};function ki(p,b){return b=String(b),p.j&&(b=b.toLowerCase()),b}function gh(p,b){b&&!p.j&&(Qn(p),p.i=null,p.g.forEach(function(x,D){var Y=D.toLowerCase();D!=Y&&(ds(this,D),ic(this,Y,x))},p)),p.j=b}function pa(p,b){const x=new Wn;if(u.Image){const D=new Image;D.onload=E(Xn,x,"TestLoadImage: loaded",!0,b,D),D.onerror=E(Xn,x,"TestLoadImage: error",!1,b,D),D.onabort=E(Xn,x,"TestLoadImage: abort",!1,b,D),D.ontimeout=E(Xn,x,"TestLoadImage: timeout",!1,b,D),u.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=p}else b(!1)}function yi(p,b){const x=new Wn,D=new AbortController,Y=setTimeout(()=>{D.abort(),Xn(x,"TestPingServer: timeout",!1,b)},1e4);fetch(p,{signal:D.signal}).then(et=>{clearTimeout(Y),et.ok?Xn(x,"TestPingServer: ok",!0,b):Xn(x,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),Xn(x,"TestPingServer: error",!1,b)})}function Xn(p,b,x,D,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),D(x)}catch{}}function ga(){this.g=new aa}function Pi(p,b,x){const D=x||"";try{tc(p,function(Y,et){let dt=Y;d(Y)&&(dt=gi(Y)),b.push(D+et+"="+encodeURIComponent(dt))})}catch(Y){throw b.push(D+"type="+encodeURIComponent("_badmap")),Y}}function nr(p){this.l=p.Ub||null,this.j=p.eb||!1}w(nr,$l),nr.prototype.g=function(){return new gs(this.l,this.j)},nr.prototype.i=function(p){return function(){return p}}({});function gs(p,b){ye.call(this),this.D=p,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(gs,ye),n=gs.prototype,n.open=function(p,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=b,this.readyState=1,Vi(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(b.body=p),(this.D||u).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ni(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sc(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function sc(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var b=p.value?p.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!p.done}))&&(this.response=this.responseText+=b)}p.done?Ni(this):Vi(this),this.readyState==3&&sc(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Ni(this))},n.Qa=function(p){this.g&&(this.response=p,Ni(this))},n.ga=function(){this.g&&Ni(this)};function Ni(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Vi(p)}n.setRequestHeader=function(p,b){this.u.append(p,b)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],b=this.h.entries();for(var x=b.next();!x.done;)x=x.value,p.push(x[0]+": "+x[1]),x=b.next();return p.join(`\r
`)};function Vi(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function rc(p){let b="";return Q(p,function(x,D){b+=D,b+=":",b+=x,b+=`\r
`}),b}function He(p,b,x){t:{for(D in x){var D=!1;break t}D=!0}D||(x=rc(x),typeof p=="string"?x!=null&&encodeURIComponent(String(x)):te(p,b,x))}function Yt(p){ye.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Yt,ye);var bo=/^https?$/i,ma=["POST","PUT"];n=Yt.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,b,x,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);b=b?b.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Di.g(),this.v=this.o?Gl(this.o):Gl(Di),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(b,String(p),!0),this.B=!1}catch(et){mh(this,et);return}if(p=x||"",x=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var Y in D)x.set(Y,D[Y]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const et of D.keys())x.set(et,D.get(et));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(x.keys()).find(et=>et.toLowerCase()=="content-type"),Y=u.FormData&&p instanceof u.FormData,!(0<=Array.prototype.indexOf.call(ma,b,void 0))||D||Y||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,dt]of x)this.g.setRequestHeader(et,dt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ya(this),this.u=!0,this.g.send(p),this.u=!1}catch(et){mh(this,et)}};function mh(p,b){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=b,p.m=5,Eo(p),Li(p)}function Eo(p){p.A||(p.A=!0,Qt(p,"complete"),Qt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Qt(this,"complete"),Qt(this,"abort"),Li(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),Yt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?xo(this):this.bb())},n.bb=function(){xo(this)};function xo(p){if(p.h&&typeof c<"u"&&(!p.v[1]||Zn(p)!=4||p.Z()!=2)){if(p.u&&Zn(p)==4)on(p.Ea,0,p);else if(Qt(p,"readystatechange"),Zn(p)==4){p.h=!1;try{const dt=p.Z();t:switch(dt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var x;if(!(x=b)){var D;if(D=dt===0){var Y=String(p.D).match(ua)[1]||null;!Y&&u.self&&u.self.location&&(Y=u.self.location.protocol.slice(0,-1)),D=!bo.test(Y?Y.toLowerCase():"")}x=D}if(x)Qt(p,"complete"),Qt(p,"success");else{p.m=6;try{var et=2<Zn(p)?p.g.statusText:""}catch{et=""}p.l=et+" ["+p.Z()+"]",Eo(p)}}finally{Li(p)}}}}function Li(p,b){if(p.g){ya(p);const x=p.g,D=p.v[0]?()=>{}:null;p.g=null,p.v=null,b||Qt(p,"ready");try{x.onreadystatechange=D}catch{}}}function ya(p){p.I&&(u.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Zn(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var b=this.g.responseText;return p&&b.indexOf(p)==0&&(b=b.substring(p.length)),ho(b)}};function yh(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Lp(p){const b={};p=(p.g&&2<=Zn(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<p.length;D++){if(q(p[D]))continue;var x=P(p[D]);const Y=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const et=b[Y]||[];b[Y]=et,et.push(x)}O(b,function(D){return D.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(p,b,x){return x&&x.internalChannelParams&&x.internalChannelParams[p]||b}function To(p){this.Aa=0,this.i=[],this.j=new Wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_a("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_a("baseRetryDelayMs",5e3,p),this.cb=_a("retryDelaySeedMs",1e4,p),this.Wa=_a("forwardChannelMaxRetries",2,p),this.wa=_a("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new us(p&&p.concurrentRequestLimit),this.Da=new ga,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=To.prototype,n.la=8,n.G=1,n.connect=function(p,b,x,D){he(0),this.W=p,this.H=b||{},x&&D!==void 0&&(this.H.OSID=x,this.H.OAID=D),this.F=this.X,this.I=Sh(this,null,this.W),wo(this)};function ac(p){if(_h(p),p.G==3){var b=p.U++,x=On(p.I);if(te(x,"SID",p.K),te(x,"RID",b),te(x,"TYPE","terminate"),va(p,x),b=new mn(p,p.j,b),b.L=2,b.v=fa(On(x)),x=!1,u.navigator&&u.navigator.sendBeacon)try{x=u.navigator.sendBeacon(b.v.toString(),"")}catch{}!x&&u.Image&&(new Image().src=b.v,x=!0),x||(b.g=wh(b.j,null),b.g.ea(b.v)),b.F=Date.now(),la(b)}Th(p)}function So(p){p.g&&(ba(p),p.g.cancel(),p.g=null)}function _h(p){So(p),p.u&&(u.clearTimeout(p.u),p.u=null),Ao(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&u.clearTimeout(p.s),p.s=null)}function wo(p){if(!go(p.h)&&!p.s){p.s=!0;var b=p.Ga;J||V(),it||(J(),it=!0),pt.add(b,p),p.B=0}}function jp(p,b){return mo(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=b.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Re(v(p.Ga,p,b),cc(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new mn(this,this.j,p);let et=this.o;if(this.S&&(et?(et=R(et),N(et,this.S)):et=this.S),this.m!==null||this.O||(Y.H=et,et=null),this.P)t:{for(var b=0,x=0;x<this.i.length;x++){e:{var D=this.i[x];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break e}D=void 0}if(D===void 0)break;if(b+=D,4096<b){b=x;break t}if(b===4096||x===this.i.length-1){b=x+1;break t}}b=1e3}else b=1e3;b=vh(this,Y,b),x=On(this.I),te(x,"RID",p),te(x,"CVER",22),this.D&&te(x,"X-HTTP-Session-Id",this.D),va(this,x),et&&(this.O?b="headers="+encodeURIComponent(String(rc(et)))+"&"+b:this.m&&He(x,this.m,et)),yo(this.h,Y),this.Ua&&te(x,"TYPE","init"),this.P?(te(x,"$req",b),te(x,"SID","null"),Y.T=!0,mi(Y,x,null)):mi(Y,x,b),this.G=2}}else this.G==3&&(p?oc(this,p):this.i.length==0||go(this.h)||oc(this))};function oc(p,b){var x;b?x=b.l:x=p.U++;const D=On(p.I);te(D,"SID",p.K),te(D,"RID",x),te(D,"AID",p.T),va(p,D),p.m&&p.o&&He(D,p.m,p.o),x=new mn(p,p.j,x,p.B+1),p.m===null&&(x.H=p.o),b&&(p.i=b.D.concat(p.i)),b=vh(p,x,1e3),x.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),yo(p.h,x),mi(x,D,b)}function va(p,b){p.H&&Q(p.H,function(x,D){te(b,D,x)}),p.l&&tc({},function(x,D){te(b,D,x)})}function vh(p,b,x){x=Math.min(p.i.length,x);var D=p.l?v(p.l.Na,p.l,p):null;t:{var Y=p.i;let et=-1;for(;;){const dt=["count="+x];et==-1?0<x?(et=Y[0].g,dt.push("ofs="+et)):et=0:dt.push("ofs="+et);let Ut=!0;for(let Ne=0;Ne<x;Ne++){let zt=Y[Ne].g;const qe=Y[Ne].map;if(zt-=et,0>zt)et=Math.max(0,Y[Ne].g-100),Ut=!1;else try{Pi(qe,dt,"req"+zt+"_")}catch{D&&D(qe)}}if(Ut){D=dt.join("&");break t}}}return p=p.i.splice(0,x),b.D=p,D}function bh(p){if(!p.g&&!p.u){p.Y=1;var b=p.Fa;J||V(),it||(J(),it=!0),pt.add(b,p),p.v=0}}function lc(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Re(v(p.Fa,p),cc(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,Eh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Re(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),So(this),Eh(this))};function ba(p){p.A!=null&&(u.clearTimeout(p.A),p.A=null)}function Eh(p){p.g=new mn(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var b=On(p.qa);te(b,"RID","rpc"),te(b,"SID",p.K),te(b,"AID",p.T),te(b,"CI",p.F?"0":"1"),!p.F&&p.ja&&te(b,"TO",p.ja),te(b,"TYPE","xmlhttp"),va(p,b),p.m&&p.o&&He(b,p.m,p.o),p.L&&(p.g.I=p.L);var x=p.g;p=p.ia,x.L=1,x.v=fa(On(b)),x.m=null,x.P=!0,cs(x,p)}n.Za=function(){this.C!=null&&(this.C=null,So(this),lc(this),he(19))};function Ao(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function xh(p,b){var x=null;if(p.g==b){Ao(p),ba(p),p.g=null;var D=2}else if(Zl(p.h,b))x=b.D,yn(p.h,b),D=1;else return;if(p.G!=0){if(b.o)if(D==1){x=b.m?b.m.length:0,b=Date.now()-b.F;var Y=p.B;D=Qs(),Qt(D,new Pe(D,x)),wo(p)}else bh(p);else if(Y=b.s,Y==3||Y==0&&0<b.X||!(D==1&&jp(p,b)||D==2&&lc(p)))switch(x&&0<x.length&&(b=p.h,b.i=b.i.concat(x)),Y){case 1:ms(p,5);break;case 4:ms(p,10);break;case 3:ms(p,6);break;default:ms(p,2)}}}function cc(p,b){let x=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(x*=2),x*b}function ms(p,b){if(p.j.info("Error code "+b),b==2){var x=v(p.fb,p),D=p.Xa;const Y=!D;D=new Ce(D||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ha(D,"https"),fa(D),Y?pa(D.toString(),x):yi(D.toString(),x)}else he(2);p.G=0,p.l&&p.l.sa(b),Th(p),_h(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function Th(p){if(p.G=0,p.ka=[],p.l){const b=Jl(p.h);(b.length!=0||p.i.length!=0)&&(A(p.ka,b),A(p.ka,p.i),p.h.i.length=0,C(p.i),p.i.length=0),p.l.ra()}}function Sh(p,b,x){var D=x instanceof Ce?On(x):new Ce(x);if(D.g!="")b&&(D.g=b+"."+D.g),er(D,D.s);else{var Y=u.location;D=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;var et=new Ce(null);D&&ha(et,D),b&&(et.g=b),Y&&er(et,Y),x&&(et.l=x),D=et}return x=p.D,b=p.ya,x&&b&&te(D,x,b),te(D,"VER",p.la),va(p,D),D}function wh(p,b,x){if(b&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=p.Ca&&!p.pa?new Yt(new nr({eb:x})):new Yt(p.pa),b.Ha(p.J),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ah(){}n=Ah.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ro(){}Ro.prototype.g=function(p,b){return new _n(p,b)};function _n(p,b){ye.call(this),this.g=new To(b),this.l=p,this.h=b&&b.messageUrlParams||null,p=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(p?p["X-WebChannel-Content-Type"]=b.messageContentType:p={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(p?p["X-WebChannel-Client-Profile"]=b.va:p={"X-WebChannel-Client-Profile":b.va}),this.g.S=p,(p=b&&b.Sb)&&!q(p)&&(this.g.m=p),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!q(b)&&(this.g.D=b,p=this.h,p!==null&&b in p&&(p=this.h,b in p&&delete p[b])),this.j=new ji(this)}w(_n,ye),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){ac(this.g)},_n.prototype.o=function(p){var b=this.g;if(typeof p=="string"){var x={};x.__data__=p,p=x}else this.u&&(x={},x.__data__=gi(p),p=x);b.i.push(new dh(b.Ya++,p)),b.G==3&&wo(b)},_n.prototype.N=function(){this.g.l=null,delete this.j,ac(this.g),delete this.g,_n.aa.N.call(this)};function Rh(p){os.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var b=p.__sm__;if(b){t:{for(const x in b){p=x;break t}p=void 0}(this.i=p)&&(p=this.i,b=b!==null&&p in b?b[p]:void 0),this.data=b}else this.data=p}w(Rh,os);function Ch(){Wl.call(this),this.status=1}w(Ch,Wl);function ji(p){this.g=p}w(ji,Ah),ji.prototype.ua=function(){Qt(this.g,"a")},ji.prototype.ta=function(p){Qt(this.g,new Rh(p))},ji.prototype.sa=function(p){Qt(this.g,new Ch)},ji.prototype.ra=function(){Qt(this.g,"b")},Ro.prototype.createWebChannel=Ro.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,vw=function(){return new Ro},_w=function(){return Qs()},yw=Ii,wy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Js.NO_ERROR=0,Js.TIMEOUT=8,Js.HTTP_ERROR=6,ad=Js,ls.COMPLETE="complete",mw=ls,Yl.EventType=as,as.OPEN="a",as.CLOSE="b",as.ERROR="c",as.MESSAGE="d",ye.prototype.listen=ye.prototype.K,au=Yl,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,gw=Yt}).apply(typeof Of<"u"?Of:typeof self<"u"?self:typeof window<"u"?window:{});const Cx="@firebase/firestore",Ix="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new h_("@firebase/firestore");function il(){return Za.logLevel}function yt(n,...t){if(Za.logLevel<=Vt.DEBUG){const e=t.map(x_);Za.debug(`Firestore (${Pl}): ${n}`,...e)}}function $s(n,...t){if(Za.logLevel<=Vt.ERROR){const e=t.map(x_);Za.error(`Firestore (${Pl}): ${n}`,...e)}}function ml(n,...t){if(Za.logLevel<=Vt.WARN){const e=t.map(x_);Za.warn(`Firestore (${Pl}): ${n}`,...e)}}function x_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,bw(n,i,e)}function bw(n,t,e){let i=`FIRESTORE (${Pl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw $s(i),new Error(i)}function Kt(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||bw(t,r,i)}function It(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Ks{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class fP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(fn.UNAUTHENTICATED))}shutdown(){}}class dP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class pP{constructor(t){this.t=t,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Kt(this.o===void 0,42304);let i=this.i;const r=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new zs,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await r(this.currentUser)})},u=f=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new zs)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Kt(typeof i.accessToken=="string",31837,{l:i}),new Ew(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new fn(t)}}class gP{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mP{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new gP(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dx{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yP{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Kt(this.o===void 0,3512);const i=o=>{o.error!=null&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,yt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dx(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Kt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Dx(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=_P(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Lt(n,t){return n<t?-1:n>t?1:0}function Ay(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return qm(r)===qm(o)?Lt(r,o):qm(r)?1:-1}return Lt(n.length,t.length)}const vP=55296,bP=57343;function qm(n){const t=n.charCodeAt(0);return t>=vP&&t<=bP}function yl(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="__name__";class Wi{constructor(t,e,i){e===void 0?e=0:e>t.length&&At(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&At(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Wi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Wi?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Wi.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Lt(t.length,e.length)}static compareSegments(t,e){const i=Wi.isNumericId(t),r=Wi.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Wi.extractNumericId(t).compare(Wi.extractNumericId(e)):Ay(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Vr.fromString(t.substring(4,t.length-2))}}class oe extends Wi{construct(t,e,i){return new oe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new mt(at.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new oe(e)}static emptyPath(){return new oe([])}}const EP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Wi{construct(t,e,i){return new rn(t,e,i)}static isValidIdentifier(t){return EP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mx}static keyField(){return new rn([Mx])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new mt(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new mt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new mt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else u==="`"?(c=!c,r++):u!=="."||c?(i+=u,r++):(o(),r++)}if(o(),c)throw new mt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(e)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t){this.path=t}static fromPath(t){return new xt(oe.fromString(t))}static fromName(t){return new xt(oe.fromString(t).popFirst(5))}static empty(){return new xt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return oe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new xt(new oe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(n,t,e){if(!e)throw new mt(at.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function xP(n,t,e,i){if(t===!0&&i===!0)throw new mt(at.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Ox(n){if(!xt.isDocumentKey(n))throw new mt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kx(n){if(xt.isDocumentKey(n))throw new mt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Tw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function np(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":At(12329,{type:typeof n})}function Ai(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=np(n);throw new mt(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n,t){const e={typeString:n};return t&&(e.value=t),e}function Xu(n,t){if(!Tw(n))throw new mt(at.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(r&&typeof c!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new mt(at.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=-62135596800,Nx=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Nx);return new le(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Px)throw new mt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nx}_compareTo(t){return this.seconds===t.seconds?Lt(this.nanoseconds,t.nanoseconds):Lt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xu(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Px;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:ke("string",le._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new le(0,0))}static max(){return new Ct(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=-1;function TP(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ct.fromTimestamp(i===1e9?new le(e+1,0):new le(e,i));return new Fr(r,xt.empty(),t)}function SP(n){return new Fr(n.readTime,n.key,Cu)}class Fr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Fr(Ct.min(),xt.empty(),Cu)}static max(){return new Fr(Ct.max(),xt.empty(),Cu)}}function wP(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=xt.comparator(n.documentKey,t.documentKey),e!==0?e:Lt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(n){if(n.code!==at.FAILED_PRECONDITION||n.message!==AP)throw n;yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ct((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ct?e:ct.resolve(e)}catch(e){return ct.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ct.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ct.reject(e)}static resolve(t){return new ct((e,i)=>{e(t)})}static reject(t){return new ct((e,i)=>{i(t)})}static waitFor(t){return new ct((e,i)=>{let r=0,o=0,c=!1;t.forEach(u=>{++r,u.next(()=>{++o,c&&o===r&&e()},f=>i(f))}),c=!0,o===r&&e()})}static or(t){let e=ct.resolve(!1);for(const i of t)e=e.next(r=>r?ct.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ct((i,r)=>{const o=t.length,c=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next(m=>{c[d]=m,++u,u===o&&i(c)},m=>r(m))}})}static doWhile(t,e){return new ct((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function CP(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Vl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ip.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_=-1;function sp(n){return n==null}function wd(n){return n===0&&1/n==-1/0}function IP(n){return typeof n=="number"&&Number.isInteger(n)&&!wd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="";function DP(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Vx(t)),t=MP(n.get(e),t);return Vx(t)}function MP(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case Sw:e+="";break;default:e+=o}}return e}function Vx(n){return n+Sw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Zr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function ww(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,e){this.comparator=t,this.root=e||sn.EMPTY}insert(t,e){return new me(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kf(this.root,t,this.comparator,!1)}getReverseIterator(){return new kf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kf(this.root,t,this.comparator,!0)}}class kf{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??sn.RED,this.left=r??sn.EMPTY,this.right=o??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new sn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return sn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new sn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new jx(this.data.getIterator())}getIteratorFrom(t){return new jx(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ze(this.comparator);return e.data=t,e}}class jx{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new Bn([])}unionWith(t){let e=new ze(rn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Bn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return yl(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Aw("Invalid base64 string: "+o):o}}(t);return new an(e)}static fromUint8Array(t){const e=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new an(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Lt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}an.EMPTY_BYTE_STRING=new an("");const OP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(n){if(Kt(!!n,39018),typeof n=="string"){let t=0;const e=OP.exec(n);if(Kt(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Se(n.seconds),nanos:Se(n.nanos)}}function Se(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qr(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="server_timestamp",Cw="__type__",Iw="__previous_value__",Dw="__local_write_time__";function w_(n){return(n?.mapValue?.fields||{})[Cw]?.stringValue===Rw}function rp(n){const t=n.mapValue.fields[Iw];return w_(t)?rp(t):t}function Iu(n){const t=Hr(n.mapValue.fields[Dw].timestampValue);return new le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(t,e,i,r,o,c,u,f,d,m){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=m}}const Ad="(default)";class Du{constructor(t,e){this.projectId=t,this.database=e||Ad}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database===Ad}isEqual(t){return t instanceof Du&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="__type__",PP="__max__",Pf={mapValue:{}},Ow="__vector__",Rd="value";function $r(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?w_(n)?4:VP(n)?9007199254740991:NP(n)?10:11:At(28295,{value:n})}function ss(n,t){if(n===t)return!0;const e=$r(n);if(e!==$r(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Iu(n).isEqual(Iu(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Hr(r.timestampValue),u=Hr(o.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return qr(r.bytesValue).isEqual(qr(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Se(r.geoPointValue.latitude)===Se(o.geoPointValue.latitude)&&Se(r.geoPointValue.longitude)===Se(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Se(r.integerValue)===Se(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=Se(r.doubleValue),u=Se(o.doubleValue);return c===u?wd(c)===wd(u):isNaN(c)&&isNaN(u)}return!1}(n,t);case 9:return yl(n.arrayValue.values||[],t.arrayValue.values||[],ss);case 10:case 11:return function(r,o){const c=r.mapValue.fields||{},u=o.mapValue.fields||{};if(Lx(c)!==Lx(u))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(u[f]===void 0||!ss(c[f],u[f])))return!1;return!0}(n,t);default:return At(52216,{left:n})}}function Mu(n,t){return(n.values||[]).find(e=>ss(e,t))!==void 0}function _l(n,t){if(n===t)return 0;const e=$r(n),i=$r(t);if(e!==i)return Lt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,t.booleanValue);case 2:return function(o,c){const u=Se(o.integerValue||o.doubleValue),f=Se(c.integerValue||c.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,t);case 3:return Ux(n.timestampValue,t.timestampValue);case 4:return Ux(Iu(n),Iu(t));case 5:return Ay(n.stringValue,t.stringValue);case 6:return function(o,c){const u=qr(o),f=qr(c);return u.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,c){const u=o.split("/"),f=c.split("/");for(let d=0;d<u.length&&d<f.length;d++){const m=Lt(u[d],f[d]);if(m!==0)return m}return Lt(u.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,c){const u=Lt(Se(o.latitude),Se(c.latitude));return u!==0?u:Lt(Se(o.longitude),Se(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return zx(n.arrayValue,t.arrayValue);case 10:return function(o,c){const u=o.fields||{},f=c.fields||{},d=u[Rd]?.arrayValue,m=f[Rd]?.arrayValue,_=Lt(d?.values?.length||0,m?.values?.length||0);return _!==0?_:zx(d,m)}(n.mapValue,t.mapValue);case 11:return function(o,c){if(o===Pf.mapValue&&c===Pf.mapValue)return 0;if(o===Pf.mapValue)return 1;if(c===Pf.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=c.fields||{},m=Object.keys(d);f.sort(),m.sort();for(let _=0;_<f.length&&_<m.length;++_){const v=Ay(f[_],m[_]);if(v!==0)return v;const E=_l(u[f[_]],d[m[_]]);if(E!==0)return E}return Lt(f.length,m.length)}(n.mapValue,t.mapValue);default:throw At(23264,{he:e})}}function Ux(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Lt(n,t);const e=Hr(n),i=Hr(t),r=Lt(e.seconds,i.seconds);return r!==0?r:Lt(e.nanos,i.nanos)}function zx(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=_l(e[r],i[r]);if(o)return o}return Lt(e.length,i.length)}function vl(n){return Ry(n)}function Ry(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Hr(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return qr(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return xt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=Ry(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${Ry(e.fields[c])}`;return r+"}"}(n.mapValue):At(61005,{value:n})}function od(n){switch($r(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rp(n);return t?16+od(t):16;case 5:return 2*n.stringValue.length;case 6:return qr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+od(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Zr(i.fields,(o,c)=>{r+=o.length+od(c)}),r}(n.mapValue);default:throw At(13486,{value:n})}}function Bx(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Cy(n){return!!n&&"integerValue"in n}function A_(n){return!!n&&"arrayValue"in n}function Fx(n){return!!n&&"nullValue"in n}function Hx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ld(n){return!!n&&"mapValue"in n}function NP(n){return(n?.mapValue?.fields||{})[Mw]?.stringValue===Ow}function mu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Zr(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=mu(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=mu(n.arrayValue.values[e]);return t}return{...n}}function VP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===PP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.value=t}static empty(){return new Rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!ld(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=mu(e)}setAll(t){let e=rn.emptyPath(),i={},r=[];t.forEach((c,u)=>{if(!e.isImmediateParentOf(u)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=u.popLast()}c?i[u.lastSegment()]=mu(c):r.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());ld(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ss(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];ld(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Zr(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new Rn(mu(this.value))}}function kw(n){const t=[];return Zr(n.fields,(e,i)=>{const r=new rn([e]);if(ld(i)){const o=kw(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new Bn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,e,i,r,o,c,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=u}static newInvalidDocument(t){return new dn(t,0,Ct.min(),Ct.min(),Ct.min(),Rn.empty(),0)}static newFoundDocument(t,e,i,r){return new dn(t,1,e,Ct.min(),i,r,0)}static newNoDocument(t,e){return new dn(t,2,e,Ct.min(),Ct.min(),Rn.empty(),0)}static newUnknownDocument(t,e){return new dn(t,3,e,Ct.min(),Ct.min(),Rn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof dn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(t,e){this.position=t,this.inclusive=e}}function qx(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=xt.comparator(xt.fromName(c.referenceValue),e.key):i=_l(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function $x(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ss(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(t,e="asc"){this.field=t,this.dir=e}}function LP(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{}class Oe extends Pw{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new UP(t,e,i):e==="array-contains"?new FP(t,i):e==="in"?new HP(t,i):e==="not-in"?new qP(t,i):e==="array-contains-any"?new $P(t,i):new Oe(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new zP(t,i):new BP(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(_l(e,this.value)):e!==null&&$r(this.value)===$r(e)&&this.matchesComparison(_l(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ri extends Pw{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Ri(t,e)}matches(t){return Nw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Nw(n){return n.op==="and"}function Vw(n){return jP(n)&&Nw(n)}function jP(n){for(const t of n.filters)if(t instanceof Ri)return!1;return!0}function Iy(n){if(n instanceof Oe)return n.field.canonicalString()+n.op.toString()+vl(n.value);if(Vw(n))return n.filters.map(t=>Iy(t)).join(",");{const t=n.filters.map(e=>Iy(e)).join(",");return`${n.op}(${t})`}}function Lw(n,t){return n instanceof Oe?function(i,r){return r instanceof Oe&&i.op===r.op&&i.field.isEqual(r.field)&&ss(i.value,r.value)}(n,t):n instanceof Ri?function(i,r){return r instanceof Ri&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,c,u)=>o&&Lw(c,r.filters[u]),!0):!1}(n,t):void At(19439)}function jw(n){return n instanceof Oe?function(e){return`${e.field.canonicalString()} ${e.op} ${vl(e.value)}`}(n):n instanceof Ri?function(e){return e.op.toString()+" {"+e.getFilters().map(jw).join(" ,")+"}"}(n):"Filter"}class UP extends Oe{constructor(t,e,i){super(t,e,i),this.key=xt.fromName(i.referenceValue)}matches(t){const e=xt.comparator(t.key,this.key);return this.matchesComparison(e)}}class zP extends Oe{constructor(t,e){super(t,"in",e),this.keys=Uw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class BP extends Oe{constructor(t,e){super(t,"not-in",e),this.keys=Uw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Uw(n,t){return(t.arrayValue?.values||[]).map(e=>xt.fromName(e.referenceValue))}class FP extends Oe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return A_(e)&&Mu(e.arrayValue,this.value)}}class HP extends Oe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Mu(this.value.arrayValue,e)}}class qP extends Oe{constructor(t,e){super(t,"not-in",e)}matches(t){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Mu(this.value.arrayValue,e)}}class $P extends Oe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!A_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Mu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(t,e=null,i=[],r=[],o=null,c=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=u,this.Te=null}}function Gx(n,t=null,e=[],i=[],r=null,o=null,c=null){return new GP(n,t,e,i,r,o,c)}function R_(n){const t=It(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Iy(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),sp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>vl(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>vl(i)).join(",")),t.Te=e}return t.Te}function C_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!LP(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Lw(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!$x(n.startAt,t.startAt)&&$x(n.endAt,t.endAt)}function Dy(n){return xt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t,e=null,i=[],r=[],o=null,c="F",u=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=u,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function YP(n,t,e,i,r,o,c,u){return new Zu(n,t,e,i,r,o,c,u)}function I_(n){return new Zu(n)}function Yx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zw(n){return n.collectionGroup!==null}function yu(n){const t=It(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new ze(rn.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Id(o,i))}),e.has(rn.keyField().canonicalString())||t.Ie.push(new Id(rn.keyField(),i))}return t.Ie}function Zi(n){const t=It(n);return t.Ee||(t.Ee=WP(t,yu(n))),t.Ee}function WP(n,t){if(n.limitType==="F")return Gx(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new Id(r.field,o)});const e=n.endAt?new Cd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Cd(n.startAt.position,n.startAt.inclusive):null;return Gx(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function My(n,t){const e=n.filters.concat([t]);return new Zu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Oy(n,t,e){return new Zu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ap(n,t){return C_(Zi(n),Zi(t))&&n.limitType===t.limitType}function Bw(n){return`${R_(Zi(n))}|lt:${n.limitType}`}function sl(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>jw(r)).join(", ")}]`),sp(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>vl(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>vl(r)).join(",")),`Target(${i})`}(Zi(n))}; limitType=${n.limitType})`}function op(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):xt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of yu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(c,u,f){const d=qx(c,u,f);return c.inclusive?d<=0:d<0}(i.startAt,yu(i),r)||i.endAt&&!function(c,u,f){const d=qx(c,u,f);return c.inclusive?d>=0:d>0}(i.endAt,yu(i),r))}(n,t)}function KP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Fw(n){return(t,e)=>{let i=!1;for(const r of yu(n)){const o=QP(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function QP(n,t,e){const i=n.field.isKeyField()?xt.comparator(t.key,e.key):function(o,c,u){const f=c.data.field(o),d=u.data.field(o);return f!==null&&d!==null?_l(f,d):At(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return At(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Zr(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return ww(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=new me(xt.comparator);function Gs(){return XP}const Hw=new me(xt.comparator);function ou(...n){let t=Hw;for(const e of n)t=t.insert(e.key,e);return t}function qw(n){let t=Hw;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ha(){return _u()}function $w(){return _u()}function _u(){return new so(n=>n.toString(),(n,t)=>n.isEqual(t))}const ZP=new me(xt.comparator),JP=new ze(xt.comparator);function jt(...n){let t=JP;for(const e of n)t=t.add(e);return t}const tN=new ze(Lt);function eN(){return tN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wd(t)?"-0":t}}function Gw(n){return{integerValue:""+n}}function nN(n,t){return IP(t)?Gw(t):D_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this._=void 0}}function iN(n,t,e){return n instanceof Ou?function(r,o){const c={fields:{[Cw]:{stringValue:Rw},[Dw]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&w_(o)&&(o=rp(o)),o&&(c.fields[Iw]=o),{mapValue:c}}(e,t):n instanceof bl?Ww(n,t):n instanceof ku?Kw(n,t):function(r,o){const c=Yw(r,o),u=Wx(c)+Wx(r.Ae);return Cy(c)&&Cy(r.Ae)?Gw(u):D_(r.serializer,u)}(n,t)}function sN(n,t,e){return n instanceof bl?Ww(n,t):n instanceof ku?Kw(n,t):e}function Yw(n,t){return n instanceof Dd?function(i){return Cy(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class Ou extends lp{}class bl extends lp{constructor(t){super(),this.elements=t}}function Ww(n,t){const e=Qw(t);for(const i of n.elements)e.some(r=>ss(r,i))||e.push(i);return{arrayValue:{values:e}}}class ku extends lp{constructor(t){super(),this.elements=t}}function Kw(n,t){let e=Qw(t);for(const i of n.elements)e=e.filter(r=>!ss(r,i));return{arrayValue:{values:e}}}class Dd extends lp{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function Wx(n){return Se(n.integerValue||n.doubleValue)}function Qw(n){return A_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,e){this.field=t,this.transform=e}}function rN(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof bl&&r instanceof bl||i instanceof ku&&r instanceof ku?yl(i.elements,r.elements,ss):i instanceof Dd&&r instanceof Dd?ss(i.Ae,r.Ae):i instanceof Ou&&r instanceof Ou}(n.transform,t.transform)}class aN{constructor(t,e){this.version=t,this.transformResults=e}}class hi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class cp{}function Zw(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new M_(n.key,hi.none()):new Ju(n.key,n.data,hi.none());{const e=n.data,i=Rn.empty();let r=new ze(rn.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Jr(n.key,i,new Bn(r.toArray()),hi.none())}}function oN(n,t,e){n instanceof Ju?function(r,o,c){const u=r.value.clone(),f=Qx(r.fieldTransforms,o,c.transformResults);u.setAll(f),o.convertToFoundDocument(c.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Jr?function(r,o,c){if(!cd(r.precondition,o))return void o.convertToUnknownDocument(c.version);const u=Qx(r.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(Jw(r)),f.setAll(u),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,t,e):function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function vu(n,t,e,i){return n instanceof Ju?function(o,c,u,f){if(!cd(o.precondition,c))return u;const d=o.value.clone(),m=Xx(o.fieldTransforms,f,c);return d.setAll(m),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null}(n,t,e,i):n instanceof Jr?function(o,c,u,f){if(!cd(o.precondition,c))return u;const d=Xx(o.fieldTransforms,f,c),m=c.data;return m.setAll(Jw(o)),m.setAll(d),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,t,e,i):function(o,c,u){return cd(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u}(n,t,e)}function lN(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=Yw(i.transform,r||null);o!=null&&(e===null&&(e=Rn.empty()),e.set(i.field,o))}return e||null}function Kx(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&yl(i,r,(o,c)=>rN(o,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Ju extends cp{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Jr extends cp{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Qx(n,t,e){const i=new Map;Kt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,u=t.data.field(o.field);i.set(o.field,sN(c,u,e[r]))}return i}function Xx(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,iN(o,c,t))}return i}class M_ extends cp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cN extends cp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&oN(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=vu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=vu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=$w();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let u=this.applyToLocalView(c,o.mutatedFields);u=e.has(r.key)?null:u;const f=Zw(c,u);f!==null&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(Ct.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),jt())}isEqual(t){return this.batchId===t.batchId&&yl(this.mutations,t.mutations,(e,i)=>Kx(e,i))&&yl(this.baseMutations,t.baseMutations,(e,i)=>Kx(e,i))}}class O_{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Kt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=function(){return ZP}();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new O_(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,Ft;function dN(n){switch(n){case at.OK:return At(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return At(15467,{code:n})}}function tA(n){if(n===void 0)return $s("GRPC error has no .code"),at.UNKNOWN;switch(n){case Me.OK:return at.OK;case Me.CANCELLED:return at.CANCELLED;case Me.UNKNOWN:return at.UNKNOWN;case Me.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case Me.INTERNAL:return at.INTERNAL;case Me.UNAVAILABLE:return at.UNAVAILABLE;case Me.UNAUTHENTICATED:return at.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case Me.NOT_FOUND:return at.NOT_FOUND;case Me.ALREADY_EXISTS:return at.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return at.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case Me.ABORTED:return at.ABORTED;case Me.OUT_OF_RANGE:return at.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return at.UNIMPLEMENTED;case Me.DATA_LOSS:return at.DATA_LOSS;default:return At(39323,{code:n})}}(Ft=Me||(Me={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new Vr([4294967295,4294967295],0);function Zx(n){const t=pN().encode(n),e=new pw;return e.update(t),new Uint8Array(e.digest())}function Jx(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Vr([e,i],0),new Vr([r,o],0)]}class k_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new lu(`Invalid padding: ${e}`);if(i<0)throw new lu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new lu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Vr.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Vr.fromNumber(i)));return r.compare(gN)===1&&(r=new Vr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=Zx(t),[i,r]=Jx(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new k_(o,r,e);return i.forEach(u=>c.insert(u)),c}insert(t){if(this.ge===0)return;const e=Zx(t),[i,r]=Jx(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,th.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new up(Ct.min(),r,new me(Lt),Gs(),jt())}}class th{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new th(i,e,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class eA{constructor(t,e){this.targetId=t,this.Ce=e}}class nA{constructor(t,e,i=an.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class t1{constructor(){this.ve=0,this.Fe=e1(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),e=jt(),i=jt();return this.Fe.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:At(38017,{changeType:o})}}),new th(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=e1()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mN{constructor(t){this.Ge=t,this.ze=new Map,this.je=Gs(),this.Je=Nf(),this.He=Nf(),this.Ye=new me(Lt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:At(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach((i,r)=>{this.rt(r)&&e(r)})}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(Dy(o))if(i===0){const c=new xt(o.path);this.et(e,c,dn.newNoDocument(c,Ct.min()))}else Kt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const u=this.ut(t),f=u?this.ct(u,t,c):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,u;try{c=qr(i).toUint8Array()}catch(f){if(f instanceof Aw)return ml("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new k_(c,r,o)}catch(f){return ml(f instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const c=this.Ge.ht(),u=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.et(e,o,null),r++)}),r}Tt(t){const e=new Map;this.ze.forEach((o,c)=>{const u=this.ot(c);if(u){if(o.current&&Dy(u.target)){const f=new xt(u.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,dn.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}});let i=jt();this.He.forEach((o,c)=>{let u=!0;c.forEachWhile(f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.je.forEach((o,c)=>c.setReadTime(t));const r=new up(t,e,this.Ye,this.je,i);return this.je=Gs(),this.Je=Nf(),this.He=Nf(),this.Ye=new me(Lt),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new t1,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new ze(Lt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new ze(Lt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||yt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new t1),this.Ge.getRemoteKeysForTarget(t).forEach(e=>{this.et(t,e,null)})}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Nf(){return new me(xt.comparator)}function e1(){return new me(xt.comparator)}const yN={asc:"ASCENDING",desc:"DESCENDING"},_N={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vN={and:"AND",or:"OR"};class bN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ky(n,t){return n.useProto3Json||sp(t)?t:{value:t}}function Md(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iA(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function EN(n,t){return Md(n,t.toTimestamp())}function Ji(n){return Kt(!!n,49232),Ct.fromTimestamp(function(e){const i=Hr(e);return new le(i.seconds,i.nanos)}(n))}function P_(n,t){return Py(n,t).canonicalString()}function Py(n,t){const e=function(r){return new oe(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function sA(n){const t=oe.fromString(n);return Kt(cA(t),10190,{key:t.toString()}),t}function Ny(n,t){return P_(n.databaseId,t.path)}function $m(n,t){const e=sA(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new xt(aA(e))}function rA(n,t){return P_(n.databaseId,t)}function xN(n){const t=sA(n);return t.length===4?oe.emptyPath():aA(t)}function Vy(n){return new oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aA(n){return Kt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function n1(n,t,e){return{name:Ny(n,t),fields:e.value.mapValue.fields}}function TN(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:At(39313,{state:d})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(d,m){return d.useProto3Json?(Kt(m===void 0||typeof m=="string",58123),an.fromBase64String(m||"")):(Kt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),an.fromUint8Array(m||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,u=c&&function(d){const m=d.code===void 0?at.UNKNOWN:tA(d.code);return new mt(m,d.message||"")}(c);e=new nA(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=$m(n,i.document.name),o=Ji(i.document.updateTime),c=i.document.createTime?Ji(i.document.createTime):Ct.min(),u=new Rn({mapValue:{fields:i.document.fields}}),f=dn.newFoundDocument(r,o,c,u),d=i.targetIds||[],m=i.removedTargetIds||[];e=new ud(d,m,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=$m(n,i.document),o=i.readTime?Ji(i.readTime):Ct.min(),c=dn.newNoDocument(r,o),u=i.removedTargetIds||[];e=new ud([],u,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=$m(n,i.document),o=i.removedTargetIds||[];e=new ud([],o,r,null)}else{if(!("filter"in t))return At(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new fN(r,o),u=i.targetId;e=new eA(u,c)}}return e}function SN(n,t){let e;if(t instanceof Ju)e={update:n1(n,t.key,t.value)};else if(t instanceof M_)e={delete:Ny(n,t.key)};else if(t instanceof Jr)e={update:n1(n,t.key,t.data),updateMask:kN(t.fieldMask)};else{if(!(t instanceof cN))return At(16599,{Vt:t.type});e={verify:Ny(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,c){const u=c.transform;if(u instanceof Ou)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof bl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ku)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Dd)return{fieldPath:c.field.canonicalString(),increment:u.Ae};throw At(20930,{transform:c.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:EN(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:At(27497)}(n,t.precondition)),e}function wN(n,t){return n&&n.length>0?(Kt(t!==void 0,14353),n.map(e=>function(r,o){let c=r.updateTime?Ji(r.updateTime):Ji(o);return c.isEqual(Ct.min())&&(c=Ji(o)),new aN(c,r.transformResults||[])}(e,t))):[]}function AN(n,t){return{documents:[rA(n,t.path)]}}function RN(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=rA(n,r);const o=function(d){if(d.length!==0)return lA(Ri.create(d,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const c=function(d){if(d.length!==0)return d.map(m=>function(v){return{field:rl(v.field),direction:DN(v.dir)}}(m))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const u=ky(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ft:e,parent:r}}function CN(n){let t=xN(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Kt(i===1,65062);const m=e.from[0];m.allDescendants?r=m.collectionId:t=t.child(m.collectionId)}let o=[];e.where&&(o=function(_){const v=oA(_);return v instanceof Ri&&Vw(v)?v.getFilters():[v]}(e.where));let c=[];e.orderBy&&(c=function(_){return _.map(v=>function(w){return new Id(al(w.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(v))}(e.orderBy));let u=null;e.limit&&(u=function(_){let v;return v=typeof _=="object"?_.value:_,sp(v)?null:v}(e.limit));let f=null;e.startAt&&(f=function(_){const v=!!_.before,E=_.values||[];return new Cd(E,v)}(e.startAt));let d=null;return e.endAt&&(d=function(_){const v=!_.before,E=_.values||[];return new Cd(E,v)}(e.endAt)),YP(t,r,c,o,u,"F",f,d)}function IN(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function oA(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=al(e.unaryFilter.field);return Oe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=al(e.unaryFilter.field);return Oe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=al(e.unaryFilter.field);return Oe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=al(e.unaryFilter.field);return Oe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}}(n):n.fieldFilter!==void 0?function(e){return Oe.create(al(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Ri.create(e.compositeFilter.filters.map(i=>oA(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return At(1026)}}(e.compositeFilter.op))}(n):At(30097,{filter:n})}function DN(n){return yN[n]}function MN(n){return _N[n]}function ON(n){return vN[n]}function rl(n){return{fieldPath:n.canonicalString()}}function al(n){return rn.fromServerFormat(n.fieldPath)}function lA(n){return n instanceof Oe?function(e){if(e.op==="=="){if(Hx(e.value))return{unaryFilter:{field:rl(e.field),op:"IS_NAN"}};if(Fx(e.value))return{unaryFilter:{field:rl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Hx(e.value))return{unaryFilter:{field:rl(e.field),op:"IS_NOT_NAN"}};if(Fx(e.value))return{unaryFilter:{field:rl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(e.field),op:MN(e.op),value:e.value}}}(n):n instanceof Ri?function(e){const i=e.getFilters().map(r=>lA(r));return i.length===1?i[0]:{compositeFilter:{op:ON(e.op),filters:i}}}(n):At(54877,{filter:n})}function kN(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function cA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,e,i,r,o=Ct.min(),c=Ct.min(),u=an.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(t){return new Dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(t){this.yt=t}}function NN(n){const t=CN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Oy(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.Cn=new LN}addToCollectionParentIndex(t,e){return this.Cn.add(e),ct.resolve()}getCollectionParents(t,e){return ct.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ct.resolve()}deleteFieldIndex(t,e){return ct.resolve()}deleteAllFieldIndexes(t){return ct.resolve()}createTargetIndexes(t,e){return ct.resolve()}getDocumentsMatchingTarget(t,e){return ct.resolve(null)}getIndexType(t,e){return ct.resolve(0)}getFieldIndexes(t,e){return ct.resolve([])}getNextCollectionGroupToUpdate(t){return ct.resolve(null)}getMinOffset(t,e){return ct.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,e){return ct.resolve(Fr.min())}updateCollectionGroup(t,e,i){return ct.resolve()}updateIndexEntries(t,e){return ct.resolve()}}class LN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new ze(oe.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ze(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uA=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(uA,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new El(0)}static cr(){return new El(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="LruGarbageCollector",jN=1048576;function r1([n,t],[e,i]){const r=Lt(n,e);return r===0?Lt(t,i):r}class UN{constructor(t){this.Ir=t,this.buffer=new ze(r1),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();r1(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class zN{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){yt(s1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Vl(e)?yt(s1,"Ignoring IndexedDB error during garbage collection: ",e):await Nl(e)}await this.Vr(3e5)})}}class BN{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return ct.resolve(ip.ce);const i=new UN(e);return this.mr.forEachTarget(t,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(t,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(i1)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i1):this.yr(t,e))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,c,u,f,d;const m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,c=Date.now(),this.nthSequenceNumber(t,r))).next(_=>(i=_,u=Date.now(),this.removeTargets(t,i,e))).next(_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(_=>(d=Date.now(),il()<=Vt.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-m}ms
	Determined least recently used ${r} in `+(u-c)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-m}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_})))}}function FN(n,t){return new BN(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(){this.changes=new so(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,dn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ct.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&vu(i.mutation,r,Bn.empty(),le.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,jt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=jt()){const r=Ha();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=ou();return o.forEach((u,f)=>{c=c.insert(u,f.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=Ha();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,jt()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,u)=>{e.set(c,u)})})}computeViews(t,e,i,r){let o=Gs();const c=_u(),u=function(){return _u()}();return e.forEach((f,d)=>{const m=i.get(d.key);r.has(d.key)&&(m===void 0||m.mutation instanceof Jr)?o=o.insert(d.key,d):m!==void 0?(c.set(d.key,m.mutation.getFieldMask()),vu(m.mutation,d,m.mutation.getFieldMask(),le.now())):c.set(d.key,Bn.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((d,m)=>c.set(d,m)),e.forEach((d,m)=>u.set(d,new qN(m,c.get(d)??null))),u))}recalculateAndSaveOverlays(t,e){const i=_u();let r=new me((c,u)=>c-u),o=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const u of c)u.keys().forEach(f=>{const d=e.get(f);if(d===null)return;let m=i.get(f)||Bn.empty();m=u.applyToLocalView(d,m),i.set(f,m);const _=(r.get(u.batchId)||jt()).add(f);r=r.insert(u.batchId,_)})}).next(()=>{const c=[],u=r.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,m=f.value,_=$w();m.forEach(v=>{if(!o.has(v)){const E=Zw(e.get(v),i.get(v));E!==null&&_.set(v,E),o=o.add(v)}}),c.push(this.documentOverlayCache.saveOverlays(t,d,_))}return ct.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(c){return xt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):zw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ct.resolve(Ha());let u=Cu,f=o;return c.next(d=>ct.forEach(d,(m,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(m)?ct.resolve():this.remoteDocumentCache.getEntry(t,m).next(v=>{f=f.insert(m,v)}))).next(()=>this.populateOverlays(t,d,o)).next(()=>this.computeViews(t,f,d,jt())).next(m=>({batchId:u,changes:qw(m)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new xt(e)).next(i=>{let r=ou();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=ou();return this.indexManager.getCollectionParents(t,o).next(u=>ct.forEach(u,f=>{const d=function(_,v){return new Zu(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next(m=>{m.forEach((_,v)=>{c=c.insert(_,v)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(c=>{o.forEach((f,d)=>{const m=d.getKey();c.get(m)===null&&(c=c.insert(m,dn.newInvalidDocument(m)))});let u=ou();return c.forEach((f,d)=>{const m=o.get(f);m!==void 0&&vu(m.mutation,d,Bn.empty(),le.now()),op(e,d)&&(u=u.insert(f,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ct.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:Ji(r.createTime)}}(e)),ct.resolve()}getNamedQuery(t,e){return ct.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,function(r){return{name:r.name,query:NN(r.bundledQuery),readTime:Ji(r.readTime)}}(e)),ct.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.overlays=new me(xt.comparator),this.qr=new Map}getOverlay(t,e){return ct.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ha();return ct.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.St(t,e,o)}),ct.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(i)),ct.resolve()}getOverlaysForCollection(t,e,i){const r=Ha(),o=e.length+1,c=new xt(e.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&r.set(f.getKey(),f)}return ct.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new me((d,m)=>d-m);const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let m=o.get(d.largestBatchId);m===null&&(m=Ha(),o=o.insert(d.largestBatchId,m)),m.set(d.getKey(),d)}}const u=Ha(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,m)=>u.set(d,m)),!(u.size()>=r)););return ct.resolve(u)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new hN(e,i));let o=this.qr.get(e);o===void 0&&(o=jt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(t){return ct.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ct.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.Qr=new ze(We.$r),this.Ur=new ze(We.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new We(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Gr(new We(t,e))}zr(t,e){t.forEach(i=>this.removeReference(i,e))}jr(t){const e=new xt(new oe([])),i=new We(e,t),r=new We(e,t+1),o=[];return this.Ur.forEachInRange([i,r],c=>{this.Gr(c),o.push(c.key)}),o}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new xt(new oe([])),i=new We(e,t),r=new We(e,t+1);let o=jt();return this.Ur.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new We(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class We{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return xt.comparator(t.key,e.key)||Lt(t.Yr,e.Yr)}static Kr(t,e){return Lt(t.Yr,e.Yr)||xt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new ze(We.$r)}checkEmpty(t){return ct.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new uN(o,e,i,r);this.mutationQueue.push(c);for(const u of r)this.Zr=this.Zr.add(new We(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ct.resolve(c)}lookupMutationBatch(t,e){return ct.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return ct.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(this.mutationQueue.length===0?S_:this.tr-1)}getAllMutationBatches(t){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new We(e,0),r=new We(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],c=>{const u=this.Xr(c.Yr);o.push(u)}),ct.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ze(Lt);return e.forEach(r=>{const o=new We(r,0),c=new We(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],u=>{i=i.add(u.Yr)})}),ct.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;xt.isDocumentKey(o)||(o=o.child(""));const c=new We(new xt(o),0);let u=new ze(Lt);return this.Zr.forEachWhile(f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(u=u.add(f.Yr)),!0)},c),ct.resolve(this.ti(u))}ti(t){const e=[];return t.forEach(i=>{const r=this.Xr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){Kt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ct.forEach(e.mutations,r=>{const o=new We(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,e){const i=new We(e,0),r=this.Zr.firstAfterOrEqual(i);return ct.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,ct.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(t){this.ri=t,this.docs=function(){return new me(xt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ct.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(e))}getEntries(t,e){let i=Gs();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():dn.newInvalidDocument(r))}),ct.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Gs();const c=e.path,u=new xt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:m}}=f.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||wP(SP(m),i)<=0||(r.has(m.key)||op(e,m))&&(o=o.insert(m.key,m.mutableCopy()))}return ct.resolve(o)}getAllFromCollectionGroup(t,e,i,r){At(9500)}ii(t,e){return ct.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new XN(this)}getSize(t){return ct.resolve(this.size)}}class XN extends HN{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)}),ct.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(t){this.persistence=t,this.si=new so(e=>R_(e),C_),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new N_,this.targetCount=0,this.ai=El.ur()}forEachTarget(t,e){return this.si.forEach((i,r)=>e(r)),ct.resolve()}getLastRemoteSnapshotVersion(t){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ct.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),ct.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new El(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ct.resolve()}updateTargetData(t,e){return this.Pr(e),ct.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ct.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach((c,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),ct.waitFor(o).next(()=>r)}getTargetCount(t){return ct.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return ct.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),ct.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),ct.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ct.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return ct.resolve(i)}containsKey(t,e){return ct.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,e){this.ui={},this.overlays={},this.ci=new ip(0),this.li=!1,this.li=!0,this.hi=new WN,this.referenceDelegate=t(this),this.Pi=new ZN(this),this.indexManager=new VN,this.remoteDocumentCache=function(r){return new QN(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new PN(e),this.Ii=new GN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new YN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new KN(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){yt("MemoryPersistence","Starting transaction:",t);const r=new JN(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ai(t,e){return ct.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,e)))}}class JN extends RP{constructor(t){super(),this.currentSequenceNumber=t}}class V_{constructor(t){this.persistence=t,this.Ri=new N_,this.Vi=null}static mi(t){return new V_(t)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),ct.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),ct.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ct.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.fi.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.fi,i=>{const r=xt.fromPath(i);return this.gi(t,r).next(o=>{o||e.removeEntry(r,Ct.min())})}).next(()=>(this.Vi=null,e.apply(t)))}updateLimboDocument(t,e){return this.gi(t,e).next(i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())})}Ti(t){return 0}gi(t,e){return ct.or([()=>ct.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Od{constructor(t,e){this.persistence=t,this.pi=new so(i=>DP(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=FN(this,e)}static mi(t,e){return new Od(t,e)}Ei(){}di(t){return ct.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}wr(t){let e=0;return this.pr(t,i=>{e++}).next(()=>e)}pr(t,e){return ct.forEach(this.pi,(i,r)=>this.br(t,i,r).next(o=>o?ct.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,c=>this.br(t,c,e).next(u=>{u||(i++,o.removeEntry(c,Ct.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ct.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ct.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ct.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ct.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=od(t.data.value)),e}br(t,e,i){return ct.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return ct.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=jt(),r=jt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new L_(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return kD()?8:CP(gn())>0?6:4}()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.ws(t,e,r,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new t4;return this.Ss(t,e,c).next(u=>{if(o.result=u,this.Vs)return this.bs(t,e,c,u.size)})}).next(()=>o.result)}bs(t,e,i,r){return i.documentReadCount<this.fs?(il()<=Vt.DEBUG&&yt("QueryEngine","SDK will not create cache indexes for query:",sl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ct.resolve()):(il()<=Vt.DEBUG&&yt("QueryEngine","Query:",sl(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(il()<=Vt.DEBUG&&yt("QueryEngine","The SDK decides to create cache indexes for query:",sl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zi(e))):ct.resolve())}ys(t,e){if(Yx(e))return ct.resolve(null);let i=Zi(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=Oy(e,null,"F"),i=Zi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=jt(...o);return this.ps.getDocuments(t,c).next(u=>this.indexManager.getMinOffset(t,i).next(f=>{const d=this.Ds(e,u);return this.Cs(e,d,c,f.readTime)?this.ys(t,Oy(e,null,"F")):this.vs(t,d,e,f)}))})))}ws(t,e,i,r){return Yx(e)||r.isEqual(Ct.min())?ct.resolve(null):this.ps.getDocuments(t,i).next(o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,r)?ct.resolve(null):(il()<=Vt.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sl(e)),this.vs(t,c,e,TP(r,Cu)).next(u=>u))})}Ds(t,e){let i=new ze(Fw(t));return e.forEach((r,o)=>{op(t,o)&&(i=i.add(o))}),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return il()<=Vt.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",sl(e)),this.ps.getDocumentsMatchingQuery(t,e,Fr.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="LocalStore",n4=3e8;class i4{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new me(Lt),this.xs=new so(o=>R_(o),C_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $N(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ms))}}function s4(n,t,e,i){return new i4(n,t,e,i)}async function fA(n,t){const e=It(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],u=[];let f=jt();for(const d of r){c.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}for(const d of o){u.push(d.batchId);for(const m of d.mutations)f=f.add(m.key)}return e.localDocuments.getDocuments(i,f).next(d=>({Ls:d,removedBatchIds:c,addedBatchIds:u}))})})}function r4(n,t){const e=It(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return function(u,f,d,m){const _=d.batch,v=_.keys();let E=ct.resolve();return v.forEach(w=>{E=E.next(()=>m.getEntry(f,w)).next(C=>{const A=d.docVersions.get(w);Kt(A!==null,48541),C.version.compareTo(A)<0&&(_.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),m.addEntry(C)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(f,_))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=jt();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function dA(n){const t=It(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function a4(n,t){const e=It(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const u=[];t.targetChanges.forEach((m,_)=>{const v=r.get(_);if(!v)return;u.push(e.Pi.removeMatchingKeys(o,m.removedDocuments,_).next(()=>e.Pi.addMatchingKeys(o,m.addedDocuments,_)));let E=v.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?E=E.withResumeToken(an.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):m.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(m.resumeToken,i)),r=r.insert(_,E),function(C,A,k){return C.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=n4?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(v,E,m)&&u.push(e.Pi.updateTargetData(o,E))});let f=Gs(),d=jt();if(t.documentUpdates.forEach(m=>{t.resolvedLimboDocuments.has(m)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(o4(o,c,t.documentUpdates).next(m=>{f=m.ks,d=m.qs})),!i.isEqual(Ct.min())){const m=e.Pi.getLastRemoteSnapshotVersion(o).next(_=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(m)}return ct.waitFor(u).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(e.Ms=r,o))}function o4(n,t,e){let i=jt(),r=jt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=Gs();return e.forEach((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(u)),f.isNoDocument()&&f.version.isEqual(Ct.min())?(t.removeEntry(u,f.readTime),c=c.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),c=c.insert(u,f)):yt(j_,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)}),{ks:c,qs:r}})}function l4(n,t){const e=It(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=S_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function c4(n,t){const e=It(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Pi.getTargetData(i,t).next(o=>o?(r=o,ct.resolve(r)):e.Pi.allocateTargetId(i).next(c=>(r=new Dr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i})}async function Ly(n,t,e){const i=It(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r))}catch(c){if(!Vl(c))throw c;yt(j_,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function a1(n,t,e){const i=It(n);let r=Ct.min(),o=jt();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,d,m){const _=It(f),v=_.xs.get(m);return v!==void 0?ct.resolve(_.Ms.get(v)):_.Pi.getTargetData(d,m)}(i,c,Zi(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,u.targetId).next(f=>{o=f})}).next(()=>i.Fs.getDocumentsMatchingQuery(c,t,e?r:Ct.min(),e?o:jt())).next(u=>(u4(i,KP(t),u),{documents:u,Qs:o})))}function u4(n,t,e){let i=n.Os.get(t)||Ct.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Os.set(t,i)}class o1{constructor(){this.activeTargetIds=eN()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class h4{constructor(){this.Mo=new o1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new o1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="ConnectivityMonitor";class c1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){yt(l1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){yt(l1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf=null;function jy(){return Vf===null?Vf=function(){return 268435456+Math.round(2147483648*Math.random())}():Vf++,"0x"+Vf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="RestConnection",d4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class p4{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Ad?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const c=jy(),u=this.zo(t,e.toUriEncodedString());yt(Gm,`Sending RPC '${t}' ${c}:`,u,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,r,o);const{host:d}=new URL(u),m=Ml(d);return this.Jo(t,u,f,i,m).then(_=>(yt(Gm,`Received RPC '${t}' ${c}: `,_),_),_=>{throw ml(Gm,`RPC '${t}' ${c} failed with error: `,_,"url: ",u,"request:",i),_})}Ho(t,e,i,r,o,c){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}zo(t,e){const i=d4[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class m4 extends p4{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const c=jy();return new Promise((u,f)=>{const d=new gw;d.setWithCredentials(!0),d.listenOnce(mw.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ad.NO_ERROR:const _=d.getResponseJson();yt(un,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),u(_);break;case ad.TIMEOUT:yt(un,`RPC '${t}' ${c} timed out`),f(new mt(at.DEADLINE_EXCEEDED,"Request time out"));break;case ad.HTTP_ERROR:const v=d.getStatus();if(yt(un,`RPC '${t}' ${c} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E?.error;if(w&&w.status&&w.message){const C=function(k){const q=k.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(q)>=0?q:at.UNKNOWN}(w.status);f(new mt(C,w.message))}else f(new mt(at.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new mt(at.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:t,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{yt(un,`RPC '${t}' ${c} completed.`)}});const m=JSON.stringify(r);yt(un,`RPC '${t}' ${c} sending request:`,r),d.send(e,"POST",m,i,15)})}T_(t,e,i){const r=jy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=vw(),u=_w(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const m=o.join("");yt(un,`Creating RPC '${t}' stream ${r}: ${m}`,f);const _=c.createWebChannel(m,f);this.I_(_);let v=!1,E=!1;const w=new g4({Yo:A=>{E?yt(un,`Not sending because RPC '${t}' stream ${r} is closed:`,A):(v||(yt(un,`Opening RPC '${t}' stream ${r} transport.`),_.open(),v=!0),yt(un,`RPC '${t}' stream ${r} sending:`,A),_.send(A))},Zo:()=>_.close()}),C=(A,k,q)=>{A.listen(k,$=>{try{q($)}catch(tt){setTimeout(()=>{throw tt},0)}})};return C(_,au.EventType.OPEN,()=>{E||(yt(un,`RPC '${t}' stream ${r} transport opened.`),w.o_())}),C(_,au.EventType.CLOSE,()=>{E||(E=!0,yt(un,`RPC '${t}' stream ${r} transport closed`),w.a_(),this.E_(_))}),C(_,au.EventType.ERROR,A=>{E||(E=!0,ml(un,`RPC '${t}' stream ${r} transport errored. Name:`,A.name,"Message:",A.message),w.a_(new mt(at.UNAVAILABLE,"The operation could not be completed")))}),C(_,au.EventType.MESSAGE,A=>{if(!E){const k=A.data[0];Kt(!!k,16349);const q=k,$=q?.error||q[0]?.error;if($){yt(un,`RPC '${t}' stream ${r} received error:`,$);const tt=$.status;let L=function(R){const M=Me[R];if(M!==void 0)return tA(M)}(tt),Q=$.message;L===void 0&&(L=at.INTERNAL,Q="Unknown error status: "+tt+" with message "+$.message),E=!0,w.a_(new mt(L,Q)),_.close()}else yt(un,`RPC '${t}' stream ${r} received:`,k),w.u_(k)}}),C(u,yw.STAT_EVENT,A=>{A.stat===wy.PROXY?yt(un,`RPC '${t}' stream ${r} detected buffering proxy`):A.stat===wy.NOPROXY&&yt(un,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(e=>e===t)}}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(n){return new bN(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&yt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="PersistentStream";class gA{constructor(t,e,i,r,o,c,u,f){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pA(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===at.RESOURCE_EXHAUSTED?($s(e.toString()),$s("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===e&&this.G_(i,r)},i=>{t(()=>{const r=new mt(at.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return yt(u1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget(()=>this.D_===t?e():(yt(u1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y4 extends gA{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=TN(this.serializer,t),i=function(o){if(!("targetChange"in o))return Ct.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ct.min():c.readTime?Ji(c.readTime):Ct.min()}(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Vy(this.serializer),e.addTarget=function(o,c){let u;const f=c.target;if(u=Dy(f)?{documents:AN(o,f)}:{query:RN(o,f).ft},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=iA(o,c.resumeToken);const d=ky(o,c.expectedCount);d!==null&&(u.expectedCount=d)}else if(c.snapshotVersion.compareTo(Ct.min())>0){u.readTime=Md(o,c.snapshotVersion.toTimestamp());const d=ky(o,c.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,t);const i=IN(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Vy(this.serializer),e.removeTarget=t,this.q_(e)}}class _4 extends gA{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=wN(t.writeResults,t.commitTime),i=Ji(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Vy(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>SN(this.serializer,i))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{}class b4 extends v4{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new mt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Go(t,Py(e,i),r,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new mt(at.UNKNOWN,o.toString())})}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,u])=>this.connection.Ho(t,Py(e,i),r,c,u,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(at.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class E4{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($s(e),this.aa=!1):yt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="RemoteStore";class x4{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(c=>{i.enqueueAndForget(async()=>{ro(this)&&(yt(Ja,"Restarting streams for network reachability change."),await async function(f){const d=It(f);d.Ea.add(4),await eh(d),d.Ra.set("Unknown"),d.Ea.delete(4),await fp(d)}(this))})}),this.Ra=new E4(i,r)}}async function fp(n){if(ro(n))for(const t of n.da)await t(!0)}async function eh(n){for(const t of n.da)await t(!1)}function mA(n,t){const e=It(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),F_(e)?B_(e):Ll(e).O_()&&z_(e,t))}function U_(n,t){const e=It(n),i=Ll(e);e.Ia.delete(t),i.O_()&&yA(e,t),e.Ia.size===0&&(i.O_()?i.L_():ro(e)&&e.Ra.set("Unknown"))}function z_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ll(n).Y_(t)}function yA(n,t){n.Va.Ue(t),Ll(n).Z_(t)}function B_(n){n.Va=new mN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Ll(n).start(),n.Ra.ua()}function F_(n){return ro(n)&&!Ll(n).x_()&&n.Ia.size>0}function ro(n){return It(n).Ea.size===0}function _A(n){n.Va=void 0}async function T4(n){n.Ra.set("Online")}async function S4(n){n.Ia.forEach((t,e)=>{z_(n,t)})}async function w4(n,t){_A(n),F_(n)?(n.Ra.ha(t),B_(n)):n.Ra.set("Unknown")}async function A4(n,t,e){if(n.Ra.set("Online"),t instanceof nA&&t.state===2&&t.cause)try{await async function(r,o){const c=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,c),r.Ia.delete(u),r.Va.removeTarget(u))}(n,t)}catch(i){yt(Ja,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await kd(n,i)}else if(t instanceof ud?n.Va.Ze(t):t instanceof eA?n.Va.st(t):n.Va.tt(t),!e.isEqual(Ct.min()))try{const i=await dA(n.localStore);e.compareTo(i)>=0&&await function(o,c){const u=o.Va.Tt(c);return u.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const m=o.Ia.get(d);m&&o.Ia.set(d,m.withResumeToken(f.resumeToken,c))}}),u.targetMismatches.forEach((f,d)=>{const m=o.Ia.get(f);if(!m)return;o.Ia.set(f,m.withResumeToken(an.EMPTY_BYTE_STRING,m.snapshotVersion)),yA(o,f);const _=new Dr(m.target,f,d,m.sequenceNumber);z_(o,_)}),o.remoteSyncer.applyRemoteEvent(u)}(n,e)}catch(i){yt(Ja,"Failed to raise snapshot:",i),await kd(n,i)}}async function kd(n,t,e){if(!Vl(t))throw t;n.Ea.add(1),await eh(n),n.Ra.set("Offline"),e||(e=()=>dA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{yt(Ja,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await fp(n)})}function vA(n,t){return t().catch(e=>kd(n,e,t))}async function dp(n){const t=It(n),e=Gr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:S_;for(;R4(t);)try{const r=await l4(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,C4(t,r)}catch(r){await kd(t,r)}bA(t)&&EA(t)}function R4(n){return ro(n)&&n.Ta.length<10}function C4(n,t){n.Ta.push(t);const e=Gr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function bA(n){return ro(n)&&!Gr(n).x_()&&n.Ta.length>0}function EA(n){Gr(n).start()}async function I4(n){Gr(n).ra()}async function D4(n){const t=Gr(n);for(const e of n.Ta)t.ea(e.mutations)}async function M4(n,t,e){const i=n.Ta.shift(),r=O_.from(i,t,e);await vA(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await dp(n)}async function O4(n,t){t&&Gr(n).X_&&await async function(i,r){if(function(c){return dN(c)&&c!==at.ABORTED}(r.code)){const o=i.Ta.shift();Gr(i).B_(),await vA(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await dp(i)}}(n,t),bA(n)&&EA(n)}async function h1(n,t){const e=It(n);e.asyncQueue.verifyOperationInProgress(),yt(Ja,"RemoteStore received new credentials");const i=ro(e);e.Ea.add(3),await eh(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await fp(e)}async function k4(n,t){const e=It(n);t?(e.Ea.delete(2),await fp(e)):t||(e.Ea.add(2),await eh(e),e.Ra.set("Unknown"))}function Ll(n){return n.ma||(n.ma=function(e,i,r){const o=It(e);return o.sa(),new y4(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Xo:T4.bind(null,n),t_:S4.bind(null,n),r_:w4.bind(null,n),H_:A4.bind(null,n)}),n.da.push(async t=>{t?(n.ma.B_(),F_(n)?B_(n):n.Ra.set("Unknown")):(await n.ma.stop(),_A(n))})),n.ma}function Gr(n){return n.fa||(n.fa=function(e,i,r){const o=It(e);return o.sa(),new _4(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:I4.bind(null,n),r_:O4.bind(null,n),ta:D4.bind(null,n),na:M4.bind(null,n)}),n.da.push(async t=>{t?(n.fa.B_(),await dp(n)):(await n.fa.stop(),n.Ta.length>0&&(yt(Ja,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,u=new H_(t,e,c,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q_(n,t){if($s("AsyncQueue",`${t}: ${n}`),Vl(n))return new mt(at.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{static emptySet(t){return new hl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||xt.comparator(e.key,i.key):(e,i)=>xt.comparator(e.key,i.key),this.keyedMap=ou(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof hl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new hl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.ga=new me(xt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):At(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal((e,i)=>{t.push(i)}),t}}class xl{constructor(t,e,i,r,o,c,u,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach(u=>{c.push({type:0,doc:u})}),new xl(t,e,hl.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ap(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class N4{constructor(){this.queries=d1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=It(e),o=r.queries;r.queries=d1(),o.forEach((c,u)=>{for(const f of u.Sa)f.onError(i)})})(this,new mt(at.ABORTED,"Firestore shutting down"))}}function d1(){return new so(n=>Bw(n),ap)}async function xA(n,t){const e=It(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new P4,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const u=q_(c,`Initialization of query '${sl(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&$_(e)}async function TA(n,t){const e=It(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function V4(n,t){const e=It(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const u of c.Sa)u.Fa(r)&&(i=!0);c.wa=r}}i&&$_(e)}function L4(n,t,e){const i=It(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function $_(n){n.Ca.forEach(t=>{t.next()})}var Uy,p1;(p1=Uy||(Uy={})).Ma="default",p1.Cache="cache";class SA{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new xl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=xl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Uy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t){this.key=t}}class AA{constructor(t){this.key=t}}class j4{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=Fw(t),this.tu=new hl(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new f1,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,u=!1;const f=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((m,_)=>{const v=r.get(m),E=op(this.query,_)?_:null,w=!!v&&this.mutatedKeys.has(v.key),C=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let A=!1;v&&E?v.data.isEqual(E.data)?w!==C&&(i.track({type:3,doc:E}),A=!0):this.su(v,E)||(i.track({type:2,doc:E}),A=!0,(f&&this.eu(E,f)>0||d&&this.eu(E,d)<0)&&(u=!0)):!v&&E?(i.track({type:0,doc:E}),A=!0):v&&!E&&(i.track({type:1,doc:v}),A=!0,(f||d)&&(u=!0)),A&&(E?(c=c.add(E),o=C?o.add(m):o.delete(m)):(c=c.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const m=this.query.limitType==="F"?c.last():c.first();c=c.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{tu:c,iu:i,Cs:u,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort((m,_)=>function(E,w){const C=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:A})}};return C(E)-C(w)}(m.type,_.type)||this.eu(m.doc,_.doc)),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],f=this.Xa.size===0&&this.current&&!r?1:0,d=f!==this.Za;return this.Za=f,c.length!==0||d?{snapshot:new xl(this.query,t.tu,o,c,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const e=[];return t.forEach(i=>{this.Xa.has(i)||e.push(new AA(i))}),this.Xa.forEach(i=>{t.has(i)||e.push(new wA(i))}),e}cu(t){this.Ya=t.Qs,this.Xa=jt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const G_="SyncEngine";class U4{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class z4{constructor(t){this.key=t,this.hu=!1}}class B4{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new so(u=>Bw(u),ap),this.Iu=new Map,this.Eu=new Set,this.du=new me(xt.comparator),this.Au=new Map,this.Ru=new N_,this.Vu={},this.mu=new Map,this.fu=El.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function F4(n,t,e=!0){const i=OA(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await RA(i,t,e,!0),r}async function H4(n,t){const e=OA(n);await RA(e,t,!0,!1)}async function RA(n,t,e,i){const r=await c4(n.localStore,Zi(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await q4(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&mA(n.remoteStore,r),u}async function q4(n,t,e,i,r){n.pu=(_,v,E)=>async function(C,A,k,q){let $=A.view.ru(k);$.Cs&&($=await a1(C.localStore,A.query,!1).then(({documents:O})=>A.view.ru(O,$)));const tt=q&&q.targetChanges.get(A.targetId),L=q&&q.targetMismatches.get(A.targetId)!=null,Q=A.view.applyChanges($,C.isPrimaryClient,tt,L);return m1(C,A.targetId,Q.au),Q.snapshot}(n,_,v,E);const o=await a1(n.localStore,t,!0),c=new j4(t,o.Qs),u=c.ru(o.documents),f=th.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=c.applyChanges(u,n.isPrimaryClient,f);m1(n,e,d.au);const m=new U4(t,e,c);return n.Tu.set(t,m),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function $4(n,t,e){const i=It(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter(c=>!ap(c,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Ly(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&U_(i.remoteStore,r.targetId),zy(i,r.targetId)}).catch(Nl)):(zy(i,r.targetId),await Ly(i.localStore,r.targetId,!0))}async function G4(n,t){const e=It(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),U_(e.remoteStore,i.targetId))}async function Y4(n,t,e){const i=t6(n);try{const r=await function(c,u){const f=It(c),d=le.now(),m=u.reduce((E,w)=>E.add(w.key),jt());let _,v;return f.persistence.runTransaction("Locally write mutations","readwrite",E=>{let w=Gs(),C=jt();return f.Ns.getEntries(E,m).next(A=>{w=A,w.forEach((k,q)=>{q.isValidDocument()||(C=C.add(k))})}).next(()=>f.localDocuments.getOverlayedDocuments(E,w)).next(A=>{_=A;const k=[];for(const q of u){const $=lN(q,_.get(q.key).overlayedDocument);$!=null&&k.push(new Jr(q.key,$,kw($.value.mapValue),hi.exists(!0)))}return f.mutationQueue.addMutationBatch(E,d,k,u)}).next(A=>{v=A;const k=A.applyToLocalDocumentSet(_,C);return f.documentOverlayCache.saveOverlays(E,A.batchId,k)})}).then(()=>({batchId:v.batchId,changes:qw(_)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(c,u,f){let d=c.Vu[c.currentUser.toKey()];d||(d=new me(Lt)),d=d.insert(u,f),c.Vu[c.currentUser.toKey()]=d}(i,r.batchId,e),await nh(i,r.changes),await dp(i.remoteStore)}catch(r){const o=q_(r,"Failed to persist write");e.reject(o)}}async function CA(n,t){const e=It(n);try{const i=await a4(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.Au.get(o);c&&(Kt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?Kt(c.hu,14607):r.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))}),await nh(e,i,t)}catch(i){await Nl(i)}}function g1(n,t,e){const i=It(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach((o,c)=>{const u=c.view.va(t);u.snapshot&&r.push(u.snapshot)}),function(c,u){const f=It(c);f.onlineState=u;let d=!1;f.queries.forEach((m,_)=>{for(const v of _.Sa)v.va(u)&&(d=!0)}),d&&$_(f)}(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function W4(n,t,e){const i=It(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let c=new me(xt.comparator);c=c.insert(o,dn.newNoDocument(o,Ct.min()));const u=jt().add(o),f=new up(Ct.min(),new Map,new me(Lt),c,u);await CA(i,f),i.du=i.du.remove(o),i.Au.delete(t),Y_(i)}else await Ly(i.localStore,t,!1).then(()=>zy(i,t,e)).catch(Nl)}async function K4(n,t){const e=It(n),i=t.batch.batchId;try{const r=await r4(e.localStore,t);DA(e,i,null),IA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await nh(e,r)}catch(r){await Nl(r)}}async function Q4(n,t,e){const i=It(n);try{const r=await function(c,u){const f=It(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let m;return f.mutationQueue.lookupMutationBatch(d,u).next(_=>(Kt(_!==null,37113),m=_.keys(),f.mutationQueue.removeMutationBatch(d,_))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,m,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,m)).next(()=>f.localDocuments.getDocuments(d,m))})}(i.localStore,t);DA(i,t,e),IA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await nh(i,r)}catch(r){await Nl(r)}}function IA(n,t){(n.mu.get(t)||[]).forEach(e=>{e.resolve()}),n.mu.delete(t)}function DA(n,t,e){const i=It(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function zy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach(i=>{n.Ru.containsKey(i)||MA(n,i)})}function MA(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(U_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Y_(n))}function m1(n,t,e){for(const i of e)i instanceof wA?(n.Ru.addReference(i.key,t),X4(n,i)):i instanceof AA?(yt(G_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||MA(n,i.key)):At(19791,{wu:i})}function X4(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(yt(G_,"New document in limbo: "+e),n.Eu.add(i),Y_(n))}function Y_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new xt(oe.fromString(t)),i=n.fu.next();n.Au.set(i,new z4(e)),n.du=n.du.insert(e,i),mA(n.remoteStore,new Dr(Zi(I_(e.path)),i,"TargetPurposeLimboResolution",ip.ce))}}async function nh(n,t,e){const i=It(n),r=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach((u,f)=>{c.push(i.pu(f,t,e).then(d=>{if((d||e)&&i.isPrimaryClient){const m=d?!d.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(d){r.push(d);const m=L_.As(f.targetId,d);o.push(m)}}))}),await Promise.all(c),i.Pu.H_(r),await async function(f,d){const m=It(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ct.forEach(d,v=>ct.forEach(v.Es,E=>m.persistence.referenceDelegate.addReference(_,v.targetId,E)).next(()=>ct.forEach(v.ds,E=>m.persistence.referenceDelegate.removeReference(_,v.targetId,E)))))}catch(_){if(!Vl(_))throw _;yt(j_,"Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const E=m.Ms.get(v),w=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(w);m.Ms=m.Ms.insert(v,C)}}}(i.localStore,o))}async function Z4(n,t){const e=It(n);if(!e.currentUser.isEqual(t)){yt(G_,"User change. New user:",t.toKey());const i=await fA(e.localStore,t);e.currentUser=t,function(o,c){o.mu.forEach(u=>{u.forEach(f=>{f.reject(new mt(at.CANCELLED,c))})}),o.mu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await nh(e,i.Ls)}}function J4(n,t){const e=It(n),i=e.Au.get(t);if(i&&i.hu)return jt().add(i.key);{let r=jt();const o=e.Iu.get(t);if(!o)return r;for(const c of o){const u=e.Tu.get(c);r=r.unionWith(u.view.nu)}return r}}function OA(n){const t=It(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=CA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=J4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=W4.bind(null,t),t.Pu.H_=V4.bind(null,t.eventManager),t.Pu.yu=L4.bind(null,t.eventManager),t}function t6(n){const t=It(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=K4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Q4.bind(null,t),t}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hp(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return s4(this.persistence,new e4,t.initialUser,this.serializer)}Cu(t){return new hA(V_.mi,this.serializer)}Du(t){return new h4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class e6 extends Pd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Kt(this.persistence.referenceDelegate instanceof Od,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new zN(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new hA(i=>Od.mi(i,e),this.serializer)}}class By{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>g1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z4.bind(null,this.syncEngine),await k4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new N4}()}createDatastore(t){const e=hp(t.databaseInfo.databaseId),i=function(o){return new m4(o)}(t.databaseInfo);return function(o,c,u,f){return new b4(o,c,u,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,c,u){return new x4(i,r,o,c,u)}(this.localStore,this.datastore,t.asyncQueue,e=>g1(this.syncEngine,e,0),function(){return c1.v()?new c1:new f4}())}createSyncEngine(t,e){return function(r,o,c,u,f,d,m){const _=new B4(r,o,c,u,f,d);return m&&(_.gu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await async function(e){const i=It(e);yt(Ja,"RemoteStore shutting down."),i.Ea.add(5),await eh(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}By.provider={build:()=>new By};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$s("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class n6{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=fn.UNAUTHENTICATED,this.clientId=T_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{yt(Yr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(yt(Yr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=q_(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Wm(n,t){n.asyncQueue.verifyOperationInProgress(),yt(Yr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await fA(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function y1(n,t){n.asyncQueue.verifyOperationInProgress();const e=await i6(n);yt(Yr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>h1(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>h1(t.remoteStore,r)),n._onlineComponents=t}async function i6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){yt(Yr,"Using user provided OfflineComponentProvider");try{await Wm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===at.FAILED_PRECONDITION||r.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;ml("Error using user provided cache. Falling back to memory cache: "+e),await Wm(n,new Pd)}}else yt(Yr,"Using default OfflineComponentProvider"),await Wm(n,new e6(void 0));return n._offlineComponents}async function PA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(yt(Yr,"Using user provided OnlineComponentProvider"),await y1(n,n._uninitializedComponentsProvider._online)):(yt(Yr,"Using default OnlineComponentProvider"),await y1(n,new By))),n._onlineComponents}function s6(n){return PA(n).then(t=>t.syncEngine)}async function NA(n){const t=await PA(n),e=t.eventManager;return e.onListen=F4.bind(null,t.syncEngine),e.onUnlisten=$4.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=H4.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=G4.bind(null,t.syncEngine),e}function r6(n,t,e={}){const i=new zs;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,u,f,d){const m=new kA({next:v=>{m.Nu(),c.enqueueAndForget(()=>TA(o,_));const E=v.docs.has(u);!E&&v.fromCache?d.reject(new mt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&f&&f.source==="server"?d.reject(new mt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new SA(I_(u.path),m,{includeMetadataChanges:!0,qa:!0});return xA(o,_)}(await NA(n),n.asyncQueue,t,e,i)),i.promise}function a6(n,t,e={}){const i=new zs;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,u,f,d){const m=new kA({next:v=>{m.Nu(),c.enqueueAndForget(()=>TA(o,_)),v.fromCache&&f.source==="server"?d.reject(new mt(at.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(v)},error:v=>d.reject(v)}),_=new SA(u,m,{includeMetadataChanges:!0,qa:!0});return xA(o,_)}(await NA(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="firestore.googleapis.com",v1=!0;class b1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LA,this.ssl=v1}else this.host=t.host,this.ssl=t.ssl??v1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=uA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<jN)throw new mt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VA(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new mt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new mt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new mt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pp{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new b1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new b1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new fP;switch(i.type){case"firstParty":return new mP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new mt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=_1.get(e);i&&(yt("ComponentProvider","Removing Datastore"),_1.delete(e),i.terminate())}(this),Promise.resolve()}}function o6(n,t,e,i={}){n=Ai(n,pp);const r=Ml(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;r&&(AS(`https://${u}`),RS("Firestore",!0)),o.host!==LA&&o.host!==u&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:u,ssl:r,emulatorOptions:i};if(!Br(f,c)&&(n._setSettings(f),i.mockUserToken)){let d,m;if(typeof i.mockUserToken=="string")d=i.mockUserToken,m=fn.MOCK_USER;else{d=SD(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new mt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new fn(_)}n._authCredentials=new dP(new Ew(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new jl(this.firestore,t,this._query)}}class we{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Xu(e,we._jsonSchema))return new we(t,i||null,new xt(oe.fromString(e.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:ke("string",we._jsonSchemaVersion),referencePath:ke("string")};class Lr extends jl{constructor(t,e,i){super(t,e,I_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new xt(t))}withConverter(t){return new Lr(this.firestore,t,this._path)}}function In(n,t,...e){if(n=Qe(n),xw("collection","path",t),n instanceof pp){const i=oe.fromString(t,...e);return kx(i),new Lr(n,null,i)}{if(!(n instanceof we||n instanceof Lr))throw new mt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(oe.fromString(t,...e));return kx(i),new Lr(n.firestore,null,i)}}function fi(n,t,...e){if(n=Qe(n),arguments.length===1&&(t=T_.newId()),xw("doc","path",t),n instanceof pp){const i=oe.fromString(t,...e);return Ox(i),new we(n,null,new xt(i))}{if(!(n instanceof we||n instanceof Lr))throw new mt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(oe.fromString(t,...e));return Ox(i),new we(n.firestore,n instanceof Lr?n.converter:null,new xt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="AsyncQueue";class x1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pA(this,"async_queue_retry"),this._c=()=>{const i=Ym();i&&yt(E1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Ym();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Ym();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const e=new zs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Vl(t))throw t;yt(E1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const e=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,$s("INTERNAL UNHANDLED ERROR: ",T1(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=H_.createAndSchedule(this,t,e,i,o=>this.hc(o));return this.tc.push(r),r}uc(){this.nc&&At(47125,{Pc:T1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function T1(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class ao extends pp{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new x1,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new x1(t),this._firestoreClient=void 0,await t}}}function l6(n,t){const e=typeof n=="object"?n:MS(),i=typeof n=="string"?n:Ad,r=d_(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=xD("firestore");o&&o6(r,...o)}return r}function W_(n){if(n._terminated)throw new mt(at.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||c6(n),n._firestoreClient}function c6(n){const t=n._freezeSettings(),e=function(r,o,c,u){return new kP(r,o,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,VA(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new n6(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ci(an.fromBase64String(t))}catch(e){throw new mt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ci(an.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xu(t,ci._jsonSchema))return ci.fromBase64String(t.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:ke("string",ci._jsonSchemaVersion),bytes:ke("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Lt(this._lat,t._lat)||Lt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(t){if(Xu(t,ts._jsonSchema))return new ts(t.latitude,t.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:ke("string",ts._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}toJSON(){return{type:es._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xu(t,es._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new es(t.vectorValues);throw new mt(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}es._jsonSchemaVersion="firestore/vectorValue/1.0",es._jsonSchema={type:ke("string",es._jsonSchemaVersion),vectorValues:ke("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=/^__.*__$/;class h6{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Jr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ju(t,this.data,e,this.fieldTransforms)}}class jA{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Jr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function UA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:n})}}class mp{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new mp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Nd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(UA(this.Ac)&&u6.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class f6{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||hp(t)}Cc(t,e,i,r=!1){return new mp({Ac:t,methodName:e,Dc:i,path:rn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yp(n){const t=n._freezeSettings(),e=hp(n._databaseId);return new f6(n._databaseId,!!t.ignoreUndefinedProperties,e)}function zA(n,t,e,i,r,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);X_("Data must be an object, but it was:",c,i);const u=BA(i,c);let f,d;if(o.merge)f=new Bn(c.fieldMask),d=c.fieldTransforms;else if(o.mergeFields){const m=[];for(const _ of o.mergeFields){const v=Fy(t,_,e);if(!c.contains(v))throw new mt(at.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);HA(m,v)||m.push(v)}f=new Bn(m),d=c.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,d=c.fieldTransforms;return new h6(new Rn(u),f,d)}class _p extends ih{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _p}}function d6(n,t,e){return new mp({Ac:3,Dc:t.settings.Dc,methodName:n._methodName,fc:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class K_ extends ih{_toFieldTransform(t){return new Xw(t.path,new Ou)}isEqual(t){return t instanceof K_}}class Q_ extends ih{constructor(t,e){super(t),this.vc=e}_toFieldTransform(t){const e=d6(this,t,!0),i=this.vc.map(o=>Ul(o,e)),r=new bl(i);return new Xw(t.path,r)}isEqual(t){return t instanceof Q_&&Br(this.vc,t.vc)}}function p6(n,t,e,i){const r=n.Cc(1,t,e);X_("Data must be an object, but it was:",r,i);const o=[],c=Rn.empty();Zr(i,(f,d)=>{const m=Z_(t,f,e);d=Qe(d);const _=r.yc(m);if(d instanceof _p)o.push(m);else{const v=Ul(d,_);v!=null&&(o.push(m),c.set(m,v))}});const u=new Bn(o);return new jA(c,u,r.fieldTransforms)}function g6(n,t,e,i,r,o){const c=n.Cc(1,t,e),u=[Fy(t,i,e)],f=[r];if(o.length%2!=0)throw new mt(at.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(Fy(t,o[v])),f.push(o[v+1]);const d=[],m=Rn.empty();for(let v=u.length-1;v>=0;--v)if(!HA(d,u[v])){const E=u[v];let w=f[v];w=Qe(w);const C=c.yc(E);if(w instanceof _p)d.push(E);else{const A=Ul(w,C);A!=null&&(d.push(E),m.set(E,A))}}const _=new Bn(d);return new jA(m,_,c.fieldTransforms)}function m6(n,t,e,i=!1){return Ul(e,n.Cc(i?4:3,t))}function Ul(n,t){if(FA(n=Qe(n)))return X_("Unsupported field value:",t,n),BA(n,t);if(n instanceof ih)return function(i,r){if(!UA(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,r){const o=[];let c=0;for(const u of i){let f=Ul(u,r.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=Qe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return nN(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=le.fromDate(i);return{timestampValue:Md(r.serializer,o)}}if(i instanceof le){const o=new le(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Md(r.serializer,o)}}if(i instanceof ts)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ci)return{bytesValue:iA(r.serializer,i._byteString)};if(i instanceof we){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:P_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof es)return function(c,u){return{mapValue:{fields:{[Mw]:{stringValue:Ow},[Rd]:{arrayValue:{values:c.toArray().map(d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return D_(u.serializer,d)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${np(i)}`)}(n,t)}function BA(n,t){const e={};return ww(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zr(n,(i,r)=>{const o=Ul(r,t.mc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function FA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof le||n instanceof ts||n instanceof ci||n instanceof we||n instanceof ih||n instanceof es)}function X_(n,t,e){if(!FA(e)||!Tw(e)){const i=np(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function Fy(n,t,e){if((t=Qe(t))instanceof gp)return t._internalPath;if(typeof t=="string")return Z_(n,t);throw Nd("Field path arguments must be of type string or ",n,!1,void 0,e)}const y6=new RegExp("[~\\*/\\[\\]]");function Z_(n,t,e){if(t.search(y6)>=0)throw Nd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new gp(...t.split("."))._internalPath}catch{throw Nd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Nd(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new mt(at.INVALID_ARGUMENT,u+n+f)}function HA(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(J_("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class _6 extends qA{data(){return super.data()}}function J_(n,t){return typeof t=="string"?Z_(n,t):t instanceof gp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t0{}class b6 extends t0{}function jr(n,t,...e){let i=[];t instanceof t0&&i.push(t),i=i.concat(e),function(o){const c=o.filter(f=>f instanceof e0).length,u=o.filter(f=>f instanceof vp).length;if(c>1||c>0&&u>0)throw new mt(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class vp extends b6{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new vp(t,e,i)}_apply(t){const e=this._parse(t);return $A(t._query,e),new jl(t.firestore,t.converter,My(t._query,e))}_parse(t){const e=yp(t.firestore);return function(o,c,u,f,d,m,_){let v;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new mt(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){w1(_,m);const w=[];for(const C of _)w.push(S1(f,o,C));v={arrayValue:{values:w}}}else v=S1(f,o,_)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||w1(_,m),v=m6(u,c,_,m==="in"||m==="not-in");return Oe.create(d,m,v)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function Ur(n,t,e){const i=t,r=J_("where",n);return vp._create(r,i,e)}class e0 extends t0{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new e0(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:Ri.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(r,o){let c=r;const u=o.getFlattenedFilters();for(const f of u)$A(c,f),c=My(c,f)}(t._query,e),new jl(t.firestore,t.converter,My(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function S1(n,t,e){if(typeof(e=Qe(e))=="string"){if(e==="")throw new mt(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zw(t)&&e.indexOf("/")!==-1)throw new mt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(oe.fromString(e));if(!xt.isDocumentKey(i))throw new mt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Bx(n,new xt(i))}if(e instanceof we)return Bx(n,e._key);throw new mt(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${np(e)}.`)}function w1(n,t){if(!Array.isArray(n)||n.length===0)throw new mt(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function $A(n,t){const e=function(r,o){for(const c of r)for(const u of c.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new mt(at.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(at.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class E6{convertValue(t,e="none"){switch($r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Zr(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){const e=t.fields?.[Rd].arrayValue?.values?.map(i=>Se(i.doubleValue));return new es(e)}convertGeoPoint(t){return new ts(Se(t.latitude),Se(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=rp(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Iu(t));default:return null}}convertTimestamp(t){const e=Hr(t);return new le(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=oe.fromString(t);Kt(cA(i),9688,{name:t});const r=new Du(i.get(1),i.get(3)),o=new xt(i.popFirst(5));return r.isEqual(e)||$s(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class cu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ya extends qA{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(J_("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ya._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ya._jsonSchema={type:ke("string",Ya._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class hd extends Ya{data(t={}){return super.data(t)}}class fl{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new cu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new hd(this._firestore,this._userDataWriter,i.key,i,new cu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(u=>{const f=new hd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new cu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const f=new hd(r._firestore,r._userDataWriter,u.doc.key,u.doc,new cu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,m=-1;return u.type!==0&&(d=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),m=c.indexOf(u.doc.key)),{type:x6(u.type),doc:f,oldIndex:d,newIndex:m}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=fl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=T_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function x6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(n){n=Ai(n,we);const t=Ai(n.firestore,ao);return r6(W_(t),n._key).then(e=>A6(t,n,e))}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:ke("string",fl._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};class YA extends E6{constructor(t){super(),this.firestore=t}convertBytes(t){return new ci(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,e)}}function Hn(n){n=Ai(n,jl);const t=Ai(n.firestore,ao),e=W_(t),i=new YA(t);return v6(n._query),a6(e,n._query).then(r=>new fl(t,i,n,r))}function T6(n,t,e){n=Ai(n,we);const i=Ai(n.firestore,ao),r=GA(n.converter,t);return bp(i,[zA(yp(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,hi.none())])}function oo(n,t,e,...i){n=Ai(n,we);const r=Ai(n.firestore,ao),o=yp(r);let c;return c=typeof(t=Qe(t))=="string"||t instanceof gp?g6(o,"updateDoc",n._key,t,e,i):p6(o,"updateDoc",n._key,t),bp(r,[c.toMutation(n._key,hi.exists(!0))])}function S6(n){return bp(Ai(n.firestore,ao),[new M_(n._key,hi.none())])}function w6(n,t){const e=Ai(n.firestore,ao),i=fi(n),r=GA(n.converter,t);return bp(e,[zA(yp(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,hi.exists(!1))]).then(()=>i)}function bp(n,t){return function(i,r){const o=new zs;return i.asyncQueue.enqueueAndForget(async()=>Y4(await s6(i),r,o)),o.promise}(W_(n),t)}function A6(n,t,e){const i=e.docs.get(t._key),r=new YA(n);return new Ya(n,r,t._key,i,new cu(e.hasPendingWrites,e.fromCache),t.converter)}function R6(){return new K_("serverTimestamp")}function i0(...n){return new Q_("arrayUnion",n)}(function(t,e=!0){(function(r){Pl=r})(Ol),gl(new Ka("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),u=new ao(new pP(i.getProvider("auth-internal")),new yP(c,i.getProvider("app-check-internal")),function(d,m){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new mt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(d.options.projectId,m)}(c,r),c);return o={useFetchStreams:e,...o},u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Nr(Cx,Ix,t),Nr(Cx,Ix,"esm2020")})();var C6="firebase",I6="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(C6,I6,"app");const D6={apiKey:"AIzaSyA7UtPJo2qX2qi3WhEkjO9AlG1LMqmLD9A",authDomain:"evaluation-d6a2f.firebaseapp.com",databaseURL:"https://evaluation-d6a2f-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"evaluation-d6a2f",storageBucket:"evaluation-d6a2f.firebasestorage.app",messagingSenderId:"523906806011",appId:"1:523906806011:web:3beebcb6a736728c14005e",measurementId:"G-3Q889PBY8B"},WA=DS(D6),En=uP(WA),ue=l6(WA);new Ns;var Km={exports:{}},Qm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1;function M6(){if(A1)return Qm;A1=1;var n=Kd();function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var e=typeof Object.is=="function"?Object.is:t,i=n.useSyncExternalStore,r=n.useRef,o=n.useEffect,c=n.useMemo,u=n.useDebugValue;return Qm.useSyncExternalStoreWithSelector=function(f,d,m,_,v){var E=r(null);if(E.current===null){var w={hasValue:!1,value:null};E.current=w}else w=E.current;E=c(function(){function A(L){if(!k){if(k=!0,q=L,L=_(L),v!==void 0&&w.hasValue){var Q=w.value;if(v(Q,L))return $=Q}return $=L}if(Q=$,e(q,L))return Q;var O=_(L);return v!==void 0&&v(Q,O)?(q=L,Q):(q=L,$=O)}var k=!1,q,$,tt=m===void 0?null:m;return[function(){return A(d())},tt===null?void 0:function(){return A(tt())}]},[d,m,_,v]);var C=i(f,E[0],E[1]);return o(function(){w.hasValue=!0,w.value=C},[C]),u(C),C},Qm}var R1;function O6(){return R1||(R1=1,Km.exports=M6()),Km.exports}var k6=O6();function P6(n){n()}function N6(){let n=null,t=null;return{clear(){n=null,t=null},notify(){P6(()=>{let e=n;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=n;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const r=t={callback:e,next:null,prev:t};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var C1={notify(){},get:()=>[]};function V6(n,t){let e,i=C1,r=0,o=!1;function c(C){m();const A=i.subscribe(C);let k=!1;return()=>{k||(k=!0,A(),_())}}function u(){i.notify()}function f(){w.onStateChange&&w.onStateChange()}function d(){return o}function m(){r++,e||(e=n.subscribe(f),i=N6())}function _(){r--,e&&r===0&&(e(),e=void 0,i.clear(),i=C1)}function v(){o||(o=!0,m())}function E(){o&&(o=!1,_())}const w={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:v,tryUnsubscribe:E,getListeners:()=>i};return w}var L6=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",j6=L6(),U6=()=>typeof navigator<"u"&&navigator.product==="ReactNative",z6=U6(),B6=()=>j6||z6?F.useLayoutEffect:F.useEffect,F6=B6(),H6=Symbol.for("react-redux-context"),q6=typeof globalThis<"u"?globalThis:{};function $6(){if(!F.createContext)return{};const n=q6[H6]??=new Map;let t=n.get(F.createContext);return t||(t=F.createContext(null),n.set(F.createContext,t)),t}var Wr=$6();function G6(n){const{children:t,context:e,serverState:i,store:r}=n,o=F.useMemo(()=>{const f=V6(r);return{store:r,subscription:f,getServerState:i?()=>i:void 0}},[r,i]),c=F.useMemo(()=>r.getState(),[r]);F6(()=>{const{subscription:f}=o;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==r.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[o,c]);const u=e||Wr;return F.createElement(u.Provider,{value:o},t)}var Y6=G6;function s0(n=Wr){return function(){return F.useContext(n)}}var KA=s0();function QA(n=Wr){const t=n===Wr?KA:s0(n),e=()=>{const{store:i}=t();return i};return Object.assign(e,{withTypes:()=>e}),e}var W6=QA();function K6(n=Wr){const t=n===Wr?W6:QA(n),e=()=>t().dispatch;return Object.assign(e,{withTypes:()=>e}),e}var r0=K6(),Q6=(n,t)=>n===t;function X6(n=Wr){const t=n===Wr?KA:s0(n),e=(i,r={})=>{const{equalityFn:o=Q6}=typeof r=="function"?{equalityFn:r}:r,c=t(),{store:u,subscription:f,getServerState:d}=c;F.useRef(!0);const m=F.useCallback({[i.name](v){return i(v)}}[i.name],[i]),_=k6.useSyncExternalStoreWithSelector(f.addNestedSub,u.getState,d||u.getState,m,o);return F.useDebugValue(_),_};return Object.assign(e,{withTypes:()=>e}),e}var a0=X6();function nn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Z6=typeof Symbol=="function"&&Symbol.observable||"@@observable",I1=Z6,Xm=()=>Math.random().toString(36).substring(7).split("").join("."),J6={INIT:`@@redux/INIT${Xm()}`,REPLACE:`@@redux/REPLACE${Xm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xm()}`},Vd=J6;function o0(n){if(typeof n!="object"||n===null)return!1;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t||Object.getPrototypeOf(n)===null}function XA(n,t,e){if(typeof n!="function")throw new Error(nn(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(nn(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(nn(1));return e(XA)(n,t)}let i=n,r=t,o=new Map,c=o,u=0,f=!1;function d(){c===o&&(c=new Map,o.forEach((A,k)=>{c.set(k,A)}))}function m(){if(f)throw new Error(nn(3));return r}function _(A){if(typeof A!="function")throw new Error(nn(4));if(f)throw new Error(nn(5));let k=!0;d();const q=u++;return c.set(q,A),function(){if(k){if(f)throw new Error(nn(6));k=!1,d(),c.delete(q),o=null}}}function v(A){if(!o0(A))throw new Error(nn(7));if(typeof A.type>"u")throw new Error(nn(8));if(typeof A.type!="string")throw new Error(nn(17));if(f)throw new Error(nn(9));try{f=!0,r=i(r,A)}finally{f=!1}return(o=c).forEach(q=>{q()}),A}function E(A){if(typeof A!="function")throw new Error(nn(10));i=A,v({type:Vd.REPLACE})}function w(){const A=_;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(nn(11));function q(){const tt=k;tt.next&&tt.next(m())}return q(),{unsubscribe:A(q)}},[I1](){return this}}}return v({type:Vd.INIT}),{dispatch:v,subscribe:_,getState:m,replaceReducer:E,[I1]:w}}function tV(n){Object.keys(n).forEach(t=>{const e=n[t];if(typeof e(void 0,{type:Vd.INIT})>"u")throw new Error(nn(12));if(typeof e(void 0,{type:Vd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nn(13))})}function eV(n){const t=Object.keys(n),e={};for(let o=0;o<t.length;o++){const c=t[o];typeof n[c]=="function"&&(e[c]=n[c])}const i=Object.keys(e);let r;try{tV(e)}catch(o){r=o}return function(c={},u){if(r)throw r;let f=!1;const d={};for(let m=0;m<i.length;m++){const _=i[m],v=e[_],E=c[_],w=v(E,u);if(typeof w>"u")throw u&&u.type,new Error(nn(14));d[_]=w,f=f||w!==E}return f=f||i.length!==Object.keys(c).length,f?d:c}}function Ld(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,e)=>(...i)=>t(e(...i)))}function nV(...n){return t=>(e,i)=>{const r=t(e,i);let o=()=>{throw new Error(nn(15))};const c={getState:r.getState,dispatch:(f,...d)=>o(f,...d)},u=n.map(f=>f(c));return o=Ld(...u)(r.dispatch),{...r,dispatch:o}}}function iV(n){return o0(n)&&"type"in n&&typeof n.type=="string"}var ZA=Symbol.for("immer-nothing"),D1=Symbol.for("immer-draftable"),qn=Symbol.for("immer-state");function Ei(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Tl=Object.getPrototypeOf;function to(n){return!!n&&!!n[qn]}function Ys(n){return n?JA(n)||Array.isArray(n)||!!n[D1]||!!n.constructor?.[D1]||xp(n)||Tp(n):!1}var sV=Object.prototype.constructor.toString();function JA(n){if(!n||typeof n!="object")return!1;const t=Tl(n);if(t===null)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return e===Object?!0:typeof e=="function"&&Function.toString.call(e)===sV}function jd(n,t){Ep(n)===0?Reflect.ownKeys(n).forEach(e=>{t(e,n[e],n)}):n.forEach((e,i)=>t(i,e,n))}function Ep(n){const t=n[qn];return t?t.type_:Array.isArray(n)?1:xp(n)?2:Tp(n)?3:0}function Hy(n,t){return Ep(n)===2?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function tR(n,t,e){const i=Ep(n);i===2?n.set(t,e):i===3?n.add(e):n[t]=e}function rV(n,t){return n===t?n!==0||1/n===1/t:n!==n&&t!==t}function xp(n){return n instanceof Map}function Tp(n){return n instanceof Set}function za(n){return n.copy_||n.base_}function qy(n,t){if(xp(n))return new Map(n);if(Tp(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const e=JA(n);if(t===!0||t==="class_only"&&!e){const i=Object.getOwnPropertyDescriptors(n);delete i[qn];let r=Reflect.ownKeys(i);for(let o=0;o<r.length;o++){const c=r[o],u=i[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(i[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:n[c]})}return Object.create(Tl(n),i)}else{const i=Tl(n);if(i!==null&&e)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function l0(n,t=!1){return Sp(n)||to(n)||!Ys(n)||(Ep(n)>1&&(n.set=n.add=n.clear=n.delete=aV),Object.freeze(n),t&&Object.entries(n).forEach(([e,i])=>l0(i,!0))),n}function aV(){Ei(2)}function Sp(n){return Object.isFrozen(n)}var oV={};function eo(n){const t=oV[n];return t||Ei(0,n),t}var Pu;function eR(){return Pu}function lV(n,t){return{drafts_:[],parent_:n,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function M1(n,t){t&&(eo("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function $y(n){Gy(n),n.drafts_.forEach(cV),n.drafts_=null}function Gy(n){n===Pu&&(Pu=n.parent_)}function O1(n){return Pu=lV(Pu,n)}function cV(n){const t=n[qn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function k1(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return n!==void 0&&n!==e?(e[qn].modified_&&($y(t),Ei(4)),Ys(n)&&(n=Ud(t,n),t.parent_||zd(t,n)),t.patches_&&eo("Patches").generateReplacementPatches_(e[qn].base_,n,t.patches_,t.inversePatches_)):n=Ud(t,e,[]),$y(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==ZA?n:void 0}function Ud(n,t,e){if(Sp(t))return t;const i=t[qn];if(!i)return jd(t,(r,o)=>P1(n,i,t,r,o,e)),t;if(i.scope_!==n)return t;if(!i.modified_)return zd(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const r=i.copy_;let o=r,c=!1;i.type_===3&&(o=new Set(r),r.clear(),c=!0),jd(o,(u,f)=>P1(n,i,r,u,f,e,c)),zd(n,r,!1),e&&n.patches_&&eo("Patches").generatePatches_(i,e,n.patches_,n.inversePatches_)}return i.copy_}function P1(n,t,e,i,r,o,c){if(to(r)){const u=o&&t&&t.type_!==3&&!Hy(t.assigned_,i)?o.concat(i):void 0,f=Ud(n,r,u);if(tR(e,i,f),to(f))n.canAutoFreeze_=!1;else return}else c&&e.add(r);if(Ys(r)&&!Sp(r)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Ud(n,r),(!t||!t.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(e,i)&&zd(n,r)}}function zd(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&l0(t,e)}function uV(n,t){const e=Array.isArray(n),i={type_:e?1:0,scope_:t?t.scope_:eR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,o=c0;e&&(r=[i],o=Nu);const{revoke:c,proxy:u}=Proxy.revocable(r,o);return i.draft_=u,i.revoke_=c,u}var c0={get(n,t){if(t===qn)return n;const e=za(n);if(!Hy(e,t))return hV(n,e,t);const i=e[t];return n.finalized_||!Ys(i)?i:i===Zm(n.base_,t)?(Jm(n),n.copy_[t]=Wy(i,n)):i},has(n,t){return t in za(n)},ownKeys(n){return Reflect.ownKeys(za(n))},set(n,t,e){const i=nR(za(n),t);if(i?.set)return i.set.call(n.draft_,e),!0;if(!n.modified_){const r=Zm(za(n),t),o=r?.[qn];if(o&&o.base_===e)return n.copy_[t]=e,n.assigned_[t]=!1,!0;if(rV(e,r)&&(e!==void 0||Hy(n.base_,t)))return!0;Jm(n),Yy(n)}return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_[t]=!0),!0},deleteProperty(n,t){return Zm(n.base_,t)!==void 0||t in n.base_?(n.assigned_[t]=!1,Jm(n),Yy(n)):delete n.assigned_[t],n.copy_&&delete n.copy_[t],!0},getOwnPropertyDescriptor(n,t){const e=za(n),i=Reflect.getOwnPropertyDescriptor(e,t);return i&&{writable:!0,configurable:n.type_!==1||t!=="length",enumerable:i.enumerable,value:e[t]}},defineProperty(){Ei(11)},getPrototypeOf(n){return Tl(n.base_)},setPrototypeOf(){Ei(12)}},Nu={};jd(c0,(n,t)=>{Nu[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Nu.deleteProperty=function(n,t){return Nu.set.call(this,n,t,void 0)};Nu.set=function(n,t,e){return c0.set.call(this,n[0],t,e,n[0])};function Zm(n,t){const e=n[qn];return(e?za(e):n)[t]}function hV(n,t,e){const i=nR(t,e);return i?"value"in i?i.value:i.get?.call(n.draft_):void 0}function nR(n,t){if(!(t in n))return;let e=Tl(n);for(;e;){const i=Object.getOwnPropertyDescriptor(e,t);if(i)return i;e=Tl(e)}}function Yy(n){n.modified_||(n.modified_=!0,n.parent_&&Yy(n.parent_))}function Jm(n){n.copy_||(n.copy_=qy(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var fV=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,i)=>{if(typeof t=="function"&&typeof e!="function"){const o=e;e=t;const c=this;return function(f=o,...d){return c.produce(f,m=>e.call(this,m,...d))}}typeof e!="function"&&Ei(6),i!==void 0&&typeof i!="function"&&Ei(7);let r;if(Ys(t)){const o=O1(this),c=Wy(t,void 0);let u=!0;try{r=e(c),u=!1}finally{u?$y(o):Gy(o)}return M1(o,i),k1(r,o)}else if(!t||typeof t!="object"){if(r=e(t),r===void 0&&(r=t),r===ZA&&(r=void 0),this.autoFreeze_&&l0(r,!0),i){const o=[],c=[];eo("Patches").generateReplacementPatches_(t,r,o,c),i(o,c)}return r}else Ei(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let i,r;return[this.produce(t,e,(c,u)=>{i=c,r=u}),i,r]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Ys(n)||Ei(8),to(n)&&(n=dV(n));const t=O1(this),e=Wy(n,void 0);return e[qn].isManual_=!0,Gy(t),e}finishDraft(n,t){const e=n&&n[qn];(!e||!e.isManual_)&&Ei(9);const{scope_:i}=e;return M1(i,t),k1(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,t){let e;for(e=t.length-1;e>=0;e--){const r=t[e];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}e>-1&&(t=t.slice(e+1));const i=eo("Patches").applyPatches_;return to(n)?i(n,t):this.produce(n,r=>i(r,t))}};function Wy(n,t){const e=xp(n)?eo("MapSet").proxyMap_(n,t):Tp(n)?eo("MapSet").proxySet_(n,t):uV(n,t);return(t?t.scope_:eR()).drafts_.push(e),e}function dV(n){return to(n)||Ei(10,n),iR(n)}function iR(n){if(!Ys(n)||Sp(n))return n;const t=n[qn];let e;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=qy(n,t.scope_.immer_.useStrictShallowCopy_)}else e=qy(n,!0);return jd(e,(i,r)=>{tR(e,i,iR(r))}),t&&(t.finalized_=!1),e}var $n=new fV,sR=$n.produce;$n.produceWithPatches.bind($n);$n.setAutoFreeze.bind($n);$n.setUseStrictShallowCopy.bind($n);$n.applyPatches.bind($n);$n.createDraft.bind($n);$n.finishDraft.bind($n);function rR(n){return({dispatch:e,getState:i})=>r=>o=>typeof o=="function"?o(e,i,n):r(o)}var pV=rR(),gV=rR,mV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ld:Ld.apply(null,arguments)};function N1(n,t){function e(...i){if(t){let r=t(...i);if(!r)throw new Error(Bs(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return e.toString=()=>`${n}`,e.type=n,e.match=i=>iV(i)&&i.type===n,e}var aR=class uu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,uu.prototype)}static get[Symbol.species](){return uu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new uu(...t[0].concat(this)):new uu(...t.concat(this))}};function V1(n){return Ys(n)?sR(n,()=>{}):n}function Lf(n,t,e){return n.has(t)?n.get(t):n.set(t,e(t)).get(t)}function yV(n){return typeof n=="boolean"}var _V=()=>function(t){const{thunk:e=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:o=!0}=t??{};let c=new aR;return e&&(yV(e)?c.push(pV):c.push(gV(e.extraArgument))),c},vV="RTK_autoBatch",L1=n=>t=>{setTimeout(t,n)},bV=(n={type:"raf"})=>t=>(...e)=>{const i=t(...e);let r=!0,o=!1,c=!1;const u=new Set,f=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:L1(10):n.type==="callback"?n.queueNotification:L1(n.timeout),d=()=>{c=!1,o&&(o=!1,u.forEach(m=>m()))};return Object.assign({},i,{subscribe(m){const _=()=>r&&m(),v=i.subscribe(_);return u.add(m),()=>{v(),u.delete(m)}},dispatch(m){try{return r=!m?.meta?.[vV],o=!r,o&&(c||(c=!0,f(d))),i.dispatch(m)}finally{r=!0}}})},EV=n=>function(e){const{autoBatch:i=!0}=e??{};let r=new aR(n);return i&&r.push(bV(typeof i=="object"?i:void 0)),r};function xV(n){const t=_V(),{reducer:e=void 0,middleware:i,devTools:r=!0,preloadedState:o=void 0,enhancers:c=void 0}=n||{};let u;if(typeof e=="function")u=e;else if(o0(e))u=eV(e);else throw new Error(Bs(1));let f;typeof i=="function"?f=i(t):f=t();let d=Ld;r&&(d=mV({trace:!1,...typeof r=="object"&&r}));const m=nV(...f),_=EV(m);let v=typeof c=="function"?c(_):_();const E=d(...v);return XA(u,o,E)}function oR(n){const t={},e=[];let i;const r={addCase(o,c){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Bs(28));if(u in t)throw new Error(Bs(29));return t[u]=c,r},addMatcher(o,c){return e.push({matcher:o,reducer:c}),r},addDefaultCase(o){return i=o,r}};return n(r),[t,e,i]}function TV(n){return typeof n=="function"}function SV(n,t){let[e,i,r]=oR(t),o;if(TV(n))o=()=>V1(n());else{const u=V1(n);o=()=>u}function c(u=o(),f){let d=[e[f.type],...i.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return d.filter(m=>!!m).length===0&&(d=[r]),d.reduce((m,_)=>{if(_)if(to(m)){const E=_(m,f);return E===void 0?m:E}else{if(Ys(m))return sR(m,v=>_(v,f));{const v=_(m,f);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},u)}return c.getInitialState=o,c}var wV=Symbol.for("rtk-slice-createasyncthunk");function AV(n,t){return`${n}/${t}`}function RV({creators:n}={}){const t=n?.asyncThunk?.[wV];return function(i){const{name:r,reducerPath:o=r}=i;if(!r)throw new Error(Bs(11));const c=(typeof i.reducers=="function"?i.reducers(DV()):i.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase($,tt){const L=typeof $=="string"?$:$.type;if(!L)throw new Error(Bs(12));if(L in f.sliceCaseReducersByType)throw new Error(Bs(13));return f.sliceCaseReducersByType[L]=tt,d},addMatcher($,tt){return f.sliceMatchers.push({matcher:$,reducer:tt}),d},exposeAction($,tt){return f.actionCreators[$]=tt,d},exposeCaseReducer($,tt){return f.sliceCaseReducersByName[$]=tt,d}};u.forEach($=>{const tt=c[$],L={reducerName:$,type:AV(r,$),createNotation:typeof i.reducers=="function"};OV(tt)?PV(L,tt,d,t):MV(L,tt,d)});function m(){const[$={},tt=[],L=void 0]=typeof i.extraReducers=="function"?oR(i.extraReducers):[i.extraReducers],Q={...$,...f.sliceCaseReducersByType};return SV(i.initialState,O=>{for(let R in Q)O.addCase(R,Q[R]);for(let R of f.sliceMatchers)O.addMatcher(R.matcher,R.reducer);for(let R of tt)O.addMatcher(R.matcher,R.reducer);L&&O.addDefaultCase(L)})}const _=$=>$,v=new Map,E=new WeakMap;let w;function C($,tt){return w||(w=m()),w($,tt)}function A(){return w||(w=m()),w.getInitialState()}function k($,tt=!1){function L(O){let R=O[$];return typeof R>"u"&&tt&&(R=Lf(E,L,A)),R}function Q(O=_){const R=Lf(v,tt,()=>new WeakMap);return Lf(R,O,()=>{const M={};for(const[N,P]of Object.entries(i.selectors??{}))M[N]=CV(P,O,()=>Lf(E,O,A),tt);return M})}return{reducerPath:$,getSelectors:Q,get selectors(){return Q(L)},selectSlice:L}}const q={name:r,reducer:C,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:A,...k(o),injectInto($,{reducerPath:tt,...L}={}){const Q=tt??o;return $.inject({reducerPath:Q,reducer:C},L),{...q,...k(Q,!0)}}};return q}}function CV(n,t,e,i){function r(o,...c){let u=t(o);return typeof u>"u"&&i&&(u=e()),n(u,...c)}return r.unwrapped=n,r}var IV=RV();function DV(){function n(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return n.withTypes=()=>n,{reducer(t){return Object.assign({[t.name](...e){return t(...e)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,e){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}},asyncThunk:n}}function MV({type:n,reducerName:t,createNotation:e},i,r){let o,c;if("reducer"in i){if(e&&!kV(i))throw new Error(Bs(17));o=i.reducer,c=i.prepare}else o=i;r.addCase(n,o).exposeCaseReducer(t,o).exposeAction(t,c?N1(n,c):N1(n))}function OV(n){return n._reducerDefinitionType==="asyncThunk"}function kV(n){return n._reducerDefinitionType==="reducerWithPrepare"}function PV({type:n,reducerName:t},e,i,r){if(!r)throw new Error(Bs(18));const{payloadCreator:o,fulfilled:c,pending:u,rejected:f,settled:d,options:m}=e,_=r(n,o,m);i.exposeAction(t,_),c&&i.addCase(_.fulfilled,c),u&&i.addCase(_.pending,u),f&&i.addCase(_.rejected,f),d&&i.addMatcher(_.settled,d),i.exposeCaseReducer(t,{fulfilled:c||jf,pending:u||jf,rejected:f||jf,settled:d||jf})}function jf(){}function Bs(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const NV={user:null,loading:!1,error:null},lR=IV({name:"auth",initialState:NV,reducers:{loginStart:n=>{n.loading=!0,n.error=null},loginSuccess:(n,t)=>{n.loading=!1,n.user={uid:t.payload.uid,email:t.payload.email,displayName:t.payload.displayName||"",role:t.payload.role||"user",username:t.payload.username||"",userType:t.payload.userType||"",profilePhotoURL:t.payload.profilePhotoURL||""}},loginFailure:(n,t)=>{n.loading=!1,n.error=t.payload},logout:n=>{n.user=null,n.loading=!1,n.error=null}}}),{loginStart:cR,loginSuccess:uR,loginFailure:hR,logout:VV}=lR.actions,LV=lR.reducer,jV="https://api.cloudinary.com/v1_1/dbftgtgs9/image/upload",UV="Demo_product_upload_image",fR=()=>{const[n,t]=F.useState(""),[e,i]=F.useState(""),[r,o]=F.useState(""),[c,u]=F.useState("user"),[f,d]=F.useState(null),[m,_]=F.useState(!1),v=r0(),E=Dl(),w=async L=>{const Q=new FormData;return Q.append("file",L),Q.append("upload_preset",UV),(await(await fetch(jV,{method:"POST",body:Q})).json()).secure_url},C=async L=>{L.preventDefault(),v(cR());try{_(!0);let Q="";f&&(Q=await w(f));const R=(await WO(En,n,e)).user;await T6(fi(ue,"users",R.uid),{uid:R.uid,email:R.email,username:r,userType:c,profilePhotoURL:Q}),v(uR({uid:R.uid,email:R.email,username:r,userType:c,profilePhotoURL:Q})),alert("Registration successful!"),E(c==="creator"?"/creatordashboard":"/userdashboard")}catch(Q){v(hR(Q.message)),alert("Registration failed: "+Q.message)}finally{_(!1)}},A={position:"relative",height:"80vh",overflow:"hidden",display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:"60px"},k={width:"400px",padding:"10px",backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"10px",boxShadow:"0 0 10px rgba(255, 255, 255, 0.9)",zIndex:1,marginTop:"-80px"},q={width:"90%",padding:"10px",margin:"10px 10px 0 20px",borderRadius:"5px",border:"1px solid #aaa",fontSize:"16px",boxShadow:"0 0 10px rgba(0,0,0,0.2)"},$={width:"90%",padding:"12px",backgroundColor:"#221e49ff",color:"#fff",border:"none",borderRadius:"5px",fontSize:"16px",cursor:"pointer",marginTop:"10px",marginLeft:"20px"},tt={textAlign:"center",fontSize:"24px",color:"#2c3e50",marginBottom:"20px"};return S.jsx("div",{style:A,children:S.jsxs("form",{onSubmit:C,style:k,children:[S.jsx("h2",{style:tt,children:S.jsx("b",{children:"Register"})}),S.jsx("input",{value:n,onChange:L=>t(L.target.value),placeholder:"Email",type:"email",required:!0,style:q}),S.jsx("input",{value:e,onChange:L=>i(L.target.value),type:"password",placeholder:"Password",required:!0,style:q}),S.jsx("input",{value:r,onChange:L=>o(L.target.value),type:"text",placeholder:"Username",required:!0,style:q}),S.jsxs("select",{value:c,onChange:L=>u(L.target.value),style:q,children:[S.jsx("option",{value:"user",children:"User"}),S.jsx("option",{value:"creator",children:"Creator"})]}),S.jsx("input",{type:"file",accept:"image/*",onChange:L=>d(L.target.files[0]),style:q}),m&&S.jsx("p",{style:{color:"red"},children:"Uploading photo..."}),S.jsx("button",{type:"submit",style:$,disabled:m,children:m?"Registering...":"Register"})]})})},dR=()=>{const[n,t]=F.useState(""),[e,i]=F.useState(""),r=r0(),o=Dl(),c=async v=>{v.preventDefault(),r(cR());try{const w=(await KO(En,n,e)).user,C=jr(In(ue,"users"),Ur("uid","==",w.uid)),A=await Hn(C);if(A.empty)throw new Error("User data not found");const k=A.docs[0].data();r(uR({uid:w.uid,email:w.email,displayName:w.displayName||"",userType:k.userType||"user"})),alert("Login successful!"),k.userType==="creator"?o("/creatordashboard"):o("/userdashboard")}catch(E){r(hR(E.message)),alert("Login failed: "+E.message)}},u={width:"350px",margin:"80px auto",marginTop:"-50px",padding:"30px",borderRadius:"10px",backgroundColor:"#ffffffff",fontFamily:"Arial, sans-serif",boxShadow:"0 0 10px rgba(255, 255, 255, 0.9)"},f={width:"100%",padding:"10px",margin:"10px 0",borderRadius:"5px",border:"1px solid #aaa",fontSize:"16px"},d={width:"100%",padding:"12px",backgroundColor:"#2a264cff",color:"#fff",border:"none",borderRadius:"5px",fontSize:"16px",cursor:"pointer",marginTop:"10px"},m={position:"relative",height:"80vh",overflow:"hidden",display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:"80px"},_={textAlign:"center",fontSize:"24px",color:"#2c3e50",marginBottom:"20px"};return S.jsx("div",{style:m,children:S.jsxs("form",{onSubmit:c,style:u,children:[S.jsx("h2",{style:_,children:S.jsx("b",{children:"Login"})}),S.jsx("input",{value:n,onChange:v=>t(v.target.value),placeholder:"Email",type:"email",required:!0,style:f}),S.jsx("input",{value:e,onChange:v=>i(v.target.value),type:"password",placeholder:"Password",required:!0,style:f}),S.jsx("button",{type:"submit",style:d,children:"Login"})]})})},ty=({children:n})=>a0(e=>e.auth.user)?n:S.jsx(dS,{to:"/"});var pR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},j1=Ki.createContext&&Ki.createContext(pR),zV=["attr","size","title"];function BV(n,t){if(n==null)return{};var e=FV(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function FV(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Bd(){return Bd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Bd.apply(this,arguments)}function U1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Fd(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?U1(Object(e),!0).forEach(function(i){HV(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):U1(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function HV(n,t,e){return t=qV(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function qV(n){var t=$V(n,"string");return typeof t=="symbol"?t:t+""}function $V(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function gR(n){return n&&n.map((t,e)=>Ki.createElement(t.tag,Fd({key:e},t.attr),gR(t.child)))}function zl(n){return t=>Ki.createElement(GV,Bd({attr:Fd({},n.attr)},t),gR(n.child))}function GV(n){var t=e=>{var{attr:i,size:r,title:o}=n,c=BV(n,zV),u=r||e.size||"1em",f;return e.className&&(f=e.className),n.className&&(f=(f?f+" ":"")+n.className),Ki.createElement("svg",Bd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:f,style:Fd(Fd({color:n.color||e.color},e.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&Ki.createElement("title",null,o),n.children)};return j1!==void 0?Ki.createElement(j1.Consumer,null,e=>t(e)):t(pR)}function Ky(n){return zl({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.6 0-12-5.4-12-12v-36c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v52h48c26.5 0 48 21.5 48 48v36c0 6.6-5.4 12-12 12zM12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm316 140c0-6.6-5.4-12-12-12h-60v-60c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v60h-60c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h60v60c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-60h60c6.6 0 12-5.4 12-12v-40z"},child:[]}]})(n)}function mR(n){return zl({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(n)}function yR(n){return zl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm173.696 119.559l-63.399 63.399c-10.987-18.559-26.67-34.252-45.255-45.255l63.399-63.399a218.396 218.396 0 0 1 45.255 45.255zM256 352c-53.019 0-96-42.981-96-96s42.981-96 96-96 96 42.981 96 96-42.981 96-96 96zM127.559 82.304l63.399 63.399c-18.559 10.987-34.252 26.67-45.255 45.255l-63.399-63.399a218.372 218.372 0 0 1 45.255-45.255zM82.304 384.441l63.399-63.399c10.987 18.559 26.67 34.252 45.255 45.255l-63.399 63.399a218.396 218.396 0 0 1-45.255-45.255zm302.137 45.255l-63.399-63.399c18.559-10.987 34.252-26.67 45.255-45.255l63.399 63.399a218.403 218.403 0 0 1-45.255 45.255z"},child:[]}]})(n)}function YV(n){return zl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(n)}function WV(n){return zl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(n)}function _R(n){return zl({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}const KV=()=>{const n=a0(m=>m.auth.user),t=r0(),e=Dl(),[i,r]=F.useState({username:"",photo:""}),[o,c]=F.useState(!1),[u,f]=F.useState(!1);F.useEffect(()=>{(async()=>{if(n?.uid)try{const _=fi(ue,"users",n.uid),v=await n0(_),E=v.exists()?v.data():{};r({username:E.username||n.displayName||n.email,photo:E.profilePhotoURL||n.photoURL||"https://i.pravatar.cc/100"})}catch(_){console.error("Failed to fetch profile:",_)}})()},[n]),F.useEffect(()=>{n&&(c(!1),f(!1))},[n]);const d=async()=>{try{await JO(En),t(VV()),e("/")}catch(m){console.error("Logout Error:",m)}};return S.jsxs(S.Fragment,{children:[S.jsxs("nav",{style:bn.nav,children:[S.jsx("img",{src:"/logo1.png",alt:"logo",style:{height:"60px"}}),S.jsx("div",{style:bn.links,children:n?S.jsxs(S.Fragment,{children:[S.jsxs("div",{style:bn.profileBox,children:[S.jsx("img",{src:i.photo,alt:"User",style:bn.avatar}),S.jsxs("div",{children:[S.jsx("span",{style:bn.username,children:i.username}),S.jsx("br",{}),S.jsx("small",{style:bn.userType,children:n.userType?.toUpperCase()||"USER"})]})]}),S.jsx("button",{onClick:d,style:bn.logoutBtn,children:S.jsx(WV,{})})]}):S.jsxs(S.Fragment,{children:[S.jsx("button",{onClick:()=>c(!0),style:bn.link,children:"Login"}),S.jsx("button",{onClick:()=>f(!0),style:bn.link,children:"Register"})]})})]}),o&&S.jsx("div",{style:bn.modalOverlay,onClick:()=>c(!1),children:S.jsxs("div",{style:bn.modalContent,onClick:m=>m.stopPropagation(),children:[S.jsx("button",{style:bn.closeBtn,onClick:()=>c(!1),children:"×"}),S.jsx(dR,{})]})}),u&&S.jsx("div",{style:bn.modalOverlay,onClick:()=>f(!1),children:S.jsxs("div",{style:bn.modalContent,onClick:m=>m.stopPropagation(),children:[S.jsx("button",{style:bn.closeBtn,onClick:()=>f(!1),children:"×"}),S.jsx(fR,{})]})})]})},bn={nav:{position:"fixed",top:"0px",left:0,right:0,zIndex:1e3,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 20px",backgroundColor:"#ffffff",color:"#000",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",height:"80px"},links:{display:"flex",alignItems:"center",gap:"15px"},link:{textDecoration:"none",backgroundColor:"#060034ff",padding:"10px 16px",borderRadius:"8px",color:"#fff",fontWeight:"bold",border:"none",cursor:"pointer"},profileBox:{display:"flex",alignItems:"center",gap:"10px",width:"200px",background:"#eaeaea",padding:"5px 10px",borderRadius:"20px",marginRight:"20px"},avatar:{width:"45px",height:"45px",borderRadius:"50%",objectFit:"cover"},username:{fontWeight:"600",fontSize:"14px"},userType:{fontSize:"12px",color:"#555"},logoutBtn:{background:"none",border:"none",cursor:"pointer",fontSize:"20px",color:"#000"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},modalContent:{background:"#fff",padding:"30px",borderRadius:"10px",width:"350px",height:"450px",position:"relative",boxShadow:"0 4px 12px rgba(255, 255, 255, 0.9)"},closeBtn:{position:"absolute",top:"10px",right:"15px",background:"none",border:"none",fontSize:"24px",color:"#555",cursor:"pointer"}},QV="dbftgtgs9",XV="Demo_product_upload_image",ZV=`https://api.cloudinary.com/v1_1/${QV}/image/upload`,vR=()=>{const n=a0(f=>f.auth.user),[t,e]=F.useState({title:"",description:"",videoLink:"",speakerName:"",speakerImageUrl:"",meetingType:"normal",date:"",time:"",price:"",posterFile:null}),[i,r]=F.useState(!1),o=f=>{const{name:d,value:m,files:_}=f.target;e(d==="posterFile"?v=>({...v,posterFile:_[0]}):v=>({...v,[d]:m}))},c=async f=>{const d=new FormData;return d.append("file",f),d.append("upload_preset",XV),(await(await fetch(ZV,{method:"POST",body:d})).json()).secure_url},u=async f=>{if(f.preventDefault(),!n?.uid)return alert("Please login first");if(!t.posterFile)return alert("Please upload an event poster");r(!0);try{const d=await c(t.posterFile),m={title:t.title,description:t.description,videoLink:t.videoLink,speakerName:t.speakerName,meetingType:t.meetingType,price:t.meetingType==="premium"?parseFloat(t.price||0):0,date:t.date,time:t.time,posterUrl:d,createdBy:n.uid,username:n.username||n.displayName||"",email:n.email||"",profilePhotoURL:n.profilePhotoURL||n.photoURL||"",createdAt:R6()};await w6(In(ue,"events"),m),alert("✅ Event created successfully"),e({title:"",description:"",videoLink:"",speakerName:"",meetingType:"normal",date:"",time:"",price:"",posterFile:null})}catch(d){console.error("❌ Error uploading or saving event:",d),alert("❌ Failed to upload or save event")}finally{r(!1)}};return S.jsxs("form",{onSubmit:u,style:zn.form,children:[S.jsx("h1",{style:{fontSize:"26px"},children:S.jsx("b",{children:"Create Event"})}),S.jsx("input",{type:"text",name:"title",placeholder:"Event Title",value:t.title,onChange:o,style:zn.input,required:!0}),S.jsx("input",{type:"date",name:"date",value:t.date,onChange:o,style:zn.input,min:new Date().toISOString().split("T")[0],required:!0}),S.jsx("input",{type:"time",name:"time",value:t.time,onChange:o,style:zn.input,required:!0}),S.jsx("input",{type:"text",name:"videoLink",placeholder:"Video / Meeting Link",value:t.videoLink,onChange:o,style:zn.input}),S.jsx("input",{type:"text",name:"speakerName",placeholder:"Speaker Name",value:t.speakerName,onChange:o,style:zn.input}),S.jsx("textarea",{name:"description",placeholder:"Event Description",value:t.description,onChange:o,style:zn.textarea,required:!0}),S.jsx("label",{style:zn.label,children:"Meeting Type:"}),S.jsxs("select",{name:"meetingType",value:t.meetingType,onChange:o,style:zn.input,children:[S.jsx("option",{value:"normal",children:"Normal"}),S.jsx("option",{value:"premium",children:"Premium"})]}),t.meetingType==="premium"&&S.jsx("input",{type:"number",name:"price",placeholder:"Price in ₹",value:t.price,onChange:o,style:zn.input,required:!0}),S.jsx("label",{style:zn.label,children:"Upload Poster Image:"}),S.jsx("input",{type:"file",name:"posterFile",accept:"image/*",onChange:o,style:zn.input,required:!0}),S.jsx("button",{type:"submit",disabled:i,style:zn.button,children:i?"Uploading...":"Create Event"})]})},zn={form:{maxWidth:"1000px",margin:"100px 0 0 250px",padding:"20px",backgroundColor:"#d6d6d6ff",borderRadius:"10px",boxShadow:"0 0 8px rgba(0,0,0,0.6)",position:"fixed"},input:{width:"45%",padding:"10px",margin:"10px 10px",borderRadius:"5px",border:"1px solid #ccc",backgroundColor:"#ffffffff",boxShadow:"0 0 8px rgba(0,0,0,0.3)"},textarea:{width:"94%",padding:"10px",margin:"10px",borderRadius:"5px",border:"1px solid #ccc",backgroundColor:"#ffffffff",boxShadow:"0 0 8px rgba(0,0,0,0.3)"},label:{fontWeight:"bold",marginTop:"10px",display:"block",marginLeft:"10px"},button:{width:"30%",padding:"12px",marginLeft:"10px",backgroundColor:"#002042ff",color:"#fff",border:"none",borderRadius:"5px",fontSize:"16px",cursor:"pointer"}},JV=()=>{const[n,t]=F.useState([]),[e,i]=F.useState([]),[r,o]=F.useState(null),[c,u]=F.useState({}),[f,d]=F.useState(!1),[m,_]=F.useState(null);F.useEffect(()=>{(async()=>{const Q=En.currentUser;Q&&(_(Q.uid),await v(Q.uid))})()},[]);const v=async L=>{const Q=jr(In(ue,"events"),Ur("createdBy","==",L)),R=(await Hn(Q)).docs.map(P=>({id:P.id,...P.data()})),M=R.filter(P=>P.meetingType==="premium"),N=R.filter(P=>P.meetingType!=="premium");M.sort((P,z)=>E(z.time)-E(P.time)),N.sort((P,z)=>E(z.time)-E(P.time)),t(M),i(N)},E=L=>{const[Q,O]=L.split(":").map(Number);return Q*60+O},w=async L=>{window.confirm("Are you sure you want to delete this event?")&&(await S6(fi(ue,"events",L)),t(Q=>Q.filter(O=>O.id!==L)),i(Q=>Q.filter(O=>O.id!==L)))},C=L=>{o(L.id),u({...L})},A=()=>{o(null),u({})},k=async()=>{const L=fi(ue,"events",r);await oo(L,c),o(null),v(m)},q=L=>{const{name:Q,value:O}=L.target;u(R=>({...R,[Q]:O}))},$=async L=>{const Q=L.target.files[0];if(!Q)return;d(!0);const O=new FormData;O.append("file",Q),O.append("upload_preset","Demo_product_upload_image");try{const M=await(await fetch("https://api.cloudinary.com/v1_1/dbftgtgs9/image/upload",{method:"POST",body:O})).json();u(N=>({...N,posterUrl:M.secure_url}))}catch{alert("Failed to upload image")}finally{d(!1)}},tt=L=>S.jsxs("li",{style:Te.card,children:[S.jsx("img",{src:L.posterUrl,alt:"Poster",style:Te.poster}),r===L.id?S.jsxs("div",{style:Te.form,children:[S.jsx("input",{style:Te.input,name:"title",value:c.title,onChange:q}),S.jsx("input",{style:Te.input,type:"file",accept:"image/*",onChange:$}),f&&S.jsx("p",{children:"Uploading..."}),S.jsx("img",{src:c.posterUrl,alt:"Preview",style:Te.preview}),S.jsx("input",{style:Te.input,name:"date",value:c.date,onChange:q}),S.jsx("input",{style:Te.input,name:"time",value:c.time,onChange:q}),S.jsx("input",{style:Te.input,name:"videoLink",value:c.videoLink,onChange:q}),S.jsx("textarea",{style:Te.input,name:"description",value:c.description,onChange:q}),S.jsx("input",{style:Te.input,name:"speakerName",value:c.speakerName,onChange:q}),S.jsxs("div",{children:[S.jsx("button",{onClick:k,style:Te.save,children:"💾 Save"}),S.jsx("button",{onClick:A,style:Te.cancel,children:"❌ Cancel"})]})]}):S.jsxs("div",{children:[S.jsx("h3",{children:S.jsx("strong",{children:L.title})}),S.jsxs("p",{children:[S.jsx("strong",{children:"Speaker:"})," ",L.speakerName]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Date:"})," ",L.date]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Time:"})," ",L.time]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Link:"})," ",L.videoLink]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Description:"})," ",L.description]}),S.jsx("button",{onClick:()=>C(L),style:Te.edit,children:"✏️ Edit"}),S.jsx("button",{onClick:()=>w(L.id),style:Te.delete,children:"🗑 Delete"})]})]},L.id);return S.jsxs("div",{style:Te.container,children:[S.jsx("h2",{style:{fontSize:"28px"},children:S.jsx("b",{children:"Your Events (Premium & Normal)"})}),S.jsxs("div",{style:Te.grid,children:[S.jsxs("div",{children:[S.jsx("h3",{style:Te.columnTitle,children:"🌟 Premium Events"}),n.length===0?S.jsx("p",{children:"No premium events"}):S.jsx("ul",{style:Te.list,children:n.map(tt)})]}),S.jsxs("div",{children:[S.jsx("h3",{style:Te.columnTitle,children:"📝 Normal Events"}),e.length===0?S.jsx("p",{children:"No normal events"}):S.jsx("ul",{style:Te.list,children:e.map(tt)})]})]})]})},Te={container:{margin:"70px 0px 0px 350px",padding:"20px",maxWidth:"1500px",position:"relative"},grid:{display:"flex",gap:"100px"},columnTitle:{background:"#f0f0f0",padding:"10px 15px",borderRadius:"10px",fontWeight:"bold",fontSize:"28px"},list:{listStyle:"none",padding:0},card:{display:"flex",gap:"20px",padding:"15px",marginBottom:"15px",border:"1px solid #ccc",borderRadius:"10px",backgroundColor:"#fff",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.2)"},poster:{width:"150px",height:"190px",objectFit:"cover",borderRadius:"10px"},preview:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"10px",marginTop:"10px"},edit:{backgroundColor:"#210054",color:"#fff",padding:"6px 12px",border:"none",borderRadius:"5px",marginTop:"10px",cursor:"pointer"},delete:{backgroundColor:"#dc3545",color:"#fff",padding:"6px 12px",border:"none",borderRadius:"5px",marginLeft:"10px",cursor:"pointer"},save:{backgroundColor:"#2bff00",padding:"6px 12px",border:"none",borderRadius:"5px",marginTop:"10px",fontWeight:"bold",cursor:"pointer"},cancel:{backgroundColor:"#666",color:"#fff",padding:"6px 12px",border:"none",borderRadius:"5px",marginLeft:"10px",cursor:"pointer"},form:{flex:1,display:"flex",flexDirection:"column",gap:"10px"},input:{padding:"5px",borderRadius:"10px",backgroundColor:"#fff",border:"1px solid #ccc"}};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function sh(n){return n+.5|0}const Mr=(n,t,e)=>Math.max(Math.min(n,e),t);function hu(n){return Mr(sh(n*2.55),0,255)}function zr(n){return Mr(sh(n*255),0,255)}function Ps(n){return Mr(sh(n/2.55)/100,0,1)}function z1(n){return Mr(sh(n*100),0,100)}const ai={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Qy=[..."0123456789ABCDEF"],tL=n=>Qy[n&15],eL=n=>Qy[(n&240)>>4]+Qy[n&15],Uf=n=>(n&240)>>4===(n&15),nL=n=>Uf(n.r)&&Uf(n.g)&&Uf(n.b)&&Uf(n.a);function iL(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ai[n[1]]*17,g:255&ai[n[2]]*17,b:255&ai[n[3]]*17,a:t===5?ai[n[4]]*17:255}:(t===7||t===9)&&(e={r:ai[n[1]]<<4|ai[n[2]],g:ai[n[3]]<<4|ai[n[4]],b:ai[n[5]]<<4|ai[n[6]],a:t===9?ai[n[7]]<<4|ai[n[8]]:255})),e}const sL=(n,t)=>n<255?t(n):"";function rL(n){var t=nL(n)?tL:eL;return n?"#"+t(n.r)+t(n.g)+t(n.b)+sL(n.a,t):void 0}const aL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function bR(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function oL(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function lL(n,t,e){const i=bR(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function cL(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function u0(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),u=(o+c)/2;let f,d,m;return o!==c&&(m=o-c,d=u>.5?m/(2-o-c):m/(o+c),f=cL(e,i,r,m,o),f=f*60+.5),[f|0,d||0,u]}function h0(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(zr)}function f0(n,t,e){return h0(bR,n,t,e)}function uL(n,t,e){return h0(lL,n,t,e)}function hL(n,t,e){return h0(oL,n,t,e)}function ER(n){return(n%360+360)%360}function fL(n){const t=aL.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?hu(+t[5]):zr(+t[5]));const r=ER(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=uL(r,o,c):t[1]==="hsv"?i=hL(r,o,c):i=f0(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function dL(n,t){var e=u0(n);e[0]=ER(e[0]+t),e=f0(e),n.r=e[0],n.g=e[1],n.b=e[2]}function pL(n){if(!n)return;const t=u0(n),e=t[0],i=z1(t[1]),r=z1(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Ps(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const B1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},F1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function gL(){const n={},t=Object.keys(F1),e=Object.keys(B1);let i,r,o,c,u;for(i=0;i<t.length;i++){for(c=u=t[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,B1[o]);o=parseInt(F1[c],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let zf;function mL(n){zf||(zf=gL(),zf.transparent=[0,0,0,0]);const t=zf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const yL=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _L(n){const t=yL.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?hu(c):Mr(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?hu(i):Mr(i,0,255)),r=255&(t[4]?hu(r):Mr(r,0,255)),o=255&(t[6]?hu(o):Mr(o,0,255)),{r:i,g:r,b:o,a:e}}}function vL(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ps(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const ey=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,nl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function bL(n,t,e){const i=nl(Ps(n.r)),r=nl(Ps(n.g)),o=nl(Ps(n.b));return{r:zr(ey(i+e*(nl(Ps(t.r))-i))),g:zr(ey(r+e*(nl(Ps(t.g))-r))),b:zr(ey(o+e*(nl(Ps(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Bf(n,t,e){if(n){let i=u0(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=f0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function xR(n,t){return n&&Object.assign(t||{},n)}function H1(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=zr(n[3]))):(t=xR(n,{r:0,g:0,b:0,a:1}),t.a=zr(t.a)),t}function EL(n){return n.charAt(0)==="r"?_L(n):fL(n)}class Vu{constructor(t){if(t instanceof Vu)return t;const e=typeof t;let i;e==="object"?i=H1(t):e==="string"&&(i=iL(t)||mL(t)||EL(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=xR(this._rgb);return t&&(t.a=Ps(t.a)),t}set rgb(t){this._rgb=H1(t)}rgbString(){return this._valid?vL(this._rgb):void 0}hexString(){return this._valid?rL(this._rgb):void 0}hslString(){return this._valid?pL(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,u=2*c-1,f=i.a-r.a,d=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-d,i.r=255&d*i.r+o*r.r+.5,i.g=255&d*i.g+o*r.g+.5,i.b=255&d*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=bL(this._rgb,t._rgb,e)),this}clone(){return new Vu(this.rgb)}alpha(t){return this._rgb.a=zr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=sh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Bf(this._rgb,2,t),this}darken(t){return Bf(this._rgb,2,-t),this}saturate(t){return Bf(this._rgb,1,t),this}desaturate(t){return Bf(this._rgb,1,-t),this}rotate(t){return dL(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Ms(){}const xL=(()=>{let n=0;return()=>n++})();function Wt(n){return n==null}function Ue(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function $t(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function di(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function $i(n,t){return di(n)?n:t}function Nt(n,t){return typeof n>"u"?t:n}const TL=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ce(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Jt(n,t,e,i){let r,o,c;if(Ue(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if($t(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function Hd(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function qd(n){if(Ue(n))return n.map(qd);if($t(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=qd(n[e[r]]);return t}return n}function TR(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function SL(n,t,e,i){if(!TR(n))return;const r=t[n],o=e[n];$t(r)&&$t(o)?Lu(r,o,i):t[n]=qd(o)}function Lu(n,t,e){const i=Ue(t)?t:[t],r=i.length;if(!$t(n))return n;e=e||{};const o=e.merger||SL;let c;for(let u=0;u<r;++u){if(c=i[u],!$t(c))continue;const f=Object.keys(c);for(let d=0,m=f.length;d<m;++d)o(f[d],n,c,e)}return n}function bu(n,t){return Lu(n,t,{merger:wL})}function wL(n,t,e){if(!TR(n))return;const i=t[n],r=e[n];$t(i)&&$t(r)?bu(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=qd(r))}const q1={"":n=>n,x:n=>n.x,y:n=>n.y};function AL(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function RL(n){const t=AL(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Sl(n,t){return(q1[t]||(q1[t]=RL(t)))(n)}function d0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ju=n=>typeof n<"u",Kr=n=>typeof n=="function",$1=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function CL(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ke=Math.PI,ns=2*Ke,IL=ns+Ke,$d=Number.POSITIVE_INFINITY,DL=Ke/180,Ti=Ke/2,Va=Ke/4,G1=Ke*2/3,SR=Math.log10,is=Math.sign;function Eu(n,t,e){return Math.abs(n-t)<e}function Y1(n){const t=Math.round(n);n=Eu(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(SR(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function ML(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function OL(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Uu(n){return!OL(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function kL(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function PL(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function qa(n){return n*(Ke/180)}function NL(n){return n*(180/Ke)}function W1(n){if(!di(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function VL(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Ke&&(o+=ns),{angle:o,distance:r}}function Xy(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function LL(n,t){return(n-t+IL)%ns-Ke}function Ar(n){return(n%ns+ns)%ns}function wR(n,t,e,i){const r=Ar(n),o=Ar(t),c=Ar(e),u=Ar(o-r),f=Ar(c-r),d=Ar(r-o),m=Ar(r-c);return r===o||r===c||i&&o===c||u>f&&d<m}function Fn(n,t,e){return Math.max(t,Math.min(e,n))}function jL(n){return Fn(n,-32768,32767)}function $a(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function p0(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Ga=(n,t,e,i)=>p0(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),UL=(n,t,e)=>p0(n,e,i=>n[i][t]>=e);function zL(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const AR=["push","pop","shift","splice","unshift"];function BL(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),AR.forEach(e=>{const i="_onData"+d0(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),c}})})}function K1(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(AR.forEach(o=>{delete n[o]}),delete n._chartjs)}function RR(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const CR=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function IR(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,CR.call(window,()=>{i=!1,n.apply(t,e)}))}}function FL(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const g0=n=>n==="start"?"left":n==="end"?"right":"center",hn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,HL=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function qL(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:c,vScale:u,_parsed:f}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,m=c.axis,{min:_,max:v,minDefined:E,maxDefined:w}=c.getUserBounds();if(E){if(r=Math.min(Ga(f,m,_).lo,e?i:Ga(t,m,c.getPixelForValue(_)).lo),d){const C=f.slice(0,r+1).reverse().findIndex(A=>!Wt(A[u.axis]));r-=Math.max(0,C)}r=Fn(r,0,i-1)}if(w){let C=Math.max(Ga(f,c.axis,v,!0).hi+1,e?0:Ga(t,m,c.getPixelForValue(v),!0).hi+1);if(d){const A=f.slice(C-1).findIndex(k=>!Wt(k[u.axis]));C+=Math.max(0,A)}o=Fn(C,r,i)-r}else o=i-r}return{start:r,count:o}}function $L(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Ff=n=>n===0||n===1,Q1=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*ns/e)),X1=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*ns/e)+1,xu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ti)+1,easeOutSine:n=>Math.sin(n*Ti),easeInOutSine:n=>-.5*(Math.cos(Ke*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Ff(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Ff(n)?n:Q1(n,.075,.3),easeOutElastic:n=>Ff(n)?n:X1(n,.075,.3),easeInOutElastic(n){return Ff(n)?n:n<.5?.5*Q1(n*2,.1125,.45):.5+.5*X1(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-xu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?xu.easeInBounce(n*2)*.5:xu.easeOutBounce(n*2-1)*.5+.5};function m0(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Z1(n){return m0(n)?n:new Vu(n)}function ny(n){return m0(n)?n:new Vu(n).saturate(.5).darken(.1).hexString()}const GL=["x","y","borderWidth","radius","tension"],YL=["color","borderColor","backgroundColor"];function WL(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:YL},numbers:{type:"number",properties:GL}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function KL(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const J1=new Map;function QL(n,t){t=t||{};const e=n+JSON.stringify(t);let i=J1.get(e);return i||(i=new Intl.NumberFormat(n,t),J1.set(e,i)),i}function DR(n,t,e){return QL(t,e).format(n)}const XL={values(n){return Ue(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(r="scientific"),o=ZL(n,e)}const c=SR(Math.abs(o)),u=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),DR(n,i,f)}};function ZL(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var MR={formatters:XL};function JL(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:MR.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const no=Object.create(null),Zy=Object.create(null);function Tu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function iy(n,t,e){return typeof t=="string"?Lu(Tu(n,t),e):Lu(Tu(n,""),t)}class t3{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>ny(r.backgroundColor),this.hoverBorderColor=(i,r)=>ny(r.borderColor),this.hoverColor=(i,r)=>ny(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return iy(this,t,e)}get(t){return Tu(this,t)}describe(t,e){return iy(Zy,t,e)}override(t,e){return iy(no,t,e)}route(t,e,i,r){const o=Tu(this,t),c=Tu(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[u],d=c[r];return $t(f)?Object.assign({},d,f):Nt(f,d)},set(f){this[u]=f}}})}apply(t){t.forEach(e=>e(this))}}var Ae=new t3({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[WL,KL,JL]);function e3(n){return!n||Wt(n.size)||Wt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function tT(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function La(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function eT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Jy(n,t,e,i){OR(n,t,e,i,null)}function OR(n,t,e,i,r){let o,c,u,f,d,m,_,v;const E=t.pointStyle,w=t.rotation,C=t.radius;let A=(w||0)*DL;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(A),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),E){default:r?n.ellipse(e,i,r/2,C,0,0,ns):n.arc(e,i,C,0,ns),n.closePath();break;case"triangle":m=r?r/2:C,n.moveTo(e+Math.sin(A)*m,i-Math.cos(A)*C),A+=G1,n.lineTo(e+Math.sin(A)*m,i-Math.cos(A)*C),A+=G1,n.lineTo(e+Math.sin(A)*m,i-Math.cos(A)*C),n.closePath();break;case"rectRounded":d=C*.516,f=C-d,c=Math.cos(A+Va)*f,_=Math.cos(A+Va)*(r?r/2-d:f),u=Math.sin(A+Va)*f,v=Math.sin(A+Va)*(r?r/2-d:f),n.arc(e-_,i-u,d,A-Ke,A-Ti),n.arc(e+v,i-c,d,A-Ti,A),n.arc(e+_,i+u,d,A,A+Ti),n.arc(e-v,i+c,d,A+Ti,A+Ke),n.closePath();break;case"rect":if(!w){f=Math.SQRT1_2*C,m=r?r/2:f,n.rect(e-m,i-f,2*m,2*f);break}A+=Va;case"rectRot":_=Math.cos(A)*(r?r/2:C),c=Math.cos(A)*C,u=Math.sin(A)*C,v=Math.sin(A)*(r?r/2:C),n.moveTo(e-_,i-u),n.lineTo(e+v,i-c),n.lineTo(e+_,i+u),n.lineTo(e-v,i+c),n.closePath();break;case"crossRot":A+=Va;case"cross":_=Math.cos(A)*(r?r/2:C),c=Math.cos(A)*C,u=Math.sin(A)*C,v=Math.sin(A)*(r?r/2:C),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-c),n.lineTo(e-v,i+c);break;case"star":_=Math.cos(A)*(r?r/2:C),c=Math.cos(A)*C,u=Math.sin(A)*C,v=Math.sin(A)*(r?r/2:C),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-c),n.lineTo(e-v,i+c),A+=Va,_=Math.cos(A)*(r?r/2:C),c=Math.cos(A)*C,u=Math.sin(A)*C,v=Math.sin(A)*(r?r/2:C),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-c),n.lineTo(e-v,i+c);break;case"line":c=r?r/2:Math.cos(A)*C,u=Math.sin(A)*C,n.moveTo(e-c,i-u),n.lineTo(e+c,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(A)*(r?r/2:C),i+Math.sin(A)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function zu(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function y0(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function _0(n){n.restore()}function n3(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function i3(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function s3(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Wt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function r3(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,m=r.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,m),n.lineTo(u,m),n.stroke()}}function a3(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Bu(n,t,e,i,r,o={}){const c=Ue(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=r.string,s3(n,o),f=0;f<c.length;++f)d=c[f],o.backdrop&&a3(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Wt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),r3(n,e,i,d,o),i+=Number(r.lineHeight);n.restore()}function Gd(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*Ke,Ke,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Ke,Ti,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Ti,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-Ti,!0),n.lineTo(e+c.topLeft,i)}const o3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,l3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function c3(n,t){const e=(""+n).match(o3);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const u3=n=>+n||0;function kR(n,t){const e={},i=$t(t),r=i?Object.keys(t):t,o=$t(n)?i?c=>Nt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=u3(o(c));return e}function PR(n){return kR(n,{top:"y",right:"x",bottom:"y",left:"x"})}function dl(n){return kR(n,["topLeft","topRight","bottomLeft","bottomRight"])}function pi(n){const t=PR(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function pn(n,t){n=n||{},t=t||Ae.font;let e=Nt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Nt(n.style,t.style);i&&!(""+i).match(l3)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Nt(n.family,t.family),lineHeight:c3(Nt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Nt(n.weight,t.weight),string:""};return r.string=e3(r),r}function Hf(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function h3(n,t,e){const{min:i,max:r}=n,o=TL(t,(r-i)/2),c=(u,f)=>e&&u===0?0:u+f;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function lo(n,t){return Object.assign(Object.create(n),t)}function v0(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=jR("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>v0([u,...n],t,o,i)};return new Proxy(c,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return VR(u,f,()=>v3(f,t,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return iT(u).includes(f)},ownKeys(u){return iT(u)},set(u,f,d){const m=u._storage||(u._storage=r());return u[f]=m[f]=d,delete u._keys,!0}})}function wl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:NR(n,i),setContext:o=>wl(n,o,e,i),override:o=>wl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,u){return VR(o,c,()=>d3(o,c,u))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,u){return n[c]=u,delete o[c],!0}})}function NR(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Kr(e)?e:()=>e,isIndexable:Kr(i)?i:()=>i}}const f3=(n,t)=>n?n+d0(t):t,b0=(n,t)=>$t(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function VR(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function d3(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let u=i[t];return Kr(u)&&c.isScriptable(t)&&(u=p3(t,u,n,e)),Ue(u)&&u.length&&(u=g3(t,u,n,c.isIndexable)),b0(t,u)&&(u=wl(u,r,o&&o[t],c)),u}function p3(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(o,c||i);return u.delete(n),b0(n,f)&&(f=E0(r._scopes,r,n,f)),f}function g3(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if($t(t[0])){const f=t,d=r._scopes.filter(m=>m!==f);t=[];for(const m of f){const _=E0(d,r,n,m);t.push(wl(_,o,c&&c[n],u))}}return t}function LR(n,t,e){return Kr(n)?n(t,e):n}const m3=(n,t)=>n===!0?t:typeof n=="string"?Sl(t,n):void 0;function y3(n,t,e,i,r){for(const o of t){const c=m3(e,o);if(c){n.add(c);const u=LR(c._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function E0(n,t,e,i){const r=t._rootScopes,o=LR(t._fallback,e,i),c=[...n,...r],u=new Set;u.add(i);let f=nT(u,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=nT(u,c,o,f,i),f===null)?!1:v0(Array.from(u),[""],r,o,()=>_3(t,e,i))}function nT(n,t,e,i,r){for(;e;)e=y3(n,t,e,i,r);return e}function _3(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Ue(r)&&$t(e)?e:r||{}}function v3(n,t,e,i){let r;for(const o of t)if(r=jR(f3(o,n),e),typeof r<"u")return b0(n,r)?E0(e,i,n,r):r}function jR(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function iT(n){let t=n._keys;return t||(t=n._keys=b3(n._scopes)),t}function b3(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const E3=Number.EPSILON||1e-14,Al=(n,t)=>t<n.length&&!n[t].skip&&n[t],UR=n=>n==="x"?"y":"x";function x3(n,t,e,i){const r=n.skip?t:n,o=t,c=e.skip?t:e,u=Xy(o,r),f=Xy(c,o);let d=u/(u+f),m=f/(u+f);d=isNaN(d)?0:d,m=isNaN(m)?0:m;const _=i*d,v=i*m;return{previous:{x:o.x-_*(c.x-r.x),y:o.y-_*(c.y-r.y)},next:{x:o.x+v*(c.x-r.x),y:o.y+v*(c.y-r.y)}}}function T3(n,t,e){const i=n.length;let r,o,c,u,f,d=Al(n,0);for(let m=0;m<i-1;++m)if(f=d,d=Al(n,m+1),!(!f||!d)){if(Eu(t[m],0,E3)){e[m]=e[m+1]=0;continue}r=e[m]/t[m],o=e[m+1]/t[m],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(c=3/Math.sqrt(u),e[m]=r*c*t[m],e[m+1]=o*c*t[m])}}function S3(n,t,e="x"){const i=UR(e),r=n.length;let o,c,u,f=Al(n,0);for(let d=0;d<r;++d){if(c=u,u=f,f=Al(n,d+1),!u)continue;const m=u[e],_=u[i];c&&(o=(m-c[e])/3,u[`cp1${e}`]=m-o,u[`cp1${i}`]=_-o*t[d]),f&&(o=(f[e]-m)/3,u[`cp2${e}`]=m+o,u[`cp2${i}`]=_+o*t[d])}}function w3(n,t="x"){const e=UR(t),i=n.length,r=Array(i).fill(0),o=Array(i);let c,u,f,d=Al(n,0);for(c=0;c<i;++c)if(u=f,f=d,d=Al(n,c+1),!!f){if(d){const m=d[t]-f[t];r[c]=m!==0?(d[e]-f[e])/m:0}o[c]=u?d?is(r[c-1])!==is(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}T3(n,r,o),S3(n,o,t)}function qf(n,t,e){return Math.max(Math.min(n,e),t)}function A3(n,t){let e,i,r,o,c,u=zu(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=u,u=e<i-1&&zu(n[e+1],t),o&&(r=n[e],c&&(r.cp1x=qf(r.cp1x,t.left,t.right),r.cp1y=qf(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=qf(r.cp2x,t.left,t.right),r.cp2y=qf(r.cp2y,t.top,t.bottom)))}function R3(n,t,e,i,r){let o,c,u,f;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")w3(n,r);else{let d=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)u=n[o],f=x3(d,u,n[Math.min(o+1,c-(i?0:1))%c],t.tension),u.cp1x=f.previous.x,u.cp1y=f.previous.y,u.cp2x=f.next.x,u.cp2y=f.next.y,d=u}t.capBezierPoints&&A3(n,e)}function x0(){return typeof window<"u"&&typeof document<"u"}function T0(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Yd(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const wp=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function C3(n,t){return wp(n).getPropertyValue(t)}const I3=["top","right","bottom","left"];function Wa(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=I3[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const D3=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function M3(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,u,f;if(D3(r,o,n.target))u=r,f=o;else{const d=t.getBoundingClientRect();u=i.clientX-d.left,f=i.clientY-d.top,c=!0}return{x:u,y:f,box:c}}function Ba(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=wp(e),o=r.boxSizing==="border-box",c=Wa(r,"padding"),u=Wa(r,"border","width"),{x:f,y:d,box:m}=M3(n,e),_=c.left+(m&&u.left),v=c.top+(m&&u.top);let{width:E,height:w}=t;return o&&(E-=c.width+u.width,w-=c.height+u.height),{x:Math.round((f-_)/E*e.width/i),y:Math.round((d-v)/w*e.height/i)}}function O3(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&T0(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),u=wp(o),f=Wa(u,"border","width"),d=Wa(u,"padding");t=c.width-d.width-f.width,e=c.height-d.height-f.height,i=Yd(u.maxWidth,o,"clientWidth"),r=Yd(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||$d,maxHeight:r||$d}}const $f=n=>Math.round(n*10)/10;function k3(n,t,e,i){const r=wp(n),o=Wa(r,"margin"),c=Yd(r.maxWidth,n,"clientWidth")||$d,u=Yd(r.maxHeight,n,"clientHeight")||$d,f=O3(n,t,e);let{width:d,height:m}=f;if(r.boxSizing==="content-box"){const v=Wa(r,"border","width"),E=Wa(r,"padding");d-=E.width+v.width,m-=E.height+v.height}return d=Math.max(0,d-o.width),m=Math.max(0,i?d/i:m-o.height),d=$f(Math.min(d,c,f.maxWidth)),m=$f(Math.min(m,u,f.maxHeight)),d&&!m&&(m=$f(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&m>f.height&&(m=f.height,d=$f(Math.floor(m*i))),{width:d,height:m}}function sT(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const P3=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};x0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function rT(n,t){const e=C3(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Fa(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function N3(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function V3(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=Fa(n,r,e),u=Fa(r,o,e),f=Fa(o,t,e),d=Fa(c,u,e),m=Fa(u,f,e);return Fa(d,m,e)}const L3=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},j3=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function pl(n,t,e){return n?L3(t,e):j3()}function zR(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function BR(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function FR(n){return n==="angle"?{between:wR,compare:LL,normalize:Ar}:{between:$a,compare:(t,e)=>t-e,normalize:t=>t}}function aT({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function U3(n,t,e){const{property:i,start:r,end:o}=e,{between:c,normalize:u}=FR(i),f=t.length;let{start:d,end:m,loop:_}=n,v,E;if(_){for(d+=f,m+=f,v=0,E=f;v<E&&c(u(t[d%f][i]),r,o);++v)d--,m--;d%=f,m%=f}return m<d&&(m+=f),{start:d,end:m,loop:_,style:n.style}}function z3(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,c=t.length,{compare:u,between:f,normalize:d}=FR(i),{start:m,end:_,loop:v,style:E}=U3(n,t,e),w=[];let C=!1,A=null,k,q,$;const tt=()=>f(r,$,k)&&u(r,$)!==0,L=()=>u(o,k)===0||f(o,$,k),Q=()=>C||tt(),O=()=>!C||L();for(let R=m,M=m;R<=_;++R)q=t[R%c],!q.skip&&(k=d(q[i]),k!==$&&(C=f(k,r,o),A===null&&Q()&&(A=u(k,r)===0?R:M),A!==null&&O()&&(w.push(aT({start:A,end:R,loop:v,count:c,style:E})),A=null),M=R,$=k));return A!==null&&w.push(aT({start:A,end:_,loop:v,count:c,style:E})),w}function B3(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=z3(i[r],n.points,t);o.length&&e.push(...o)}return e}function F3(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function H3(n,t,e,i){const r=n.length,o=[];let c=t,u=n[t],f;for(f=t+1;f<=e;++f){const d=n[f%r];d.skip||d.stop?u.skip||(i=!1,o.push({start:t%r,end:(f-1)%r,loop:i}),t=c=d.stop?f:null):(c=f,u.skip&&(t=f)),u=d}return c!==null&&o.push({start:t%r,end:c%r,loop:i}),o}function q3(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:c,end:u}=F3(e,r,o,i);if(i===!0)return oT(n,[{start:c,end:u,loop:o}],e,t);const f=u<c?u+r:u,d=!!n._fullLoop&&c===0&&u===r-1;return oT(n,H3(e,c,f,d),e,t)}function oT(n,t,e,i){return!i||!i.setContext||!e?t:$3(n,t,e,i)}function $3(n,t,e,i){const r=n._chart.getContext(),o=lT(n.options),{_datasetIndex:c,options:{spanGaps:u}}=n,f=e.length,d=[];let m=o,_=t[0].start,v=_;function E(w,C,A,k){const q=u?-1:1;if(w!==C){for(w+=f;e[w%f].skip;)w-=q;for(;e[C%f].skip;)C+=q;w%f!==C%f&&(d.push({start:w%f,end:C%f,loop:A,style:k}),m=k,_=C%f)}}for(const w of t){_=u?_:w.start;let C=e[_%f],A;for(v=_+1;v<=w.end;v++){const k=e[v%f];A=lT(i.setContext(lo(r,{type:"segment",p0:C,p1:k,p0DataIndex:(v-1)%f,p1DataIndex:v%f,datasetIndex:c}))),G3(A,m)&&E(_,v-1,w.loop,m),C=k,m=A}_<v-1&&E(_,v-1,w.loop,m)}return d}function lT(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function G3(n,t){if(!t)return!1;const e=[],i=function(r,o){return m0(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Gf(n,t,e){return n.options.clip?n[e]:t[e]}function Y3(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Gf(e,t,"left"),right:Gf(e,t,"right"),top:Gf(i,t,"top"),bottom:Gf(i,t,"bottom")}:t}function W3(n,t){const e=t._clip;if(e.disabled)return!1;const i=Y3(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class K3{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=CR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,u=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(o[c]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Os=new K3;const cT="transparent",Q3={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Z1(n||cT),r=i.valid&&Z1(t||cT);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class X3{constructor(t,e,i,r){const o=e[i];r=Hf([t.to,r,o,t.from]);const c=Hf([t.from,o,r]);this._active=!0,this._fn=t.fn||Q3[t.type||typeof c],this._easing=xu[t.easing]||xu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Hf([t.to,e,r,t.from]),this._from=Hf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,u=this._to;let f;if(this._active=o!==u&&(c||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[r]=this._fn(o,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class HR{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!$t(t))return;const e=Object.keys(Ae.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!$t(o))return;const c={};for(const u of e)c[u]=o[u];(Ue(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,c)})})}_animateOptions(t,e){const i=e.options,r=J3(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&Z3(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),u=Date.now();let f;for(f=c.length-1;f>=0;--f){const d=c[f];if(d.charAt(0)==="$")continue;if(d==="options"){r.push(...this._animateOptions(t,e));continue}const m=e[d];let _=o[d];const v=i.get(d);if(_)if(v&&_.active()){_.update(v,m,u);continue}else _.cancel();if(!v||!v.duration){t[d]=m;continue}o[d]=_=new X3(v,t,d,m),r.push(_)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Os.add(this._chart,i),!0}}function Z3(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function J3(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function uT(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function t5(n,t,e){if(e===!1)return!1;const i=uT(n,e),r=uT(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function e5(n){let t,e,i,r;return $t(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function qR(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function hT(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,u,f,d;if(t===null)return;let m=!1;for(c=0,u=r.length;c<u;++c){if(f=+r[c],f===e){if(m=!0,i.all)continue;break}d=n.values[f],di(d)&&(o||t===0||is(t)===is(d))&&(t+=d)}return!m&&!i.all?0:t}function n5(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),u=new Array(c.length);let f,d,m;for(f=0,d=c.length;f<d;++f)m=c[f],u[f]={[r]:m,[o]:n[m]};return u}function sy(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function i5(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function s5(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function r5(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function fT(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function dT(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:u}=i,f=o.axis,d=c.axis,m=i5(o,c,i),_=t.length;let v;for(let E=0;E<_;++E){const w=t[E],{[f]:C,[d]:A}=w,k=w._stacks||(w._stacks={});v=k[d]=r5(r,m,C),v[u]=A,v._top=fT(v,c,!0,i.type),v._bottom=fT(v,c,!1,i.type);const q=v._visualValues||(v._visualValues={});q[u]=A}}function ry(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function a5(n,t){return lo(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function o5(n,t,e){return lo(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Jc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const ay=n=>n==="reset"||n==="none",pT=(n,t)=>t?n:Object.assign({},n),l5=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:qR(e,!0),values:null};class S0{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=sy(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Jc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(_,v,E,w)=>_==="x"?v:_==="r"?w:E,o=e.xAxisID=Nt(i.xAxisID,ry(t,"x")),c=e.yAxisID=Nt(i.yAxisID,ry(t,"y")),u=e.rAxisID=Nt(i.rAxisID,ry(t,"r")),f=e.indexAxis,d=e.iAxisID=r(f,o,c,u),m=e.vAxisID=r(f,c,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&K1(this._data,this),t._stacked&&Jc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if($t(e)){const r=this._cachedMeta;this._data=n5(e,r)}else if(i!==e){if(i){K1(i,this);const r=this._cachedMeta;Jc(r),r._parsed=[]}e&&Object.isExtensible(e)&&BL(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=sy(e.vScale,e),e.stack!==i.stack&&(r=!0,Jc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(dT(this,e._parsed),e._stacked=sy(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,u=o.axis;let f=t===0&&e===r.length?!0:i._sorted,d=t>0&&i._parsed[t-1],m,_,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{Ue(r[t])?v=this.parseArrayData(i,r,t,e):$t(r[t])?v=this.parseObjectData(i,r,t,e):v=this.parsePrimitiveData(i,r,t,e);const E=()=>_[u]===null||d&&_[u]<d[u];for(m=0;m<e;++m)i._parsed[m+t]=_=v[m],f&&(E()&&(f=!1),d=_);i._sorted=f}c&&dT(this,v)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,u=o.axis,f=c.axis,d=o.getLabels(),m=o===c,_=new Array(r);let v,E,w;for(v=0,E=r;v<E;++v)w=v+i,_[v]={[u]:m||o.parse(d[w],w),[f]:c.parse(e[w],w)};return _}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,u=new Array(r);let f,d,m,_;for(f=0,d=r;f<d;++f)m=f+i,_=e[m],u[f]={x:o.parse(_[0],m),y:c.parse(_[1],m)};return u}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=new Array(r);let m,_,v,E;for(m=0,_=r;m<_;++m)v=m+i,E=e[v],d[m]={x:o.parse(Sl(E,u),v),y:c.parse(Sl(E,f),v)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],u={keys:qR(r,!0),values:e._stacks[t.axis]._visualValues};return hT(u,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,c=hT(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,u=this._getOtherScale(t),f=l5(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:_}=s5(u);let v,E;function w(){E=r[v];const C=E[u.axis];return!di(E[t.axis])||m>C||_<C}for(v=0;v<c&&!(!w()&&(this.updateRangeFromParsed(d,t,E,f),o));++v);if(o){for(v=c-1;v>=0;--v)if(!w()){this.updateRangeFromParsed(d,t,E,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],di(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=e5(Nt(this.options.clip,t5(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],u=this._drawStart||0,f=this._drawCount||r.length-u,d=this.options.drawActiveElementsOnTop;let m;for(i.dataset&&i.dataset.draw(t,o,u,f),m=u;m<u+f;++m){const _=r[m];_.hidden||(_.active&&d?c.push(_):_.draw(t,o))}for(m=0;m<c.length;++m)c[m].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=o5(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=a5(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,u=o[c],f=this.enableOptionSharing&&ju(i);if(u)return pT(u,f);const d=this.chart.config,m=d.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],v=d.getOptionScopes(this.getDataset(),m),E=Object.keys(Ae.elements[t]),w=()=>this.getContext(i,r,e),C=d.resolveNamedOptions(v,E,w,_);return C.$shared&&(C.$shared=f,o[c]=Object.freeze(pT(C,f))),C}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,u=o[c];if(u)return u;let f;if(r.options.animation!==!1){const m=this.chart.config,_=m.datasetAnimationScopeKeys(this._type,e),v=m.getOptionScopes(this.getDataset(),_);f=m.createResolver(v,this.getContext(t,i,e))}const d=new HR(r,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ay(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){ay(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!ay(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,f,d]of this._syncList)this[u](f,d);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let u;const f=d=>{for(d.length+=e,u=d.length-1;u>=c;u--)d[u]=d[u-e]};for(f(o),u=t;u<c;++u)o[u]=new this.dataElementType;this._parsing&&f(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Jc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function c5(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=RR(i.sort((r,o)=>r-o))}return n._cache.$bar}function u5(n){const t=n.iScale,e=c5(t,n.type);let i=t._length,r,o,c,u;const f=()=>{c===32767||c===-32768||(ju(u)&&(i=Math.min(i,Math.abs(c-u)||i)),u=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),f();for(u=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),f();return i}function h5(n,t,e,i){const r=e.barThickness;let o,c;return Wt(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function f5(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-c);const d=o-(o-Math.min(c,u))/2*f;return{chunk:Math.abs(u-c)/2*f/i,ratio:e.barPercentage,start:d}}function d5(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),u=Math.max(r,o);let f=c,d=u;Math.abs(c)>Math.abs(u)&&(f=u,d=c),t[e.axis]=d,t._custom={barStart:f,barEnd:d,start:r,end:o,min:c,max:u}}function $R(n,t,e,i){return Ue(n)?d5(n,t,e,i):t[e.axis]=e.parse(n,i),t}function gT(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),u=r===o,f=[];let d,m,_,v;for(d=e,m=e+i;d<m;++d)v=t[d],_={},_[r.axis]=u||r.parse(c[d],d),f.push($R(v,_,o,d));return f}function oy(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function p5(n,t,e){return n!==0?is(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function g5(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function m5(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:u,reverse:f,top:d,bottom:m}=g5(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=d:(e._bottom||0)===i?r=m:(o[mT(m,c,u,f)]=!0,r=d)),o[mT(r,c,u,f)]=!0,n.borderSkipped=o}function mT(n,t,e,i){return i?(n=y5(n,t,e),n=yT(n,e,t)):n=yT(n,t,e),n}function y5(n,t,e){return n===t?e:n===e?t:n}function yT(n,t,e){return n==="start"?t:n==="end"?e:n}function _5(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class v5 extends S0{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return gT(t,e,i,r)}parseArrayData(t,e,i,r){return gT(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?u:f,m=c.axis==="x"?u:f,_=[];let v,E,w,C;for(v=i,E=i+r;v<E;++v)C=e[v],w={},w[o.axis]=o.parse(Sl(C,d),v),_.push($R(Sl(C,m),w,c,v));return _}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,u=oy(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),d=u.isHorizontal(),m=this._getRuler(),{sharedOptions:_,includeOptions:v}=this._getSharedOptions(e,r);for(let E=e;E<e+i;E++){const w=this.getParsed(E),C=o||Wt(w[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(E),A=this._calculateBarIndexPixels(E,m),k=(w._stacks||{})[u.axis],q={horizontal:d,base:C.base,enableBorderRadius:!k||oy(w._custom)||c===k._top||c===k._bottom,x:d?C.head:A.center,y:d?A.center:C.head,height:d?A.size:Math.abs(C.size),width:d?Math.abs(C.size):A.size};v&&(q.options=_||this.resolveDataElementOptions(E,t[E].active?"active":r));const $=q.options||t[E].options;m5(q,$,k,c),_5(q,$,m.ratio),this.updateElement(t[E],E,q,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),o=i.options.stacked,c=[],u=this._cachedMeta.controller.getParsed(e),f=u&&u[i.axis],d=m=>{const _=m._parsed.find(E=>E[i.axis]===f),v=_&&_[m.vScale.axis];if(Wt(v)||isNaN(v))return!0};for(const m of r)if(!(e!==void 0&&d(m))&&((o===!1||c.indexOf(m.stack)===-1||o===void 0&&m.stack===void 0)&&c.push(m.stack),m.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Nt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||u5(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,u=o||0,f=this.getParsed(t),d=f._custom,m=oy(d);let _=f[e.axis],v=0,E=i?this.applyStack(e,f,i):_,w,C;E!==_&&(v=E-_,E=_),m&&(_=d.barStart,E=d.barEnd-d.barStart,_!==0&&is(_)!==is(d.barEnd)&&(v=0),v+=_);const A=!Wt(o)&&!m?o:v;let k=e.getPixelForValue(A);if(this.chart.getDataVisibility(t)?w=e.getPixelForValue(v+E):w=k,C=w-k,Math.abs(C)<c){C=p5(C,e,u)*c,_===u&&(k-=C/2);const q=e.getPixelForDecimal(0),$=e.getPixelForDecimal(1),tt=Math.min(q,$),L=Math.max(q,$);k=Math.max(Math.min(k,L),tt),w=k+C,i&&!m&&(f._stacks[e.axis]._visualValues[r]=e.getValueForPixel(w)-e.getValueForPixel(k))}if(k===e.getPixelForValue(u)){const q=is(C)*e.getLineWidthForValue(u)/2;k+=q,C-=q}return{size:C,base:k,head:w,center:w+C/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=Nt(r.maxBarThickness,1/0);let u,f;const d=this._getAxisCount();if(e.grouped){const m=o?this._getStackCount(t):e.stackCount,_=r.barThickness==="flex"?f5(t,e,r,m*d):h5(t,e,r,m*d),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,E=this._getAxis().indexOf(Nt(v,this.getFirstScaleIdForIndexAxis())),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+E;u=_.start+_.chunk*w+_.chunk/2,f=Math.min(c,_.chunk*_.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}class b5 extends S0{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:u,count:f}=qL(e,r,c);this._drawStart=u,this._drawCount=f,$L(e)&&(u=0,f=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:d},t),this.updateElements(r,u,f,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:u,_stacked:f,_dataset:d}=this._cachedMeta,{sharedOptions:m,includeOptions:_}=this._getSharedOptions(e,r),v=c.axis,E=u.axis,{spanGaps:w,segment:C}=this.options,A=Uu(w)?w:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||o||r==="none",q=e+i,$=t.length;let tt=e>0&&this.getParsed(e-1);for(let L=0;L<$;++L){const Q=t[L],O=k?Q:{};if(L<e||L>=q){O.skip=!0;continue}const R=this.getParsed(L),M=Wt(R[E]),N=O[v]=c.getPixelForValue(R[v],L),P=O[E]=o||M?u.getBasePixel():u.getPixelForValue(f?this.applyStack(u,R,f):R[E],L);O.skip=isNaN(N)||isNaN(P)||M,O.stop=L>0&&Math.abs(R[v]-tt[v])>A,C&&(O.parsed=R,O.raw=d.data[L]),_&&(O.options=m||this.resolveDataElementOptions(L,Q.active?"active":r)),k||this.updateElement(Q,L,O,r),tt=R}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function ja(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class w0{static override(t){Object.assign(w0.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return ja()}parse(){return ja()}format(){return ja()}add(){return ja()}diff(){return ja()}startOf(){return ja()}endOf(){return ja()}}var E5={_date:w0};function x5(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,u=r._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&c&&o.length){const d=u._reversePixels?UL:Ga;if(i){if(r._sharedOptions){const m=o[0],_=typeof m.getRange=="function"&&m.getRange(t);if(_){const v=d(o,t,e-_),E=d(o,t,e+_);return{lo:v.lo,hi:E.hi}}}}else{const m=d(o,t,e);if(f){const{vScale:_}=r._cachedMeta,{_parsed:v}=n,E=v.slice(0,m.lo+1).reverse().findIndex(C=>!Wt(C[_.axis]));m.lo-=Math.max(0,E);const w=v.slice(m.hi).findIndex(C=>!Wt(C[_.axis]));m.hi+=Math.max(0,w)}return m}}return{lo:0,hi:o.length-1}}function Ap(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let u=0,f=o.length;u<f;++u){const{index:d,data:m}=o[u],{lo:_,hi:v}=x5(o[u],t,c,r);for(let E=_;E<=v;++E){const w=m[E];w.skip||i(w,d,E)}}}function T5(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function ly(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Ap(n,e,t,function(u,f,d){!r&&!zu(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:f,index:d})},!0),o}function S5(n,t,e,i){let r=[];function o(c,u,f){const{startAngle:d,endAngle:m}=c.getProps(["startAngle","endAngle"],i),{angle:_}=VL(c,{x:t.x,y:t.y});wR(_,d,m)&&r.push({element:c,datasetIndex:u,index:f})}return Ap(n,e,t,o),r}function w5(n,t,e,i,r,o){let c=[];const u=T5(e);let f=Number.POSITIVE_INFINITY;function d(m,_,v){const E=m.inRange(t.x,t.y,r);if(i&&!E)return;const w=m.getCenterPoint(r);if(!(!!o||n.isPointInArea(w))&&!E)return;const A=u(t,w);A<f?(c=[{element:m,datasetIndex:_,index:v}],f=A):A===f&&c.push({element:m,datasetIndex:_,index:v})}return Ap(n,e,t,d),c}function cy(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?S5(n,t,e,r):w5(n,t,e,i,r,o)}function _T(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let u=!1;return Ap(n,e,t,(f,d,m)=>{f[c]&&f[c](t[e],r)&&(o.push({element:f,datasetIndex:d,index:m}),u=u||f.inRange(t.x,t.y,r))}),i&&!u?[]:o}var A5={modes:{index(n,t,e,i){const r=Ba(t,n),o=e.axis||"x",c=e.includeInvisible||!1,u=e.intersect?ly(n,r,o,i,c):cy(n,r,o,!1,i,c),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const m=u[0].index,_=d.data[m];_&&!_.skip&&f.push({element:_,datasetIndex:d.index,index:m})}),f):[]},dataset(n,t,e,i){const r=Ba(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let u=e.intersect?ly(n,r,o,i,c):cy(n,r,o,!1,i,c);if(u.length>0){const f=u[0].datasetIndex,d=n.getDatasetMeta(f).data;u=[];for(let m=0;m<d.length;++m)u.push({element:d[m],datasetIndex:f,index:m})}return u},point(n,t,e,i){const r=Ba(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return ly(n,r,o,i,c)},nearest(n,t,e,i){const r=Ba(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return cy(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=Ba(t,n);return _T(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=Ba(t,n);return _T(n,r,"y",e.intersect,i)}}};const GR=["left","top","right","bottom"];function tu(n,t){return n.filter(e=>e.pos===t)}function vT(n,t){return n.filter(e=>GR.indexOf(e.pos)===-1&&e.box.axis===t)}function eu(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function R5(n){const t=[];let e,i,r,o,c,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:u});return t}function C5(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!GR.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function I5(n,t){const e=C5(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,u;for(o=0,c=n.length;o<c;++o){u=n[o];const{fullSize:f}=u.box,d=e[u.stack],m=d&&u.stackWeight/d.weight;u.horizontal?(u.width=m?m*i:f&&t.availableWidth,u.height=r):(u.width=i,u.height=m?m*r:f&&t.availableHeight)}return e}function D5(n){const t=R5(n),e=eu(t.filter(d=>d.box.fullSize),!0),i=eu(tu(t,"left"),!0),r=eu(tu(t,"right")),o=eu(tu(t,"top"),!0),c=eu(tu(t,"bottom")),u=vT(t,"x"),f=vT(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(f).concat(c).concat(u),chartArea:tu(t,"chartArea"),vertical:i.concat(r).concat(f),horizontal:o.concat(c).concat(u)}}function bT(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function YR(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function M5(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!$t(r)){e.size&&(n[r]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[r]+=e.size}o.getPadding&&YR(c,o.getPadding());const u=Math.max(0,t.outerWidth-bT(c,n,"left","right")),f=Math.max(0,t.outerHeight-bT(c,n,"top","bottom")),d=u!==n.w,m=f!==n.h;return n.w=u,n.h=f,e.horizontal?{same:d,other:m}:{same:m,other:d}}function O5(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function k5(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function fu(n,t,e,i){const r=[];let o,c,u,f,d,m;for(o=0,c=n.length,d=0;o<c;++o){u=n[o],f=u.box,f.update(u.width||t.w,u.height||t.h,k5(u.horizontal,t));const{same:_,other:v}=M5(t,e,u,i);d|=_&&r.length,m=m||v,f.fullSize||r.push(u)}return d&&fu(r,t,e,i)||m}function Yf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function ET(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const u of n){const f=u.box,d=i[u.stack]||{placed:0,weight:1},m=u.stackWeight/d.weight||1;if(u.horizontal){const _=t.w*m,v=d.size||f.height;ju(d.start)&&(c=d.start),f.fullSize?Yf(f,r.left,c,e.outerWidth-r.right-r.left,v):Yf(f,t.left+d.placed,c,_,v),d.start=c,d.placed+=_,c=f.bottom}else{const _=t.h*m,v=d.size||f.width;ju(d.start)&&(o=d.start),f.fullSize?Yf(f,o,r.top,v,e.outerHeight-r.bottom-r.top):Yf(f,o,t.top+d.placed,v,_),d.start=o,d.placed+=_,o=f.right}}t.x=o,t.y=c}var ui={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=pi(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),u=D5(n.boxes),f=u.vertical,d=u.horizontal;Jt(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const m=f.reduce((C,A)=>A.box.options&&A.box.options.display===!1?C:C+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/m,hBoxMaxHeight:c/2}),v=Object.assign({},r);YR(v,pi(i));const E=Object.assign({maxPadding:v,w:o,h:c,x:r.left,y:r.top},r),w=I5(f.concat(d),_);fu(u.fullSize,E,_,w),fu(f,E,_,w),fu(d,E,_,w)&&fu(f,E,_,w),O5(E),ET(u.leftAndTop,E,_,w),E.x+=E.w,E.y+=E.h,ET(u.rightAndBottom,E,_,w),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},Jt(u.chartArea,C=>{const A=C.box;Object.assign(A,n.chartArea),A.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class WR{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class P5 extends WR{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const fd="$chartjs",N5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xT=n=>n===null||n==="";function V5(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[fd]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",xT(r)){const o=rT(n,"width");o!==void 0&&(n.width=o)}if(xT(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=rT(n,"height");o!==void 0&&(n.height=o)}return n}const KR=P3?{passive:!0}:!1;function L5(n,t,e){n&&n.addEventListener(t,e,KR)}function j5(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,KR)}function U5(n,t){const e=N5[n.type]||n.type,{x:i,y:r}=Ba(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Wd(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function z5(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Wd(u.addedNodes,i),c=c&&!Wd(u.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function B5(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const u of o)c=c||Wd(u.removedNodes,i),c=c&&!Wd(u.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Fu=new Map;let TT=0;function QR(){const n=window.devicePixelRatio;n!==TT&&(TT=n,Fu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function F5(n,t){Fu.size||window.addEventListener("resize",QR),Fu.set(n,t)}function H5(n){Fu.delete(n),Fu.size||window.removeEventListener("resize",QR)}function q5(n,t,e){const i=n.canvas,r=i&&T0(i);if(!r)return;const o=IR((u,f)=>{const d=r.clientWidth;e(u,f),d<r.clientWidth&&e()},window),c=new ResizeObserver(u=>{const f=u[0],d=f.contentRect.width,m=f.contentRect.height;d===0&&m===0||o(d,m)});return c.observe(r),F5(n,o),c}function uy(n,t,e){e&&e.disconnect(),t==="resize"&&H5(n)}function $5(n,t,e){const i=n.canvas,r=IR(o=>{n.ctx!==null&&e(U5(o,n))},n);return L5(i,t,r),r}class G5 extends WR{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(V5(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[fd])return!1;const i=e[fd].initial;["height","width"].forEach(o=>{const c=i[o];Wt(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[fd],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:z5,detach:B5,resize:q5}[e]||$5;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:uy,detach:uy,resize:uy}[e]||j5)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return k3(t,e,i,r)}isAttached(t){const e=t&&T0(t);return!!(e&&e.isConnected)}}function Y5(n){return!x0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?P5:G5}class ta{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Uu(this.x)&&Uu(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function W5(n,t){const e=n.options.ticks,i=K5(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?X5(t):[],c=o.length,u=o[0],f=o[c-1],d=[];if(c>r)return Z5(t,d,o,c/r),d;const m=Q5(o,t,r);if(c>0){let _,v;const E=c>1?Math.round((f-u)/(c-1)):null;for(Wf(t,d,m,Wt(E)?0:u-E,u),_=0,v=c-1;_<v;_++)Wf(t,d,m,o[_],o[_+1]);return Wf(t,d,m,f,Wt(E)?t.length:f+E),d}return Wf(t,d,m),d}function K5(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function Q5(n,t,e){const i=J5(n),r=t.length/e;if(!i)return Math.max(r,1);const o=ML(i);for(let c=0,u=o.length-1;c<u;c++){const f=o[c];if(f>r)return f}return Math.max(r,1)}function X5(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function Z5(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function Wf(n,t,e,i,r){const o=Nt(i,0),c=Math.min(Nt(r,n.length),n.length);let u=0,f,d,m;for(e=Math.ceil(e),r&&(f=r-i,e=f/Math.floor(f/e)),m=o;m<0;)u++,m=Math.round(o+u*e);for(d=Math.max(o,0);d<c;d++)d===m&&(t.push(n[d]),u++,m=Math.round(o+u*e))}function J5(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const t9=n=>n==="left"?"right":n==="right"?"left":n,ST=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,wT=(n,t)=>Math.min(t||n,n);function AT(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function e9(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,u=1e-6;let f=n.getPixelForTick(r),d;if(!(e&&(i===1?d=Math.max(f-o,c-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(r-1))/2,f+=r<t?d:-d,f<o-u||f>c+u)))return f}function n9(n,t){Jt(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function nu(n){return n.drawTicks?n.tickLength:0}function RT(n,t){if(!n.display)return 0;const e=pn(n.font,t),i=pi(n.padding);return(Ue(n.text)?n.text.length:1)*e.lineHeight+i.height}function i9(n,t){return lo(n,{scale:t,type:"scale"})}function s9(n,t,e){return lo(n,{tick:e,index:t,type:"tick"})}function r9(n,t,e){let i=g0(n);return(e&&t!=="right"||!e&&t==="right")&&(i=t9(i)),i}function a9(n,t,e,i){const{top:r,left:o,bottom:c,right:u,chart:f}=n,{chartArea:d,scales:m}=f;let _=0,v,E,w;const C=c-r,A=u-o;if(n.isHorizontal()){if(E=hn(i,o,u),$t(e)){const k=Object.keys(e)[0],q=e[k];w=m[k].getPixelForValue(q)+C-t}else e==="center"?w=(d.bottom+d.top)/2+C-t:w=ST(n,e,t);v=u-o}else{if($t(e)){const k=Object.keys(e)[0],q=e[k];E=m[k].getPixelForValue(q)-A+t}else e==="center"?E=(d.left+d.right)/2-A+t:E=ST(n,e,t);w=hn(i,c,r),_=e==="left"?-Ti:Ti}return{titleX:E,titleY:w,maxWidth:v,rotation:_}}class Bl extends ta{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=$i(t,Number.POSITIVE_INFINITY),e=$i(e,Number.NEGATIVE_INFINITY),i=$i(i,Number.POSITIVE_INFINITY),r=$i(r,Number.NEGATIVE_INFINITY),{min:$i(t,i),max:$i(e,r),minDefined:di(t),maxDefined:di(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,d=u.length;f<d;++f)c=u[f].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:$i(e,$i(i,e)),max:$i(i,$i(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ce(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,u=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=h3(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?AT(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=W5(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ce(this.options.afterUpdate,[this])}beforeSetDimensions(){ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ce(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ce(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ce(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=wT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,u,f,d;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const m=this._getLabelSizes(),_=m.widest.width,v=m.highest.height,E=Fn(this.chart.width-_,0,this.maxWidth);u=t.offset?this.maxWidth/i:E/(i-1),_+6>u&&(u=E/(i-(t.offset?.5:1)),f=this.maxHeight-nu(t.grid)-e.padding-RT(t.title,this.chart.options.font),d=Math.sqrt(_*_+v*v),c=NL(Math.min(Math.asin(Fn((m.highest.height+6)/u,-1,1)),Math.asin(Fn(f/d,-1,1))-Math.asin(Fn(v/d,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ce(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),u=this.isHorizontal();if(c){const f=RT(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=nu(o)+f):(t.height=this.maxHeight,t.width=nu(o)+f),i.display&&this.ticks.length){const{first:d,last:m,widest:_,highest:v}=this._getLabelSizes(),E=i.padding*2,w=qa(this.labelRotation),C=Math.cos(w),A=Math.sin(w);if(u){const k=i.mirror?0:A*_.width+C*v.height;t.height=Math.min(this.maxHeight,t.height+k+E)}else{const k=i.mirror?0:C*_.width+A*v.height;t.width=Math.min(this.maxWidth,t.width+k+E)}this._calculatePadding(d,m,A,C)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:u}=this.options,f=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,E=0;f?d?(v=r*t.width,E=i*e.height):(v=i*t.height,E=r*e.width):o==="start"?E=e.width:o==="end"?v=t.width:o!=="inner"&&(v=t.width/2,E=e.width/2),this.paddingLeft=Math.max((v-m+c)*this.width/(this.width-m),0),this.paddingRight=Math.max((E-_+c)*this.width/(this.width-_),0)}else{let m=e.height/2,_=t.height/2;o==="start"?(m=0,_=t.height):o==="end"&&(m=e.height,_=0),this.paddingTop=m+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ce(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Wt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=AT(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],u=[],f=Math.floor(e/wT(e,i));let d=0,m=0,_,v,E,w,C,A,k,q,$,tt,L;for(_=0;_<e;_+=f){if(w=t[_].label,C=this._resolveTickFontOptions(_),r.font=A=C.string,k=o[A]=o[A]||{data:{},gc:[]},q=C.lineHeight,$=tt=0,!Wt(w)&&!Ue(w))$=tT(r,k.data,k.gc,$,w),tt=q;else if(Ue(w))for(v=0,E=w.length;v<E;++v)L=w[v],!Wt(L)&&!Ue(L)&&($=tT(r,k.data,k.gc,$,L),tt+=q);c.push($),u.push(tt),d=Math.max($,d),m=Math.max(tt,m)}n9(o,e);const Q=c.indexOf(d),O=u.indexOf(m),R=M=>({width:c[M]||0,height:u[M]||0});return{first:R(0),last:R(e-1),widest:R(Q),highest:R(O),widths:c,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return jL(this._alignToPixels?La(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=s9(this.getContext(),t,i))}return this.$context||(this.$context=i9(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=qa(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,u=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>u*r?u/i:f/r:f*r<u*i?f/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:u}=r,f=o.offset,d=this.isHorizontal(),_=this.ticks.length+(f?1:0),v=nu(o),E=[],w=u.setContext(this.getContext()),C=w.display?w.width:0,A=C/2,k=function(B){return La(i,B,C)};let q,$,tt,L,Q,O,R,M,N,P,z,j;if(c==="top")q=k(this.bottom),O=this.bottom-v,M=q-A,P=k(t.top)+A,j=t.bottom;else if(c==="bottom")q=k(this.top),P=t.top,j=k(t.bottom)-A,O=q+A,M=this.top+v;else if(c==="left")q=k(this.right),Q=this.right-v,R=q-A,N=k(t.left)+A,z=t.right;else if(c==="right")q=k(this.left),N=t.left,z=k(t.right)-A,Q=q+A,R=this.left+v;else if(e==="x"){if(c==="center")q=k((t.top+t.bottom)/2+.5);else if($t(c)){const B=Object.keys(c)[0],J=c[B];q=k(this.chart.scales[B].getPixelForValue(J))}P=t.top,j=t.bottom,O=q+A,M=O+v}else if(e==="y"){if(c==="center")q=k((t.left+t.right)/2);else if($t(c)){const B=Object.keys(c)[0],J=c[B];q=k(this.chart.scales[B].getPixelForValue(J))}Q=q-A,R=Q-v,N=t.left,z=t.right}const ft=Nt(r.ticks.maxTicksLimit,_),ut=Math.max(1,Math.ceil(_/ft));for($=0;$<_;$+=ut){const B=this.getContext($),J=o.setContext(B),it=u.setContext(B),pt=J.lineWidth,V=J.color,nt=it.dash||[],ht=it.dashOffset,ot=J.tickWidth,gt=J.tickColor,bt=J.tickBorderDash||[],vt=J.tickBorderDashOffset;tt=e9(this,$,f),tt!==void 0&&(L=La(i,tt,pt),d?Q=R=N=z=L:O=M=P=j=L,E.push({tx1:Q,ty1:O,tx2:R,ty2:M,x1:N,y1:P,x2:z,y2:j,width:pt,color:V,borderDash:nt,borderDashOffset:ht,tickWidth:ot,tickColor:gt,tickBorderDash:bt,tickBorderDashOffset:vt}))}return this._ticksLength=_,this._borderValue=q,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:d,padding:m,mirror:_}=o,v=nu(i.grid),E=v+m,w=_?-m:E,C=-qa(this.labelRotation),A=[];let k,q,$,tt,L,Q,O,R,M,N,P,z,j="middle";if(r==="top")Q=this.bottom-w,O=this._getXAxisLabelAlignment();else if(r==="bottom")Q=this.top+w,O=this._getXAxisLabelAlignment();else if(r==="left"){const ut=this._getYAxisLabelAlignment(v);O=ut.textAlign,L=ut.x}else if(r==="right"){const ut=this._getYAxisLabelAlignment(v);O=ut.textAlign,L=ut.x}else if(e==="x"){if(r==="center")Q=(t.top+t.bottom)/2+E;else if($t(r)){const ut=Object.keys(r)[0],B=r[ut];Q=this.chart.scales[ut].getPixelForValue(B)+E}O=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")L=(t.left+t.right)/2-E;else if($t(r)){const ut=Object.keys(r)[0],B=r[ut];L=this.chart.scales[ut].getPixelForValue(B)}O=this._getYAxisLabelAlignment(v).textAlign}e==="y"&&(f==="start"?j="top":f==="end"&&(j="bottom"));const ft=this._getLabelSizes();for(k=0,q=u.length;k<q;++k){$=u[k],tt=$.label;const ut=o.setContext(this.getContext(k));R=this.getPixelForTick(k)+o.labelOffset,M=this._resolveTickFontOptions(k),N=M.lineHeight,P=Ue(tt)?tt.length:1;const B=P/2,J=ut.color,it=ut.textStrokeColor,pt=ut.textStrokeWidth;let V=O;c?(L=R,O==="inner"&&(k===q-1?V=this.options.reverse?"left":"right":k===0?V=this.options.reverse?"right":"left":V="center"),r==="top"?d==="near"||C!==0?z=-P*N+N/2:d==="center"?z=-ft.highest.height/2-B*N+N:z=-ft.highest.height+N/2:d==="near"||C!==0?z=N/2:d==="center"?z=ft.highest.height/2-B*N:z=ft.highest.height-P*N,_&&(z*=-1),C!==0&&!ut.showLabelBackdrop&&(L+=N/2*Math.sin(C))):(Q=R,z=(1-P)*N/2);let nt;if(ut.showLabelBackdrop){const ht=pi(ut.backdropPadding),ot=ft.heights[k],gt=ft.widths[k];let bt=z-ht.top,vt=0-ht.left;switch(j){case"middle":bt-=ot/2;break;case"bottom":bt-=ot;break}switch(O){case"center":vt-=gt/2;break;case"right":vt-=gt;break;case"inner":k===q-1?vt-=gt:k>0&&(vt-=gt/2);break}nt={left:vt,top:bt,width:gt+ht.width,height:ot+ht.height,color:ut.backdropColor}}A.push({label:tt,font:M,textOffset:z,options:{rotation:C,color:J,strokeColor:it,strokeWidth:pt,textAlign:V,textBaseline:j,translation:[L,Q],backdrop:nt}})}return A}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-qa(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),u=t+o,f=c.widest.width;let d,m;return e==="left"?r?(m=this.right+o,i==="near"?d="left":i==="center"?(d="center",m+=f/2):(d="right",m+=f)):(m=this.right-u,i==="near"?d="right":i==="center"?(d="center",m-=f/2):(d="left",m=this.left)):e==="right"?r?(m=this.left+o,i==="near"?d="right":i==="center"?(d="center",m-=f/2):(d="left",m-=f)):(m=this.left+u,i==="near"?d="left":i==="center"?(d="center",m+=f/2):(d="right",m=this.right)):d="right",{textAlign:d,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const u=(f,d,m)=>{!m.width||!m.color||(i.save(),i.lineWidth=m.width,i.strokeStyle=m.color,i.setLineDash(m.borderDash||[]),i.lineDashOffset=m.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const f=r[o];e.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const u=r.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,m,_,v;this.isHorizontal()?(d=La(t,this.left,c)-c/2,m=La(t,this.right,u)+u/2,_=v=f):(_=La(t,this.top,c)-c/2,v=La(t,this.bottom,u)+u/2,d=m=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,_),e.lineTo(m,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&y0(i,r);const o=this.getLabelItems(t);for(const c of o){const u=c.options,f=c.font,d=c.label,m=c.textOffset;Bu(i,d,0,m,f,u)}r&&_0(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=pn(i.font),c=pi(i.padding),u=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||$t(e)?(f+=c.bottom,Ue(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:d,titleY:m,maxWidth:_,rotation:v}=a9(this,f,e,u);Bu(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:v,textAlign:r9(u,e,r),textBaseline:"middle",translation:[d,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Nt(t.grid&&t.grid.z,-1),r=Nt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Bl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return pn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Kf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;c9(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,o9(t,c,i),this.override&&Ae.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ae[r]&&(delete Ae[r][i],this.override&&delete no[i])}}function o9(n,t,e){const i=Lu(Object.create(null),[e?Ae.get(e):{},Ae.get(t),n.defaults]);Ae.set(t,i),n.defaultRoutes&&l9(t,n.defaultRoutes),n.descriptors&&Ae.describe(t,n.descriptors)}function l9(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),u=c.pop(),f=c.join(".");Ae.route(o,r,f,u)})}function c9(n){return"id"in n&&"defaults"in n}class u9{constructor(){this.controllers=new Kf(S0,"datasets",!0),this.elements=new Kf(ta,"elements"),this.plugins=new Kf(Object,"plugins"),this.scales=new Kf(Bl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Jt(r,c=>{const u=i||this._getRegistryForType(c);this._exec(t,u,c)})})}_exec(t,e,i){const r=d0(t);ce(i["before"+r],[],i),e[t](i),ce(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var Yi=new u9;class h9{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,u=c[i],f=[e,r,o.options];if(ce(u,f,c)===!1&&r.cancelable)return!1}return!0}invalidate(){Wt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Nt(i.options&&i.options.plugins,{}),o=f9(i);return r===!1&&!e?[]:p9(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(u=>!c.some(f=>u.plugin.id===f.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function f9(n){const t={},e=[],i=Object.keys(Yi.plugins.items);for(let o=0;o<i.length;o++)e.push(Yi.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function d9(n,t){return!t&&n===!1?null:n===!0?{}:n}function p9(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const u of t){const f=u.id,d=d9(i[f],r);d!==null&&o.push({plugin:u,options:g9(n.config,{plugin:u,local:e[f]},d,c)})}return o}function g9(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function t_(n,t){const e=Ae.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function m9(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function y9(n,t){return n===t?"_index_":"_value_"}function CT(n){if(n==="x"||n==="y"||n==="r")return n}function _9(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function e_(n,...t){if(CT(n))return n;for(const e of t){const i=e.axis||_9(e.position)||n.length>1&&CT(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function IT(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function v9(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return IT(n,"x",e[0])||IT(n,"y",e[0])}return{}}function b9(n,t){const e=no[n.type]||{scales:{}},i=t.scales||{},r=t_(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const u=i[c];if(!$t(u))return console.error(`Invalid scale configuration for scale: ${c}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=e_(c,u,v9(c,n),Ae.scales[u.type]),d=y9(f,r),m=e.scales||{};o[c]=bu(Object.create(null),[{axis:f},u,m[f],m[d]])}),n.data.datasets.forEach(c=>{const u=c.type||n.type,f=c.indexAxis||t_(u,t),m=(no[u]||{}).scales||{};Object.keys(m).forEach(_=>{const v=m9(_,f),E=c[v+"AxisID"]||v;o[E]=o[E]||Object.create(null),bu(o[E],[{axis:v},i[E],m[_]])})}),Object.keys(o).forEach(c=>{const u=o[c];bu(u,[Ae.scales[u.type],Ae.scale])}),o}function XR(n){const t=n.options||(n.options={});t.plugins=Nt(t.plugins,{}),t.scales=b9(n,t)}function ZR(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function E9(n){return n=n||{},n.data=ZR(n.data),XR(n),n}const DT=new Map,JR=new Set;function Qf(n,t){let e=DT.get(n);return e||(e=t(),DT.set(n,e),JR.add(e)),e}const iu=(n,t,e)=>{const i=Sl(t,e);i!==void 0&&n.add(i)};class x9{constructor(t){this._config=E9(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ZR(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),XR(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Qf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Qf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Qf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Qf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),u=c.get(e);if(u)return u;const f=new Set;e.forEach(m=>{t&&(f.add(t),m.forEach(_=>iu(f,t,_))),m.forEach(_=>iu(f,r,_)),m.forEach(_=>iu(f,no[o]||{},_)),m.forEach(_=>iu(f,Ae,_)),m.forEach(_=>iu(f,Zy,_))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),JR.has(e)&&c.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,no[e]||{},Ae.datasets[e]||{},{type:e},Ae,Zy]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:u}=MT(this._resolverCache,t,r);let f=c;if(S9(c,e)){o.$shared=!1,i=Kr(i)?i():i;const d=this.createResolver(t,i,u);f=wl(c,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],r){const{resolver:o}=MT(this._resolverCache,t,i);return $t(e)?wl(o,e,void 0,r):o}}function MT(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:v0(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const T9=n=>$t(n)&&Object.getOwnPropertyNames(n).some(t=>Kr(n[t]));function S9(n,t){const{isScriptable:e,isIndexable:i}=NR(n);for(const r of t){const o=e(r),c=i(r),u=(c||o)&&n[r];if(o&&(Kr(u)||T9(u))||c&&Ue(u))return!0}return!1}var w9="4.5.0";const A9=["top","bottom","left","right","chartArea"];function OT(n,t){return n==="top"||n==="bottom"||A9.indexOf(n)===-1&&t==="x"}function kT(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function PT(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ce(e&&e.onComplete,[n],t)}function R9(n){const t=n.chart,e=t.options.animation;ce(e&&e.onProgress,[n],t)}function t2(n){return x0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const dd={},NT=n=>{const t=t2(n);return Object.values(dd).filter(e=>e.canvas===t).pop()};function C9(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function I9(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Rp=class{static defaults=Ae;static instances=dd;static overrides=no;static registry=Yi;static version=w9;static getChart=NT;static register(...t){Yi.add(...t),VT()}static unregister(...t){Yi.remove(...t),VT()}constructor(t,e){const i=this.config=new x9(e),r=t2(t),o=NT(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Y5(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,c.aspectRatio),f=u&&u.canvas,d=f&&f.height,m=f&&f.width;if(this.id=xL(),this.ctx=u,this.canvas=f,this.width=m,this.height=d,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new h9,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=FL(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],dd[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Os.listen(this,"complete",PT),Os.listen(this,"progress",R9),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Wt(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Yi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():sT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return eT(this.canvas,this.ctx),this}stop(){return Os.stop(this),this}resize(t,e){Os.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,sT(this,u,!0)&&(this.notifyPlugins("resize",{size:c}),ce(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Jt(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,u)=>(c[u]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const u=e[c],f=e_(c,u),d=f==="r",m=f==="x";return{options:u,dposition:d?"chartArea":m?"bottom":"left",dtype:d?"radialLinear":m?"category":"linear"}}))),Jt(o,c=>{const u=c.options,f=u.id,d=e_(f,u),m=Nt(u.type,c.dtype);(u.position===void 0||OT(u.position,d)!==OT(c.dposition))&&(u.position=c.dposition),r[f]=!0;let _=null;if(f in i&&i[f].type===m)_=i[f];else{const v=Yi.getScale(m);_=new v({id:f,type:m,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(u,t)}),Jt(r,(c,u)=>{c||delete i[u]}),Jt(i,c=>{ui.configure(this,c,c.options),ui.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(kT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const u=o.type||this.config.type;if(c.type&&c.type!==u&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=u,c.indexAxis=o.indexAxis||t_(u,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Yi.getController(u),{datasetElementType:d,dataElementType:m}=Ae.datasets[u];Object.assign(f,{dataElementType:Yi.getElement(m),datasetElementType:d&&Yi.getElement(d)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Jt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let d=0,m=this.data.datasets.length;d<m;d++){const{controller:_}=this.getDatasetMeta(d),v=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(v),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Jt(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(kT("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Jt(this.scales,t=>{ui.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!$1(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;C9(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,u)=>u+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!$1(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ui.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Jt(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Kr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Os.has(this)?this.attached&&!Os.running(this)&&Os.start(this):(this.draw(),PT({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=W3(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&y0(e,r),t.controller.draw(),r&&_0(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return zu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=A5.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=lo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);ju(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Os.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),eT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete dd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,u)=>{o.offsetX=c,o.offsetY=u,this._eventHandler(o)};Jt(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},r=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let c;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():c()}unbindEvents(){Jt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Jt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,u,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){c=t[u];const d=c&&this.getDatasetMeta(c.datasetIndex).controller;d&&d[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[c],index:c}});!Hd(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(f,d)=>f.filter(m=>!d.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),c=o(e,t),u=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,u=this._getActiveElements(t,r,i,c),f=CL(t),d=I9(t,this._lastEvent,i,f);i&&(this._lastEvent=null,ce(o.onHover,[t,u,this],this),f&&ce(o.onClick,[t,u,this],this));const m=!Hd(u,r);return(m||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=d,m}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function VT(){return Jt(Rp.instances,n=>n._plugins.invalidate())}function e2(n,t,e=t){n.lineCap=Nt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Nt(e.borderDash,t.borderDash)),n.lineDashOffset=Nt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Nt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Nt(e.borderWidth,t.borderWidth),n.strokeStyle=Nt(e.borderColor,t.borderColor)}function D9(n,t,e){n.lineTo(e.x,e.y)}function M9(n){return n.stepped?n3:n.tension||n.cubicInterpolationMode==="monotone"?i3:D9}function n2(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:c,end:u}=t,f=Math.max(r,c),d=Math.min(o,u),m=r<c&&o<c||r>u&&o>u;return{count:i,start:f,loop:t.loop,ilen:d<f&&!m?i+d-f:d-f}}function O9(n,t,e,i){const{points:r,options:o}=t,{count:c,start:u,loop:f,ilen:d}=n2(r,e,i),m=M9(o);let{move:_=!0,reverse:v}=i||{},E,w,C;for(E=0;E<=d;++E)w=r[(u+(v?d-E:E))%c],!w.skip&&(_?(n.moveTo(w.x,w.y),_=!1):m(n,C,w,v,o.stepped),C=w);return f&&(w=r[(u+(v?d:0))%c],m(n,C,w,v,o.stepped)),!!f}function k9(n,t,e,i){const r=t.points,{count:o,start:c,ilen:u}=n2(r,e,i),{move:f=!0,reverse:d}=i||{};let m=0,_=0,v,E,w,C,A,k;const q=tt=>(c+(d?u-tt:tt))%o,$=()=>{C!==A&&(n.lineTo(m,A),n.lineTo(m,C),n.lineTo(m,k))};for(f&&(E=r[q(0)],n.moveTo(E.x,E.y)),v=0;v<=u;++v){if(E=r[q(v)],E.skip)continue;const tt=E.x,L=E.y,Q=tt|0;Q===w?(L<C?C=L:L>A&&(A=L),m=(_*m+tt)/++_):($(),n.lineTo(tt,L),w=Q,_=0,C=A=L),k=L}$()}function n_(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?k9:O9}function P9(n){return n.stepped?N3:n.tension||n.cubicInterpolationMode==="monotone"?V3:Fa}function N9(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),e2(n,t.options),n.stroke(r)}function V9(n,t,e,i){const{segments:r,options:o}=t,c=n_(t);for(const u of r)e2(n,o,u.style),n.beginPath(),c(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const L9=typeof Path2D=="function";function j9(n,t,e,i){L9&&!t.options.segment?N9(n,t,e,i):V9(n,t,e,i)}class U9 extends ta{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;R3(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=q3(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,c=B3(this,{property:e,start:r,end:r});if(!c.length)return;const u=[],f=P9(i);let d,m;for(d=0,m=c.length;d<m;++d){const{start:_,end:v}=c[d],E=o[_],w=o[v];if(E===w){u.push(E);continue}const C=Math.abs((r-E[e])/(w[e]-E[e])),A=f(E,w,C,i.stepped);A[e]=t[e],u.push(A)}return u.length===1?u[0]:u}pathSegment(t,e,i){return n_(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=n_(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)c&=o(t,this,u,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),j9(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function LT(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class z9 extends ta{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return LT(this,t,"x",e)}inYRange(t,e){return LT(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!zu(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Jy(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function i2(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let u,f,d,m,_;return n.horizontal?(_=c/2,u=Math.min(e,r),f=Math.max(e,r),d=i-_,m=i+_):(_=o/2,u=e-_,f=e+_,d=Math.min(i,r),m=Math.max(i,r)),{left:u,top:d,right:f,bottom:m}}function Or(n,t,e,i){return n?0:Fn(t,e,i)}function B9(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=PR(i);return{t:Or(r.top,o.top,0,e),r:Or(r.right,o.right,0,t),b:Or(r.bottom,o.bottom,0,e),l:Or(r.left,o.left,0,t)}}function F9(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=dl(r),c=Math.min(t,e),u=n.borderSkipped,f=i||$t(r);return{topLeft:Or(!f||u.top||u.left,o.topLeft,0,c),topRight:Or(!f||u.top||u.right,o.topRight,0,c),bottomLeft:Or(!f||u.bottom||u.left,o.bottomLeft,0,c),bottomRight:Or(!f||u.bottom||u.right,o.bottomRight,0,c)}}function H9(n){const t=i2(n),e=t.right-t.left,i=t.bottom-t.top,r=B9(n,e/2,i/2),o=F9(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function hy(n,t,e,i){const r=t===null,o=e===null,u=n&&!(r&&o)&&i2(n,i);return u&&(r||$a(t,u.left,u.right))&&(o||$a(e,u.top,u.bottom))}function q9(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function $9(n,t){n.rect(t.x,t.y,t.w,t.h)}function fy(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class G9 extends ta{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=H9(this),u=q9(c.radius)?Gd:$9;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),u(t,fy(c,e,o)),t.clip(),u(t,fy(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,fy(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return hy(this,t,e,i)}inXRange(t,e){return hy(this,t,null,e)}inYRange(t,e){return hy(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const jT=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},Y9=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class UT extends ta{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ce(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=pn(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=jT(i,o);let d,m;e.font=r.string,this.isHorizontal()?(d=this.maxWidth,m=this._fitRows(c,o,u,f)+10):(m=this.maxHeight,d=this._fitCols(c,r,u,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],m=r+u;let _=t;o.textAlign="left",o.textBaseline="middle";let v=-1,E=-m;return this.legendItems.forEach((w,C)=>{const A=i+e/2+o.measureText(w.text).width;(C===0||d[d.length-1]+A+2*u>c)&&(_+=m,d[d.length-(C>0?0:1)]=0,E+=m,v++),f[C]={left:0,top:E,row:v,width:A,height:r},d[d.length-1]+=A+u}),_}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],m=c-t;let _=u,v=0,E=0,w=0,C=0;return this.legendItems.forEach((A,k)=>{const{itemWidth:q,itemHeight:$}=W9(i,e,o,A,r);k>0&&E+$+2*u>m&&(_+=v+u,d.push({width:v,height:E}),w+=v+u,C++,v=E=0),f[k]={left:w,top:E,col:C,width:q,height:$},v=Math.max(v,q),E+=$+u}),_+=v,d.push({width:v,height:E}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=pl(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=hn(i,this.left+r,this.right-this.lineWidths[u]);for(const d of e)u!==d.row&&(u=d.row,f=hn(i,this.left+r,this.right-this.lineWidths[u])),d.top+=this.top+t+r,d.left=c.leftForLtr(c.x(f),d.width),f+=d.width+r}else{let u=0,f=hn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const d of e)d.col!==u&&(u=d.col,f=hn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),d.top=f,d.left+=this.left+r,d.left=c.leftForLtr(c.x(d.left),d.width),f+=d.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;y0(t,this),this._draw(),_0(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,u=Ae.color,f=pl(t.rtl,this.left,this.width),d=pn(c.font),{padding:m}=c,_=d.size,v=_/2;let E;this.drawTitle(),r.textAlign=f.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=d.string;const{boxWidth:w,boxHeight:C,itemHeight:A}=jT(c,_),k=function(Q,O,R){if(isNaN(w)||w<=0||isNaN(C)||C<0)return;r.save();const M=Nt(R.lineWidth,1);if(r.fillStyle=Nt(R.fillStyle,u),r.lineCap=Nt(R.lineCap,"butt"),r.lineDashOffset=Nt(R.lineDashOffset,0),r.lineJoin=Nt(R.lineJoin,"miter"),r.lineWidth=M,r.strokeStyle=Nt(R.strokeStyle,u),r.setLineDash(Nt(R.lineDash,[])),c.usePointStyle){const N={radius:C*Math.SQRT2/2,pointStyle:R.pointStyle,rotation:R.rotation,borderWidth:M},P=f.xPlus(Q,w/2),z=O+v;OR(r,N,P,z,c.pointStyleWidth&&w)}else{const N=O+Math.max((_-C)/2,0),P=f.leftForLtr(Q,w),z=dl(R.borderRadius);r.beginPath(),Object.values(z).some(j=>j!==0)?Gd(r,{x:P,y:N,w,h:C,radius:z}):r.rect(P,N,w,C),r.fill(),M!==0&&r.stroke()}r.restore()},q=function(Q,O,R){Bu(r,R.text,Q,O+A/2,d,{strikethrough:R.hidden,textAlign:f.textAlign(R.textAlign)})},$=this.isHorizontal(),tt=this._computeTitleHeight();$?E={x:hn(o,this.left+m,this.right-i[0]),y:this.top+m+tt,line:0}:E={x:this.left+m,y:hn(o,this.top+tt+m,this.bottom-e[0].height),line:0},zR(this.ctx,t.textDirection);const L=A+m;this.legendItems.forEach((Q,O)=>{r.strokeStyle=Q.fontColor,r.fillStyle=Q.fontColor;const R=r.measureText(Q.text).width,M=f.textAlign(Q.textAlign||(Q.textAlign=c.textAlign)),N=w+v+R;let P=E.x,z=E.y;f.setWidth(this.width),$?O>0&&P+N+m>this.right&&(z=E.y+=L,E.line++,P=E.x=hn(o,this.left+m,this.right-i[E.line])):O>0&&z+L>this.bottom&&(P=E.x=P+e[E.line].width+m,E.line++,z=E.y=hn(o,this.top+tt+m,this.bottom-e[E.line].height));const j=f.x(P);if(k(j,z,Q),P=HL(M,P+w+v,$?P+N:this.right,t.rtl),q(f.x(P),z,Q),$)E.x+=N+m;else if(typeof Q.text!="string"){const ft=d.lineHeight;E.y+=s2(Q,ft)+m}else E.y+=L}),BR(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=pn(e.font),r=pi(e.padding);if(!e.display)return;const o=pl(t.rtl,this.left,this.width),c=this.ctx,u=e.position,f=i.size/2,d=r.top+f;let m,_=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),m=this.top+d,_=hn(t.align,_,this.right-v);else{const w=this.columnSizes.reduce((C,A)=>Math.max(C,A.height),0);m=d+hn(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const E=hn(u,_,_+v);c.textAlign=o.textAlign(g0(u)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Bu(c,e.text,E,m,i)}_computeTitleHeight(){const t=this.options.title,e=pn(t.font),i=pi(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if($a(t,this.left,this.right)&&$a(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],$a(t,r.left,r.left+r.width)&&$a(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!X9(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=Y9(r,i);r&&!o&&ce(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ce(e.onHover,[t,i,this],this)}else i&&ce(e.onClick,[t,i,this],this)}}function W9(n,t,e,i,r){const o=K9(i,n,t,e),c=Q9(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function K9(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function Q9(n,t,e){let i=n;return typeof t.text!="string"&&(i=s2(t,e)),i}function s2(n,t){const e=n.text?n.text.length:0;return t*e}function X9(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var Z9={id:"legend",_element:UT,start(n,t,e){const i=n.legend=new UT({ctx:n.ctx,options:e,chart:n});ui.configure(n,i,e),ui.addBox(n,i)},stop(n){ui.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ui.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),m=pi(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:r||d.textAlign,borderRadius:c&&(u||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class r2 extends ta{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Ue(i.text)?i.text.length:1;this._padding=pi(i.padding);const o=r*pn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:c}=this,u=c.align;let f=0,d,m,_;return this.isHorizontal()?(m=hn(u,i,o),_=e+t,d=o-i):(c.position==="left"?(m=i+t,_=hn(u,r,e),f=Ke*-.5):(m=o-t,_=hn(u,e,r),f=Ke*.5),d=r-e),{titleX:m,titleY:_,maxWidth:d,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=pn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:u,maxWidth:f,rotation:d}=this._drawArgs(o);Bu(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:d,textAlign:g0(e.align),textBaseline:"middle",translation:[c,u]})}}function J9(n,t){const e=new r2({ctx:n.ctx,options:t,chart:n});ui.configure(n,e,t),ui.addBox(n,e),n.titleBlock=e}var tj={id:"title",_element:r2,start(n,t,e){J9(n,e)},stop(n){const t=n.titleBlock;ui.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ui.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const du={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),r+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,u;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),m=Xy(t,d);m<r&&(r=m,u=f)}}if(u){const f=u.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Gi(n,t){return t&&(Ue(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ks(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function ej(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:u}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function zT(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:u}=t,f=pn(t.bodyFont),d=pn(t.titleFont),m=pn(t.footerFont),_=o.length,v=r.length,E=i.length,w=pi(t.padding);let C=w.height,A=0,k=i.reduce((tt,L)=>tt+L.before.length+L.lines.length+L.after.length,0);if(k+=n.beforeBody.length+n.afterBody.length,_&&(C+=_*d.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),k){const tt=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;C+=E*tt+(k-E)*f.lineHeight+(k-1)*t.bodySpacing}v&&(C+=t.footerMarginTop+v*m.lineHeight+(v-1)*t.footerSpacing);let q=0;const $=function(tt){A=Math.max(A,e.measureText(tt).width+q)};return e.save(),e.font=d.string,Jt(n.title,$),e.font=f.string,Jt(n.beforeBody.concat(n.afterBody),$),q=t.displayColors?c+2+t.boxPadding:0,Jt(i,tt=>{Jt(tt.before,$),Jt(tt.lines,$),Jt(tt.after,$)}),q=0,e.font=m.string,Jt(n.footer,$),e.restore(),A+=w.width,{width:A,height:C}}function nj(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function ij(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function sj(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:u,right:f}}=n;let d="center";return i==="center"?d=r<=(u+f)/2?"left":"right":r<=o/2?d="left":r>=c-o/2&&(d="right"),ij(d,n,t,e)&&(d="center"),d}function BT(n,t,e){const i=e.yAlign||t.yAlign||nj(n,e);return{xAlign:e.xAlign||t.xAlign||sj(n,t,e,i),yAlign:i}}function rj(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function aj(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function FT(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:u,yAlign:f}=e,d=r+o,{topLeft:m,topRight:_,bottomLeft:v,bottomRight:E}=dl(c);let w=rj(t,u);const C=aj(t,f,d);return f==="center"?u==="left"?w+=d:u==="right"&&(w-=d):u==="left"?w-=Math.max(m,v)+r:u==="right"&&(w+=Math.max(_,E)+r),{x:Fn(w,0,i.width-t.width),y:Fn(C,0,i.height-t.height)}}function Xf(n,t,e){const i=pi(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function HT(n){return Gi([],ks(n))}function oj(n,t,e){return lo(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function qT(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const a2={beforeTitle:Ms,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ms,beforeBody:Ms,beforeLabel:Ms,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Wt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ms,afterBody:Ms,beforeFooter:Ms,footer:Ms,afterFooter:Ms};function wn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?a2[t].call(e,i):r}class $T extends ta{static positioners=du;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new HR(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=oj(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=wn(i,"beforeTitle",this,t),o=wn(i,"title",this,t),c=wn(i,"afterTitle",this,t);let u=[];return u=Gi(u,ks(r)),u=Gi(u,ks(o)),u=Gi(u,ks(c)),u}getBeforeBody(t,e){return HT(wn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Jt(t,o=>{const c={before:[],lines:[],after:[]},u=qT(i,o);Gi(c.before,ks(wn(u,"beforeLabel",this,o))),Gi(c.lines,wn(u,"label",this,o)),Gi(c.after,ks(wn(u,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return HT(wn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=wn(i,"beforeFooter",this,t),o=wn(i,"footer",this,t),c=wn(i,"afterFooter",this,t);let u=[];return u=Gi(u,ks(r)),u=Gi(u,ks(o)),u=Gi(u,ks(c)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let u=[],f,d;for(f=0,d=e.length;f<d;++f)u.push(ej(this.chart,e[f]));return t.filter&&(u=u.filter((m,_,v)=>t.filter(m,_,v,i))),t.itemSort&&(u=u.sort((m,_)=>t.itemSort(m,_,i))),Jt(u,m=>{const _=qT(t.callbacks,m);r.push(wn(_,"labelColor",this,m)),o.push(wn(_,"labelPointStyle",this,m)),c.push(wn(_,"labelTextColor",this,m))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=du[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=zT(this,i),d=Object.assign({},u,f),m=BT(this.chart,i,d),_=FT(i,d,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:u}=i,{topLeft:f,topRight:d,bottomLeft:m,bottomRight:_}=dl(u),{x:v,y:E}=t,{width:w,height:C}=e;let A,k,q,$,tt,L;return o==="center"?(tt=E+C/2,r==="left"?(A=v,k=A-c,$=tt+c,L=tt-c):(A=v+w,k=A+c,$=tt-c,L=tt+c),q=A):(r==="left"?k=v+Math.max(f,m)+c:r==="right"?k=v+w-Math.max(d,_)-c:k=this.caretX,o==="top"?($=E,tt=$-c,A=k-c,q=k+c):($=E+C,tt=$+c,A=k+c,q=k-c),L=$),{x1:A,x2:k,x3:q,y1:$,y2:tt,y3:L}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,u,f;if(o){const d=pl(i.rtl,this.x,this.width);for(t.x=Xf(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",c=pn(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+u,f+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,m=pn(o.bodyFont),_=Xf(this,"left",o),v=r.x(_),E=f<m.lineHeight?(m.lineHeight-f)/2:0,w=e.y+E;if(o.usePointStyle){const C={radius:Math.min(d,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},A=r.leftForLtr(v,d)+d/2,k=w+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Jy(t,C,A,k),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Jy(t,C,A,k)}else{t.lineWidth=$t(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const C=r.leftForLtr(v,d),A=r.leftForLtr(r.xPlus(v,1),d-2),k=dl(c.borderRadius);Object.values(k).some(q=>q!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Gd(t,{x:C,y:w,w:d,h:f,radius:k}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Gd(t,{x:A,y:w+1,w:d-2,h:f-2,radius:k}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(C,w,d,f),t.strokeRect(C,w,d,f),t.fillStyle=c.backgroundColor,t.fillRect(A,w+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:u,boxHeight:f,boxWidth:d,boxPadding:m}=i,_=pn(i.bodyFont);let v=_.lineHeight,E=0;const w=pl(i.rtl,this.x,this.width),C=function(R){e.fillText(R,w.x(t.x+E),t.y+v/2),t.y+=v+o},A=w.textAlign(c);let k,q,$,tt,L,Q,O;for(e.textAlign=c,e.textBaseline="middle",e.font=_.string,t.x=Xf(this,A,i),e.fillStyle=i.bodyColor,Jt(this.beforeBody,C),E=u&&A!=="right"?c==="center"?d/2+m:d+2+m:0,tt=0,Q=r.length;tt<Q;++tt){for(k=r[tt],q=this.labelTextColors[tt],e.fillStyle=q,Jt(k.before,C),$=k.lines,u&&$.length&&(this._drawColorBox(e,t,tt,w,i),v=Math.max(_.lineHeight,f)),L=0,O=$.length;L<O;++L)C($[L]),v=_.lineHeight;Jt(k.after,C)}E=0,v=_.lineHeight,Jt(this.afterBody,C),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,u;if(o){const f=pl(i.rtl,this.x,this.width);for(t.x=Xf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=pn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,u=0;u<o;++u)e.fillText(r[u],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:u,y:f}=t,{width:d,height:m}=i,{topLeft:_,topRight:v,bottomLeft:E,bottomRight:w}=dl(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+_,f),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+d-v,f),e.quadraticCurveTo(u+d,f,u+d,f+v),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+d,f+m-w),e.quadraticCurveTo(u+d,f+m,u+d-w,f+m),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+E,f+m),e.quadraticCurveTo(u,f+m,u,f+m-E),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,f+_),e.quadraticCurveTo(u,f,u+_,f),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=du[t.position].call(this,this._active,this._eventPosition);if(!c)return;const u=this._size=zT(this,t),f=Object.assign({},c,this._size),d=BT(e,t,f),m=FT(t,f,d,e);(r._to!==m.x||o._to!==m.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=pi(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),zR(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),BR(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:f})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[f],index:f}}),o=!Hd(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),u=this._positionChanged(c,t),f=e||!Hd(c,o)||u;return f&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=du[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}var lj={id:"tooltip",_element:$T,positioners:du,afterInit(n,t,e){e&&(n.tooltip=new $T({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:a2},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const cj=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function uj(n,t,e,i){const r=n.indexOf(t);if(r===-1)return cj(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const hj=(n,t)=>n===null?null:Fn(Math.round(n),0,t);function GT(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class fj extends Bl{static id="category";static defaults={ticks:{callback:GT}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Wt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:uj(i,t,Nt(e,t),this._addedLabels),hj(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return GT.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function dj(n,t){const e=[],{bounds:r,step:o,min:c,max:u,precision:f,count:d,maxTicks:m,maxDigits:_,includeBounds:v}=n,E=o||1,w=m-1,{min:C,max:A}=t,k=!Wt(c),q=!Wt(u),$=!Wt(d),tt=(A-C)/(_+1);let L=Y1((A-C)/w/E)*E,Q,O,R,M;if(L<1e-14&&!k&&!q)return[{value:C},{value:A}];M=Math.ceil(A/L)-Math.floor(C/L),M>w&&(L=Y1(M*L/w/E)*E),Wt(f)||(Q=Math.pow(10,f),L=Math.ceil(L*Q)/Q),r==="ticks"?(O=Math.floor(C/L)*L,R=Math.ceil(A/L)*L):(O=C,R=A),k&&q&&o&&kL((u-c)/o,L/1e3)?(M=Math.round(Math.min((u-c)/L,m)),L=(u-c)/M,O=c,R=u):$?(O=k?c:O,R=q?u:R,M=d-1,L=(R-O)/M):(M=(R-O)/L,Eu(M,Math.round(M),L/1e3)?M=Math.round(M):M=Math.ceil(M));const N=Math.max(W1(L),W1(O));Q=Math.pow(10,Wt(f)?N:f),O=Math.round(O*Q)/Q,R=Math.round(R*Q)/Q;let P=0;for(k&&(v&&O!==c?(e.push({value:c}),O<c&&P++,Eu(Math.round((O+P*L)*Q)/Q,c,YT(c,tt,n))&&P++):O<c&&P++);P<M;++P){const z=Math.round((O+P*L)*Q)/Q;if(q&&z>u)break;e.push({value:z})}return q&&v&&R!==u?e.length&&Eu(e[e.length-1].value,u,YT(u,tt,n))?e[e.length-1].value=u:e.push({value:u}):(!q||R===u)&&e.push({value:R}),e}function YT(n,t,{horizontal:e,minRotation:i}){const r=qa(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class pj extends Bl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Wt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=f=>r=e?r:f,u=f=>o=i?o:f;if(t){const f=is(r),d=is(o);f<0&&d<0?u(0):f>0&&d>0&&c(0)}if(r===o){let f=o===0?1:Math.abs(o*.05);u(o+f),t||c(r-f)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=dj(r,o);return t.bounds==="ticks"&&PL(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return DR(t,this.chart.options.locale,this.options.ticks.format)}}class gj extends pj{static id="linear";static defaults={ticks:{callback:MR.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=di(t)?t:0,this.max=di(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=qa(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Cp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Cn=Object.keys(Cp);function WT(n,t){return n-t}function KT(n,t){if(Wt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),di(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(Uu(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function QT(n,t,e,i){const r=Cn.length;for(let o=Cn.indexOf(n);o<r-1;++o){const c=Cp[Cn[o]],u=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(u*c.size))<=i)return Cn[o]}return Cn[r-1]}function mj(n,t,e,i,r){for(let o=Cn.length-1;o>=Cn.indexOf(e);o--){const c=Cn[o];if(Cp[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return Cn[e?Cn.indexOf(e):0]}function yj(n){for(let t=Cn.indexOf(n)+1,e=Cn.length;t<e;++t)if(Cp[Cn[t]].common)return Cn[t]}function XT(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=p0(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function _j(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let u,f;for(u=o;u<=c;u=+r.add(u,1,i))f=e[u],f>=0&&(t[f].major=!0);return t}function ZT(n,t,e){const i=[],r={},o=t.length;let c,u;for(c=0;c<o;++c)u=t[c],r[u]=c,i.push({value:u,major:!1});return o===0||!e?i:_j(n,i,r,e)}class JT extends Bl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new E5._date(t.adapters.date);r.init(e),bu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:KT(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:u}=this.getUserBounds();function f(d){!c&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!c||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),r=di(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=di(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,u=zL(r,o,c);return this._unit=e.unit||(i.autoSkip?QT(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):mj(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:yj(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),ZT(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Fn(e,0,c),i=Fn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||QT(o.minUnit,e,i,this._getLabelCapacity(e)),u=Nt(r.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,d=Uu(f)||f===!0,m={};let _=e,v,E;if(d&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,d?"day":c),t.diff(i,e,c)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+c);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(v=_,E=0;v<i;v=+t.add(v,u,c),E++)XT(m,v,w);return(v===i||r.bounds==="ticks"||E===1)&&XT(m,v,w),Object.keys(m).sort(WT).map(C=>+C)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return ce(c,[t,e,i],this);const u=o.time.displayFormats,f=this._unit,d=this._majorUnit,m=f&&u[f],_=d&&u[d],v=i[e],E=d&&_&&v&&v.major;return this._adapter.format(t,r||(E?_:m))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=qa(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*c,h:i*c+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,ZT(this,[t],this._majorUnit),r),c=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(KT(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return RR(t.sort(WT))}}function Zf(n,t,e){let i=0,r=n.length-1,o,c,u,f;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Ga(n,"pos",t)),{pos:o,time:u}=n[i],{pos:c,time:f}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Ga(n,"time",t)),{time:o,pos:u}=n[i],{time:c,pos:f}=n[r]);const d=c-o;return d?u+(f-u)*(t-o)/d:u}class Wj extends JT{static id="timeseries";static defaults=JT.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Zf(e,this.min),this._tableRange=Zf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,u,f,d,m;for(c=0,u=t.length;c<u;++c)d=t[c],d>=e&&d<=i&&r.push(d);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,u=r.length;c<u;++c)m=r[c+1],f=r[c-1],d=r[c],Math.round((m+f)/2)!==d&&o.push({time:d,pos:c/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Zf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Zf(this._table,i*this._tableRange+this._minPos,!0)}}const o2="label";function tS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function vj(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function l2(n,t){n.labels=t}function c2(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o2;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function bj(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o2;const e={labels:[],datasets:[]};return l2(e,n.labels),c2(e,n.datasets,t),e}function Ej(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:u,options:f,plugins:d=[],fallbackContent:m,updateMode:_,...v}=n,E=F.useRef(null),w=F.useRef(null),C=()=>{E.current&&(w.current=new Rp(E.current,{type:c,data:bj(u,o),options:f&&{...f},plugins:d}),tS(t,w.current))},A=()=>{tS(t,null),w.current&&(w.current.destroy(),w.current=null)};return F.useEffect(()=>{!r&&w.current&&f&&vj(w.current,f)},[r,f]),F.useEffect(()=>{!r&&w.current&&l2(w.current.config.data,u.labels)},[r,u.labels]),F.useEffect(()=>{!r&&w.current&&u.datasets&&c2(w.current.config.data,u.datasets,o)},[r,u.datasets]),F.useEffect(()=>{w.current&&(r?(A(),setTimeout(C)):w.current.update(_))},[r,f,u.labels,u.datasets,_]),F.useEffect(()=>{w.current&&(A(),setTimeout(C))},[c]),F.useEffect(()=>(C(),()=>A()),[]),Ki.createElement("canvas",{ref:E,role:"img",height:e,width:i,...v},m)}const xj=F.forwardRef(Ej);function u2(n,t){return Rp.register(t),F.forwardRef((e,i)=>Ki.createElement(xj,{...e,ref:i,type:n}))}const Tj=u2("line",b5),Sj=u2("bar",v5);Rp.register(fj,gj,G9,z9,U9,tj,lj,Z9);const eS=()=>{const[n,t]=F.useState(0),[e,i]=F.useState(0),[r,o]=F.useState(0),[c,u]=F.useState(0);F.useEffect(()=>{const v=En.currentUser;v&&f(v.uid)},[]);const f=async v=>{try{const E=jr(In(ue,"events"),Ur("creatorUid","==",v)),w=await Hn(E);t(w.size);let C=0;for(const tt of w.docs){const L=tt.data();L.registeredUsers&&(C+=L.registeredUsers.length)}i(C);const A=jr(In(ue,"feedbacks"),Ur("eventCreatorUid","==",v)),k=await Hn(A);o(k.size);const q=jr(In(ue,"enquiries"),Ur("eventCreatorUid","==",v)),$=await Hn(q);u($.size)}catch(E){console.error("Dashboard fetch error:",E)}},d={labels:["Events","Registrations","Feedbacks","Enquiries"],datasets:[{label:"Counts",data:[n,e,r,c],backgroundColor:["#4caf50","#2196f3","#ff9800","#e91e63"],borderColor:["#388e3c","#1976d2","#f57c00","#c2185b"],borderWidth:1}]},m={labels:["Week 1","Week 2","Week 3","Week 4"],datasets:[{label:"Registrations",data:[5,10,e,e],fill:!1,borderColor:"#2196f3",backgroundColor:"#bbdefb",tension:.4}]},_={responsive:!0,plugins:{legend:{position:"top"},title:{display:!1}}};return S.jsxs("div",{style:oi.container,children:[S.jsx("h2",{style:oi.heading,children:"📊 Dashboard Overview"}),S.jsxs("div",{style:oi.cardContainer,children:[S.jsxs("div",{style:oi.card,children:[S.jsx("h3",{children:n}),S.jsx("p",{children:"Events Created"})]}),S.jsxs("div",{style:oi.card,children:[S.jsx("h3",{children:e}),S.jsx("p",{children:"Event Registrations"})]}),S.jsxs("div",{style:oi.card,children:[S.jsx("h3",{children:r}),S.jsx("p",{children:"Feedback Received"})]}),S.jsxs("div",{style:oi.card,children:[S.jsx("h3",{children:c}),S.jsx("p",{children:"Enquiries Received"})]})]}),S.jsxs("div",{style:oi.chartRow,children:[S.jsxs("div",{style:oi.chartBox,children:[S.jsx("h3",{style:oi.chartHeading,children:"📊 Bar Chart"}),S.jsx(Sj,{data:d,options:_})]}),S.jsxs("div",{style:oi.chartBox,children:[S.jsx("h3",{style:oi.chartHeading,children:"📈 Registration Trend"}),S.jsx(Tj,{data:m,options:_})]})]})]})},oi={container:{padding:"30px",maxWidth:"1100px",margin:"100px 0 0 280px"},heading:{fontSize:"26px",marginBottom:"20px",fontWeight:"bold"},cardContainer:{display:"flex",gap:"20px",flexWrap:"wrap",marginBottom:"40px"},card:{flex:"1 1 200px",padding:"20px",background:"#ffffffff",borderRadius:"10px",textAlign:"center",boxShadow:"0 2px 5px rgba(0,0,0,0.7)"},chartRow:{display:"flex",flexWrap:"wrap",gap:"30px",justifyContent:"space-between"},chartBox:{flex:"1 1 45%",background:"#ffffff",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 10px rgba(0,0,0,0.7)"},chartHeading:{fontSize:"20px",marginBottom:"15px",textAlign:"center",fontWeight:"bold"}},wj=()=>{const[n,t]=F.useState([]),e=(i,r)=>!i||!r?!1:new Date(`${i} ${r}`)<new Date;return F.useEffect(()=>{const i=En.onAuthStateChanged(async r=>{if(r)try{const u=(await Hn(In(ue,"events"))).docs.map(f=>({id:f.id,...f.data()})).filter(f=>f.createdBy===r.uid).sort((f,d)=>{const m=e(f.date,f.time),_=e(d.date,d.time);return m-_});t(u)}catch(o){console.error("Error fetching events:",o)}});return()=>i()},[]),S.jsxs("div",{style:{padding:"20px",marginLeft:"250px",marginTop:"80px"},children:[S.jsx("h2",{style:{marginBottom:"30px",fontWeight:"bold",fontSize:"20px"},children:"📋 Your Created Events & Registered Users"}),n.length===0?S.jsx("p",{children:"You haven't created any events."}):n.map(i=>{const r=e(i.date,i.time);return S.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",marginBottom:"30px",border:"1px solid #ccc",borderRadius:"10px",padding:"20px",backgroundColor:r?"#ffe0e0":"#f9f9f9",opacity:r?.6:1},children:[S.jsxs("div",{style:{flex:"1",minWidth:"250px",paddingRight:"20px"},children:[S.jsxs("h3",{style:{color:r?"#dc2626":"#2563eb"},children:[i.title||"Untitled Event"," ",r&&S.jsx("span",{style:{fontSize:"14px"},children:"(Expired)"})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Date:"})," ",i.date]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Time:"})," ",i.time]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Description:"})," ",i.description]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Speaker:"})," ",i.speakerName]})]}),S.jsxs("div",{style:{flex:"2",minWidth:"250px",maxHeight:"200px",overflowY:"auto",borderLeft:"1px solid #ddd",paddingLeft:"20px"},children:[S.jsx("h4",{style:{fontWeight:"bold",marginBottom:"10px"},children:"✅ Registered Users"}),i.registeredUsers&&i.registeredUsers.length>0?S.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[S.jsx("thead",{children:S.jsxs("tr",{style:{backgroundColor:"#e0e7ff"},children:[S.jsx("th",{style:Jf,children:"S.No"}),S.jsx("th",{style:Jf,children:"Email"})]})}),S.jsx("tbody",{children:i.registeredUsers.map((o,c)=>S.jsxs("tr",{children:[S.jsx("td",{style:Jf,children:c+1}),S.jsx("td",{style:Jf,children:o.email||"N/A"})]},c))})]}):S.jsx("p",{children:"No users registered for this event."})]})]},i.id)})]})},Jf={border:"1px solid #cbd5e0",padding:"10px",textAlign:"left",backgroundColor:"#fff"},Aj=()=>{const[n,t]=F.useState([]),[e,i]=F.useState(null);F.useEffect(()=>{const o=ZO(En,c=>{c&&i(c)});return()=>o()},[]),F.useEffect(()=>{(async()=>{if(!e)return;const c=await Hn(In(ue,"events")),u=[];c.forEach(f=>{const d=f.data();d.createdBy===e.uid&&d.feedbacks&&d.feedbacks.length>0&&u.push({id:f.id,title:d.title||"Untitled Event",date:d.date||"",time:d.time||"",feedbacks:d.feedbacks})}),t(u)})()},[e]);const r={container:{marginLeft:"250px",marginTop:"60px",padding:"20px",fontFamily:"Arial, sans-serif"},eventBlock:{marginBottom:"40px",border:"1px solid #ccc",borderRadius:"8px",padding:"20px",backgroundColor:"#ffffffff",boxShadow:"0 2px 6px rgba(0,0,0,0.1)"},eventTitle:{fontSize:"18px",fontWeight:"bold",marginBottom:"10px"},table:{width:"100%",borderCollapse:"collapse",marginTop:"10px"},th:{backgroundColor:"#eaeaea",padding:"10px",borderBottom:"2px solid #ccc",textAlign:"left"},td:{padding:"10px",borderBottom:"1px solid #ddd"}};return S.jsxs("div",{style:r.container,children:[S.jsx("h2",{style:{fontSize:"24px",marginBottom:"10px",marginTop:"20px"},children:S.jsx("b",{children:"📝 Feedbacks for Your Events"})}),n.length===0?S.jsx("p",{children:"No feedbacks found for your events."}):n.map(o=>S.jsxs("div",{style:r.eventBlock,children:[S.jsxs("div",{style:r.eventTitle,children:["📌 ",o.title," (",o.date," at ",o.time,")"]}),S.jsxs("table",{style:r.table,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{style:r.th,children:"Email"}),S.jsx("th",{style:r.th,children:"Feedback"}),S.jsx("th",{style:r.th,children:"Timestamp"})]})}),S.jsx("tbody",{children:o.feedbacks.map((c,u)=>S.jsxs("tr",{children:[S.jsx("td",{style:r.td,children:c.email||"N/A"}),S.jsx("td",{style:r.td,children:c.feedback||"N/A"}),S.jsx("td",{style:r.td,children:c.timestamp?new Date(c.timestamp).toLocaleString():"N/A"})]},u))})]})]},o.id))]})},Rj=()=>{const[n,t]=F.useState({}),[e,i]=F.useState(!0),[r,o]=F.useState({});F.useEffect(()=>{(async()=>{try{const m=En.currentUser;if(!m)return;const _=jr(In(ue,"events"),Ur("createdBy","==",m.uid)),v=await Hn(_),E={};v.forEach(w=>{const C=w.data(),A=C.enquiries||[];A.length>0&&(E[w.id]={title:C.title,enquiries:A.map((k,q)=>({...k,enquiryIndex:q}))})}),t(E),i(!1)}catch(m){console.error("Error fetching grouped enquiries:",m),i(!1)}})()},[]);const c=(d,m,_)=>{o(v=>({...v,[`${d}-${m}`]:_}))},u=async(d,m)=>{const _=r[`${d}-${m}`];if(_)try{const v=fi(ue,"events",d),E=await Hn(jr(In(ue,"events"),Ur("__name__","==",d)));if(!E.empty){const w=E.docs[0].data().enquiries||[];w[m].reply=_,await oo(v,{enquiries:w}),alert("Reply sent successfully!"),o(A=>({...A,[`${d}-${m}`]:""}));const C={...n};C[d].enquiries[m].reply=_,t(C)}}catch(v){console.error("Error sending reply:",v)}},f={container:{margin:"60px 0 0 250px",padding:"20px",fontFamily:"Arial, sans-serif"},section:{marginBottom:"40px",padding:"15px",backgroundColor:"#ffffffff",borderRadius:"8px"},heading:{fontSize:"22px",fontWeight:"bold",marginBottom:"10px",color:"#0c243bff",borderBottom:"2px solid #ccc",paddingBottom:"5px"},table:{width:"100%",borderCollapse:"collapse"},th:{textAlign:"left",backgroundColor:"#ddd",padding:"10px",border:"1px solid #ccc"},td:{padding:"10px",border:"1px solid #ccc",verticalAlign:"top"},input:{width:"100%",padding:"6px",fontSize:"14px"},button:{marginTop:"5px",padding:"5px 10px",fontSize:"14px",cursor:"pointer"}};return e?S.jsx("p",{style:f.container,children:"Loading enquiries..."}):Object.keys(n).length===0?S.jsx("p",{style:f.container,children:"No enquiries found."}):S.jsxs("div",{style:f.container,children:[S.jsx("h2",{style:{fontSize:"26px",fontWeight:"bold",marginBottom:"30px"},children:"📋 Enquiries Grouped by Event"}),Object.entries(n).map(([d,{title:m,enquiries:_}])=>S.jsxs("div",{style:f.section,children:[S.jsx("h3",{style:f.heading,children:m}),S.jsxs("table",{style:f.table,children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{style:f.th,children:"User Email"}),S.jsx("th",{style:f.th,children:"Subject"}),S.jsx("th",{style:f.th,children:"Message"}),S.jsx("th",{style:f.th,children:"Reply"}),S.jsx("th",{style:f.th,children:"Sent At"})]})}),S.jsx("tbody",{children:_.map((v,E)=>S.jsxs("tr",{children:[S.jsx("td",{style:f.td,children:v.email}),S.jsx("td",{style:f.td,children:v.subject}),S.jsx("td",{style:f.td,children:v.message}),S.jsx("td",{style:f.td,children:v.reply?S.jsxs("div",{children:[S.jsx("strong",{children:"Replied:"})," ",v.reply]}):S.jsxs(S.Fragment,{children:[S.jsx("input",{type:"text",placeholder:"Enter reply",style:f.input,value:r[`${d}-${E}`]||"",onChange:w=>c(d,E,w.target.value)}),S.jsx("button",{onClick:()=>u(d,E),style:f.button,children:"Send"})]})}),S.jsx("td",{style:f.td,children:v.createdAt?.seconds?new Date(v.createdAt.seconds*1e3).toLocaleString():"Unknown"})]},E))})]})]},d))]})},Cj=()=>{const[n,t]=F.useState("welcome"),e=()=>{switch(n){case"dashboard-event":return S.jsx(eS,{});case"add-event":return S.jsx(vR,{});case"manage-events":return S.jsx(JV,{});case"users":return S.jsx(wj,{});case"feedback":return S.jsx(Aj,{});case"support":return S.jsx(Rj,{});default:return S.jsx(eS,{})}};return S.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[S.jsx("aside",{className:"sidebar",children:S.jsxs("nav",{className:"sidebar-nav",children:[S.jsxs("button",{onClick:()=>t("dashboard-event"),className:`sidebar-button ${n==="dashboard-event"?"active":""}`,children:[S.jsx(Ky,{})," Dashboard"]}),S.jsxs("button",{onClick:()=>t("add-event"),className:`sidebar-button ${n==="add-event"?"active":""}`,children:[S.jsx(Ky,{})," Add Event"]}),S.jsxs("button",{onClick:()=>t("manage-events"),className:`sidebar-button ${n==="manage-events"?"active":""}`,children:[S.jsx(YV,{})," Manage Events"]}),S.jsxs("button",{onClick:()=>t("users"),className:`sidebar-button ${n==="users"?"active":""}`,children:[S.jsx(_R,{})," Registered Users"]}),S.jsxs("button",{onClick:()=>t("feedback"),className:`sidebar-button ${n==="feedback"?"active":""}`,children:[S.jsx(mR,{})," Feedback"]}),S.jsxs("button",{onClick:()=>t("support"),className:`sidebar-button ${n==="support"?"active":""}`,children:[S.jsx(yR,{})," Support"]})]})}),S.jsx("main",{className:"flex-1 p-10",children:e()})]})},nS=()=>{const[n,t]=F.useState([]),[e,i]=F.useState([]),[r,o]=F.useState([]),[c,u]=F.useState([]),[f,d]=F.useState([]),[m,_]=F.useState(!0),[v,E]=F.useState([]),[w,C]=F.useState(null),A=En.currentUser;F.useEffect(()=>{(async()=>{if(A)try{const Q=jr(In(ue,"users"),Ur("uid","==",A.uid));(await Hn(Q)).forEach(R=>{C(R.data().userType?.toLowerCase()||"user")})}catch(Q){console.error("Error fetching user role",Q)}})()},[A]),F.useEffect(()=>{(async()=>{const Q=await Hn(In(ue,"events")),O=new Date,R=[],M=[],N=[],P=[],z=[];Q.forEach(j=>{const ft={id:j.id,...j.data()};ft.registeredUsers&&ft.registeredUsers.some(it=>it.uid===A?.uid)&&(P.push(ft.id),z.push(ft)),new Date(`${ft.date} ${ft.time}`)<O?N.push(ft):ft.meetingType==="premium"?R.push(ft):M.push(ft)}),t(R),i(M),o(N),u(P),d(z),_(!1)})()},[A]),F.useEffect(()=>{const L=setInterval(()=>{const Q=new Date;f.forEach(O=>{const R=new Date(`${O.date} ${O.time}`);!v.includes(O.id)&&Math.abs(R-Q)<6e4&&(k(O.title),E(M=>[...M,O.id]))})},1e4);return()=>clearInterval(L)},[f,v]);const k=L=>{new Audio("https://www.soundjay.com/buttons/beep-07.mp3").play(),alert(`🔔 Reminder: "${L}" is starting now!`)},q=async L=>{if(!A){alert("Please login to register.");return}if(new Date(`${L.date} ${L.time}`)<new Date)return;if(L.meetingType==="premium"&&w!=="vip"){alert("🔒 Only VIP users can register for premium events.");return}const O=async()=>{const R=fi(ue,"events",L.id);await oo(R,{registeredUsers:i0({uid:A.uid,email:A.email,registeredAt:new Date().toISOString()})}),u(M=>[...M,L.id]),d(M=>[...M,L])};if(L.meetingType==="premium"){const M={key:"rzp_test_VGdiUsSDKJWAWe",amount:(L.price||199)*100,currency:"INR",name:"EventZone Premium",description:L.title,handler:async function(){await O(),alert("✅ Payment successful and registered!")},prefill:{name:A.displayName||"VIP User",email:A.email},theme:{color:"#4f46e5"}};new window.Razorpay(M).open()}else await O(),alert("🎉 Registered for event!")},$={flex:"0 0 auto",width:"200px",padding:"10px",backgroundColor:"#fff",border:"1px solid #ccc",marginTop:"10px",borderRadius:"8px",boxShadow:"0 2px 5px rgba(0,0,0,0.7)"},tt=(L,Q=!1)=>{const O=c.includes(L.id),R=L.meetingType==="premium"&&w!=="vip",M=O||Q||R;return S.jsxs("div",{style:$,children:[S.jsx("img",{src:L.posterUrl,alt:L.title,style:{width:"100%",height:"210px",borderRadius:"6px"}}),S.jsx("h4",{children:S.jsx("center",{children:S.jsx("b",{children:L.title})})}),S.jsxs("p",{children:[S.jsx("strong",{children:"Date:"})," ",L.date]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Time:"})," ",L.time]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Speaker:"})," ",L.speakerName||"N/A"]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Description:"})," ",L.description]}),L.meetingType==="premium"&&S.jsxs("p",{children:[S.jsx("strong",{children:"Price:"})," ₹",L.price||99]}),S.jsx("button",{onClick:()=>q(L),disabled:M,style:{marginTop:"8px",padding:"6px 10px",backgroundColor:M?"#aaa":L.meetingType==="premium"?"#4f46e5":"#10b981",color:"#fff",border:"none",borderRadius:"5px",cursor:M?"not-allowed":"pointer"},children:Q?"Expired":O?"Registered":R?"🔒 VIP Only":L.meetingType==="premium"?"Register & Pay":"Register Free"})]},L.id)};return m||w===null?S.jsx("p",{children:"Loading events..."}):S.jsxs("div",{style:{position:"fixed",top:"80px",left:"250px",right:0,bottom:0,overflowY:"auto",backgroundColor:"#f5f5f5",padding:"20px"},children:[S.jsx("h2",{style:{fontSize:"24px",top:0,backgroundColor:"#f5f5f5",zIndex:10,padding:"10px 0"},children:S.jsx("b",{children:"🌟 Premium Events"})}),S.jsx("div",{style:{display:"flex",overflowX:"auto",gap:"10px",padding:"10px 0"},children:n.map(L=>tt(L))}),S.jsx("h2",{style:{fontSize:"24px",top:0,backgroundColor:"#f5f5f5",zIndex:10,padding:"10px 0"},children:S.jsx("b",{children:"🆓 Normal Events"})}),S.jsx("div",{style:{display:"flex",overflowX:"auto",gap:"10px",padding:"10px 0"},children:e.map(L=>tt(L))}),S.jsx("h2",{style:{fontSize:"24px",position:"sticky",top:0,backgroundColor:"#f5f5f5",zIndex:10,padding:"10px 0"},children:S.jsx("b",{children:"⛔ Recents Events"})}),S.jsx("div",{style:{overflowX:"hidden",width:"100%"},children:S.jsx("div",{style:{display:"flex",gap:"15px",whiteSpace:"nowrap",animation:"scroll-left 20s linear infinite"},children:r.map(L=>tt(L,!0))})}),S.jsx("style",{children:`
                @keyframes scroll-left {
                    0% { transform: translateX(100%); }
                    100% { transform: translateX(-100%); }
                }
            `})]})},pd=async()=>(await Hn(In(ue,"events"))).docs.map(t=>({id:t.id,...t.data()})),Ij=async(n,t)=>{try{const e=fi(ue,"events",n);await oo(e,{enquiries:i0({...t,createdAt:le.now(),reply:""})}),console.log("Enquiry added to event!")}catch(e){console.error("Error adding enquiry to event:",e)}},Dj=async(n,t)=>{try{const e=fi(ue,"events",n),i=await n0(e);if(i.exists()){const r=i.data(),c=(Array.isArray(r.enquiries)?r.enquiries:[]).filter(u=>u.timestamp!==t);await oo(e,{enquiries:c})}else console.error("Event not found for ID:",n)}catch(e){console.error("Error deleting enquiry:",e)}},Mj=()=>{const[n,t]=F.useState([]),[e,i]=F.useState({});F.useEffect(()=>{(async()=>{const u=En.currentUser;if(!u)return;const d=(await pd()).filter(m=>m.registeredUsers?.some(_=>_.uid===u.uid));t(d)})()},[]);const r=async c=>{const u=e[c],f=En.currentUser;if(!(!u||!f))try{const d=fi(ue,"events",c);await oo(d,{feedbacks:i0({uid:f.uid,email:f.email,feedback:u,timestamp:new Date().toISOString()})}),alert("Feedback submitted!"),i(m=>({...m,[c]:""}))}catch(d){console.error("Error submitting feedback:",d)}},o={container:{padding:"20px",margin:"50px 0 0 250px"},title:{fontSize:"24px",marginBottom:"20px",fontWeight:"bold"},eventList:{display:"flex",flexWrap:"wrap",gap:"20px"},card:{width:"250px",padding:"16px",border:"1px solid #ccc",borderRadius:"8px",backgroundColor:"#fff",boxShadow:"2px 4px 8px rgba(0,0,0,0.1)"},image:{width:"100%",height:"180px",objectFit:"cover",borderRadius:"6px",marginBottom:"10px",marginTop:"10px"},strong:{fontWeight:"bold"},input:{width:"100%",padding:"6px",marginTop:"10px",border:"1px solid #ccc",borderRadius:"4px"},button:{marginTop:"5px",padding:"6px 10px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"}};return S.jsxs("div",{style:o.container,children:[S.jsx("h2",{style:o.title,children:"🎉 Your Registered Events"}),S.jsx("div",{style:o.eventList,children:n.length===0?S.jsx("p",{children:"You haven't registered for any events yet."}):n.map(c=>{const u=new Date(`${c.date}T${c.time}`),f=new Date,d=new Date(u.getTime()+45*6e4),m=f>d;return S.jsxs("div",{style:o.card,children:[S.jsxs("h3",{children:[S.jsx("b",{children:"Title: "}),c.title]}),S.jsxs("p",{children:[S.jsx("span",{style:o.strong,children:"Date: "})," ",c.date]}),S.jsxs("p",{children:[S.jsx("span",{style:o.strong,children:"Time: "})," ",c.time]}),S.jsxs("p",{children:[S.jsx("span",{style:o.strong,children:"Speaker: "})," ",c.speakerName]}),c.posterUrl&&S.jsx("img",{src:c.posterUrl,alt:"poster",style:o.image}),S.jsxs("p",{children:[S.jsx("span",{style:o.strong,children:"Join Meeting: "}),f>=u&&f<=d?S.jsx("a",{href:c.videoLink,target:"_blank",rel:"noopener noreferrer",style:{color:"#2563eb",textDecoration:"underline"},children:c.videoLink}):f<u?S.jsxs("span",{style:{color:"green"},children:["Available at ",S.jsx("b",{children:c.time})]}):S.jsx("span",{style:{color:"red"},children:"Expired"})]}),m&&S.jsxs("div",{children:[S.jsx("textarea",{placeholder:"Leave feedback...",value:e[c.id]||"",onChange:_=>i(v=>({...v,[c.id]:_.target.value})),style:o.input}),S.jsx("button",{style:o.button,onClick:()=>r(c.id),children:"Submit Feedback"})]})]},c.id)})})]})},Oj=()=>{const[n,t]=F.useState([]),[e,i]=F.useState({eventId:"",subject:"",message:""}),[r,o]=F.useState([]),c=En.currentUser;F.useEffect(()=>{(async()=>{const E=await pd();t(E),E.length>0&&i(w=>({...w,eventId:E[0].id})),u(E)})()},[]);const u=v=>{const E=c?.email?.toLowerCase(),w=[];v.forEach(C=>{Array.isArray(C.enquiries)&&C.enquiries.forEach(A=>{A.email?.toLowerCase()===E&&w.push({...A,eventId:C.id,eventTitle:C.title})})}),w.sort((C,A)=>new Date(A.timestamp)-new Date(C.timestamp)),o(w)},f=v=>{const{name:E,value:w}=v.target;i(C=>({...C,[E]:w}))},d=async v=>{if(v.preventDefault(),!c){alert("Please log in to submit an enquiry.");return}const E={email:c.email||"Unknown Email",subject:e.subject,message:e.message,timestamp:new Date().toISOString()};await Ij(e.eventId,E),alert("Enquiry submitted!");const w=await pd();t(w),u(w),i({eventId:e.eventId,subject:"",message:""})},m=async(v,E)=>{if(window.confirm("Are you sure you want to delete this enquiry?")){await Dj(v,E);const w=await pd();t(w),u(w)}},_={container:{margin:"90px 0 0 250px",display:"flex",gap:"40px",alignItems:"flex-start"},formBox:{flex:1,padding:"30px",backgroundColor:"#ffffff",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",border:"1px solid #ddd",fontFamily:"Arial, sans-serif"},form:{display:"flex",flexDirection:"column",gap:"16px"},input:{padding:"10px 12px",fontSize:"16px",borderRadius:"6px",border:"1px solid #ccc"},textarea:{padding:"10px 12px",fontSize:"16px",borderRadius:"6px",border:"1px solid #ccc",minHeight:"120px"},button:{backgroundColor:"#007bff",color:"#fff",padding:"12px",fontSize:"16px",border:"none",borderRadius:"6px",cursor:"pointer"},messageBox:{flex:1,background:"#f9f9f9",padding:"20px",borderRadius:"10px",border:"1px solid #ccc",maxHeight:"600px",overflowY:"auto"},message:{background:"#fff",borderRadius:"6px",padding:"10px",marginBottom:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},deleteBtn:{background:"#dc3545",color:"#fff",padding:"6px 10px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",marginTop:"6px"},reply:{marginTop:"8px",padding:"10px",backgroundColor:"#ffffffff",borderLeft:"4px solid #007bff",borderRadius:"6px",fontStyle:"italic"}};return S.jsxs("div",{style:_.container,children:[S.jsxs("div",{style:_.formBox,children:[S.jsx("h2",{children:"📩 Enquire About an Event"}),S.jsxs("form",{onSubmit:d,style:_.form,children:[S.jsx("select",{name:"eventId",value:e.eventId,onChange:f,style:_.input,children:n.map(v=>S.jsx("option",{value:v.id,children:v.title},v.id))}),S.jsx("input",{type:"text",name:"subject",placeholder:"Subject",value:e.subject,onChange:f,style:_.input,required:!0}),S.jsx("textarea",{name:"message",placeholder:"Your enquiry message...",value:e.message,onChange:f,style:_.textarea,required:!0}),S.jsx("button",{type:"submit",style:_.button,children:"Submit Enquiry"})]})]}),S.jsxs("div",{style:_.messageBox,children:[S.jsx("h3",{children:"📬 Your Enquiries"}),r.length===0?S.jsx("p",{children:"No enquiries yet."}):r.map((v,E)=>S.jsxs("div",{style:_.message,children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Event:"})," ",v.eventTitle]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Subject:"})," ",v.subject]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Message:"})," ",v.message]}),S.jsx("p",{style:{fontSize:"12px",color:"gray"},children:new Date(v.timestamp).toLocaleString()}),v.reply&&S.jsxs("div",{style:_.reply,children:[S.jsx("strong",{children:"Reply:"})," ",v.reply]}),S.jsx("button",{style:_.deleteBtn,onClick:()=>m(v.eventId,v.timestamp),children:"Delete"})]},E))]})]})};var gd={exports:{}},kj=gd.exports,iS;function Pj(){return iS||(iS=1,function(n,t){(function(e,i){n.exports=i()})(kj,function(){var e=1e3,i=6e4,r=36e5,o="millisecond",c="second",u="minute",f="hour",d="day",m="week",_="month",v="quarter",E="year",w="date",C="Invalid Date",A=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,q={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ft){var ut=["th","st","nd","rd"],B=ft%100;return"["+ft+(ut[(B-20)%10]||ut[B]||ut[0])+"]"}},$=function(ft,ut,B){var J=String(ft);return!J||J.length>=ut?ft:""+Array(ut+1-J.length).join(B)+ft},tt={s:$,z:function(ft){var ut=-ft.utcOffset(),B=Math.abs(ut),J=Math.floor(B/60),it=B%60;return(ut<=0?"+":"-")+$(J,2,"0")+":"+$(it,2,"0")},m:function ft(ut,B){if(ut.date()<B.date())return-ft(B,ut);var J=12*(B.year()-ut.year())+(B.month()-ut.month()),it=ut.clone().add(J,_),pt=B-it<0,V=ut.clone().add(J+(pt?-1:1),_);return+(-(J+(B-it)/(pt?it-V:V-it))||0)},a:function(ft){return ft<0?Math.ceil(ft)||0:Math.floor(ft)},p:function(ft){return{M:_,y:E,w:m,d,D:w,h:f,m:u,s:c,ms:o,Q:v}[ft]||String(ft||"").toLowerCase().replace(/s$/,"")},u:function(ft){return ft===void 0}},L="en",Q={};Q[L]=q;var O="$isDayjsObject",R=function(ft){return ft instanceof z||!(!ft||!ft[O])},M=function ft(ut,B,J){var it;if(!ut)return L;if(typeof ut=="string"){var pt=ut.toLowerCase();Q[pt]&&(it=pt),B&&(Q[pt]=B,it=pt);var V=ut.split("-");if(!it&&V.length>1)return ft(V[0])}else{var nt=ut.name;Q[nt]=ut,it=nt}return!J&&it&&(L=it),it||!J&&L},N=function(ft,ut){if(R(ft))return ft.clone();var B=typeof ut=="object"?ut:{};return B.date=ft,B.args=arguments,new z(B)},P=tt;P.l=M,P.i=R,P.w=function(ft,ut){return N(ft,{locale:ut.$L,utc:ut.$u,x:ut.$x,$offset:ut.$offset})};var z=function(){function ft(B){this.$L=M(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[O]=!0}var ut=ft.prototype;return ut.parse=function(B){this.$d=function(J){var it=J.date,pt=J.utc;if(it===null)return new Date(NaN);if(P.u(it))return new Date;if(it instanceof Date)return new Date(it);if(typeof it=="string"&&!/Z$/i.test(it)){var V=it.match(A);if(V){var nt=V[2]-1||0,ht=(V[7]||"0").substring(0,3);return pt?new Date(Date.UTC(V[1],nt,V[3]||1,V[4]||0,V[5]||0,V[6]||0,ht)):new Date(V[1],nt,V[3]||1,V[4]||0,V[5]||0,V[6]||0,ht)}}return new Date(it)}(B),this.init()},ut.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},ut.$utils=function(){return P},ut.isValid=function(){return this.$d.toString()!==C},ut.isSame=function(B,J){var it=N(B);return this.startOf(J)<=it&&it<=this.endOf(J)},ut.isAfter=function(B,J){return N(B)<this.startOf(J)},ut.isBefore=function(B,J){return this.endOf(J)<N(B)},ut.$g=function(B,J,it){return P.u(B)?this[J]:this.set(it,B)},ut.unix=function(){return Math.floor(this.valueOf()/1e3)},ut.valueOf=function(){return this.$d.getTime()},ut.startOf=function(B,J){var it=this,pt=!!P.u(J)||J,V=P.p(B),nt=function(Be,pe){var Fe=P.w(it.$u?Date.UTC(it.$y,pe,Be):new Date(it.$y,pe,Be),it);return pt?Fe:Fe.endOf(d)},ht=function(Be,pe){return P.w(it.toDate()[Be].apply(it.toDate("s"),(pt?[0,0,0,0]:[23,59,59,999]).slice(pe)),it)},ot=this.$W,gt=this.$M,bt=this.$D,vt="set"+(this.$u?"UTC":"");switch(V){case E:return pt?nt(1,0):nt(31,11);case _:return pt?nt(1,gt):nt(0,gt+1);case m:var re=this.$locale().weekStart||0,Ht=(ot<re?ot+7:ot)-re;return nt(pt?bt-Ht:bt+(6-Ht),gt);case d:case w:return ht(vt+"Hours",0);case f:return ht(vt+"Minutes",1);case u:return ht(vt+"Seconds",2);case c:return ht(vt+"Milliseconds",3);default:return this.clone()}},ut.endOf=function(B){return this.startOf(B,!1)},ut.$set=function(B,J){var it,pt=P.p(B),V="set"+(this.$u?"UTC":""),nt=(it={},it[d]=V+"Date",it[w]=V+"Date",it[_]=V+"Month",it[E]=V+"FullYear",it[f]=V+"Hours",it[u]=V+"Minutes",it[c]=V+"Seconds",it[o]=V+"Milliseconds",it)[pt],ht=pt===d?this.$D+(J-this.$W):J;if(pt===_||pt===E){var ot=this.clone().set(w,1);ot.$d[nt](ht),ot.init(),this.$d=ot.set(w,Math.min(this.$D,ot.daysInMonth())).$d}else nt&&this.$d[nt](ht);return this.init(),this},ut.set=function(B,J){return this.clone().$set(B,J)},ut.get=function(B){return this[P.p(B)]()},ut.add=function(B,J){var it,pt=this;B=Number(B);var V=P.p(J),nt=function(gt){var bt=N(pt);return P.w(bt.date(bt.date()+Math.round(gt*B)),pt)};if(V===_)return this.set(_,this.$M+B);if(V===E)return this.set(E,this.$y+B);if(V===d)return nt(1);if(V===m)return nt(7);var ht=(it={},it[u]=i,it[f]=r,it[c]=e,it)[V]||1,ot=this.$d.getTime()+B*ht;return P.w(ot,this)},ut.subtract=function(B,J){return this.add(-1*B,J)},ut.format=function(B){var J=this,it=this.$locale();if(!this.isValid())return it.invalidDate||C;var pt=B||"YYYY-MM-DDTHH:mm:ssZ",V=P.z(this),nt=this.$H,ht=this.$m,ot=this.$M,gt=it.weekdays,bt=it.months,vt=it.meridiem,re=function(pe,Fe,Dn,Gn){return pe&&(pe[Fe]||pe(J,pt))||Dn[Fe].slice(0,Gn)},Ht=function(pe){return P.s(nt%12||12,pe,"0")},Be=vt||function(pe,Fe,Dn){var Gn=pe<12?"AM":"PM";return Dn?Gn.toLowerCase():Gn};return pt.replace(k,function(pe,Fe){return Fe||function(Dn){switch(Dn){case"YY":return String(J.$y).slice(-2);case"YYYY":return P.s(J.$y,4,"0");case"M":return ot+1;case"MM":return P.s(ot+1,2,"0");case"MMM":return re(it.monthsShort,ot,bt,3);case"MMMM":return re(bt,ot);case"D":return J.$D;case"DD":return P.s(J.$D,2,"0");case"d":return String(J.$W);case"dd":return re(it.weekdaysMin,J.$W,gt,2);case"ddd":return re(it.weekdaysShort,J.$W,gt,3);case"dddd":return gt[J.$W];case"H":return String(nt);case"HH":return P.s(nt,2,"0");case"h":return Ht(1);case"hh":return Ht(2);case"a":return Be(nt,ht,!0);case"A":return Be(nt,ht,!1);case"m":return String(ht);case"mm":return P.s(ht,2,"0");case"s":return String(J.$s);case"ss":return P.s(J.$s,2,"0");case"SSS":return P.s(J.$ms,3,"0");case"Z":return V}return null}(pe)||V.replace(":","")})},ut.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ut.diff=function(B,J,it){var pt,V=this,nt=P.p(J),ht=N(B),ot=(ht.utcOffset()-this.utcOffset())*i,gt=this-ht,bt=function(){return P.m(V,ht)};switch(nt){case E:pt=bt()/12;break;case _:pt=bt();break;case v:pt=bt()/3;break;case m:pt=(gt-ot)/6048e5;break;case d:pt=(gt-ot)/864e5;break;case f:pt=gt/r;break;case u:pt=gt/i;break;case c:pt=gt/e;break;default:pt=gt}return it?pt:P.a(pt)},ut.daysInMonth=function(){return this.endOf(_).$D},ut.$locale=function(){return Q[this.$L]},ut.locale=function(B,J){if(!B)return this.$L;var it=this.clone(),pt=M(B,J,!0);return pt&&(it.$L=pt),it},ut.clone=function(){return P.w(this.$d,this)},ut.toDate=function(){return new Date(this.valueOf())},ut.toJSON=function(){return this.isValid()?this.toISOString():null},ut.toISOString=function(){return this.$d.toISOString()},ut.toString=function(){return this.$d.toUTCString()},ft}(),j=z.prototype;return N.prototype=j,[["$ms",o],["$s",c],["$m",u],["$H",f],["$W",d],["$M",_],["$y",E],["$D",w]].forEach(function(ft){j[ft[1]]=function(ut){return this.$g(ut,ft[0],ft[1])}}),N.extend=function(ft,ut){return ft.$i||(ft(ut,z,N),ft.$i=!0),N},N.locale=M,N.isDayjs=R,N.unix=function(ft){return N(1e3*ft)},N.en=Q[L],N.Ls=Q,N.p={},N})}(gd)),gd.exports}var Nj=Pj();const dy=i_(Nj),Vj=()=>{const[n,t]=F.useState(!1),[e,i]=F.useState(null),[r,o]=F.useState("1"),[c,u]=F.useState(199),[f,d]=F.useState(!0);F.useEffect(()=>{(async()=>{const v=En.currentUser;if(!v)return;const E=fi(ue,"users",v.uid),w=await n0(E);if(w.exists()){const C=w.data().subscription;if(C&&C.startedAt&&C.duration){const k=dy(C.startedAt).add(parseInt(C.duration),"month");i(k.format("YYYY-MM-DD")),dy().isBefore(k)&&t(!0)}}d(!1)})()},[]),F.useEffect(()=>{r==="1"?u(199):r==="3"?u(499):r==="6"&&u(899)},[r]);const m=async()=>{const _=En.currentUser;if(!_)return alert("Please log in");const v={key:"rzp_test_VGdiUsSDKJWAWe",amount:c*100,currency:"INR",name:"EventZone VIP Pack",description:`VIP Subscription (${r} Months)`,handler:async function(w){const C=fi(ue,"users",_.uid),A=new Date().toISOString();await oo(C,{userType:"VIP",subscription:{status:"active",duration:r,price:c,startedAt:A,razorpayPaymentId:w.razorpay_payment_id}}),t(!0);const k=dy(A).add(parseInt(r),"month");i(k.format("YYYY-MM-DD")),alert("🎉 Subscription Successful!")},prefill:{name:_.displayName||"VIP User",email:_.email},theme:{color:"#4f46e5"}};new window.Razorpay(v).open()};return S.jsxs("div",{style:{padding:"40px",marginLeft:"250px",marginTop:"80px"},children:[S.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"20px"},children:"🌟 Become a VIP Member"}),f?S.jsx("p",{children:"Loading..."}):S.jsxs(S.Fragment,{children:[S.jsxs("label",{style:{marginBottom:"10px",display:"block"},children:[S.jsx("strong",{children:"Select Duration:"}),S.jsxs("select",{value:r,onChange:_=>o(_.target.value),style:{marginLeft:"10px",padding:"5px",fontSize:"16px",borderRadius:"4px"},disabled:n,children:[S.jsx("option",{value:"1",children:"1 Month - ₹199"}),S.jsx("option",{value:"3",children:"3 Months - ₹499"}),S.jsx("option",{value:"6",children:"6 Months - ₹899"})]})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Price:"})," ₹",c]}),n?S.jsxs("div",{style:{backgroundColor:"white",padding:"10px"},children:[S.jsx("p",{style:{marginTop:"10px",color:"green"},children:"✅ You are already a VIP member."}),S.jsxs("p",{children:["🔒 Subscription valid until: ",S.jsx("strong",{children:e})]}),S.jsx("button",{disabled:!0,style:{padding:"10px 20px",backgroundColor:"#ccc",color:"#777",border:"none",borderRadius:"6px",cursor:"not-allowed",marginTop:"10px"},children:"VIP Active"})]}):S.jsx("button",{onClick:m,style:{padding:"10px 20px",fontSize:"16px",backgroundColor:"#4f46e5",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",marginTop:"10px"},children:"Subscribe to VIP"})]})]})},Lj=()=>{const[n,t]=F.useState("welcome"),e=()=>{switch(n){case"all-event":return S.jsx(nS,{});case"register":return S.jsx(Mj,{});case"enquiry":return S.jsx(Oj,{});case"vip":return S.jsx(Vj,{});default:return S.jsx(nS,{})}};return S.jsxs("div",{className:"flex min-h-screen bg-gray-100",children:[S.jsx("aside",{className:"sidebar",children:S.jsxs("nav",{className:"sidebar-nav",children:[S.jsxs("button",{onClick:()=>t("all-event"),className:`sidebar-button ${n==="all-event"?"active":""}`,children:[S.jsx(Ky,{})," New Events"]}),S.jsxs("button",{onClick:()=>t("register"),className:`sidebar-button ${n==="register"?"active":""}`,children:[S.jsx(_R,{})," Registered Events"]}),S.jsxs("button",{onClick:()=>t("enquiry"),className:`sidebar-button ${n==="enquiry"?"active":""}`,children:[S.jsx(mR,{})," Enquiry"]}),S.jsxs("button",{onClick:()=>t("vip"),className:`sidebar-button ${n==="vip"?"active":""}`,children:[S.jsx(yR,{})," VIP Register"]})]})}),S.jsx("main",{className:"flex-1 p-10",children:e()})]})},jj=()=>{const n=[{title:"🛠 Customize Experience",description:"Get event suggestions tailored to your interests.",video:"/v1.mp4"},{title:"🔍 Explore Archives",description:"Access recordings of past events at your convenience.",video:"/v3.mp4"},{title:"🎯 Personalized Dashboard",description:"Track your upcoming events in one easy place.",video:"/v2.mp4"}];return S.jsx("div",{style:{display:"flex",justifyContent:"center",gap:"20px",padding:"40px 20px",flexWrap:"wrap",backgroundColor:"#ffffffff",borderRadius:"10px"},children:n.map((t,e)=>S.jsxs("div",{style:{position:"relative",width:"390px",height:"200px",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.8)",backgroundColor:"#000"},children:[S.jsx("video",{src:t.video,autoPlay:!0,muted:!0,loop:!0,style:{width:"100%",height:"100%",objectFit:"cover",opacity:.85}}),S.jsxs("div",{style:{position:"absolute",top:0,left:0,color:"white",padding:"16px",background:"rgba(0, 0, 0, 0.4)",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},children:[S.jsx("h3",{style:{marginBottom:"10px"},children:t.title}),S.jsx("p",{style:{fontSize:"14px"},children:t.description})]})]},e))})},Uj="/bg1.mp4",zj=()=>{const[n,t]=F.useState([]),[e,i]=F.useState([]),[r,o]=F.useState([]),c=Dl(),u=En.currentUser;F.useEffect(()=>{(async()=>{const m=await Hn(In(ue,"events")),_=new Date,v=[],E=[],w=[];m.forEach(C=>{const A=C.data(),k=new Date(`${A.date}T${A.time}`),q={id:C.id,...A};k<_?w.push(q):A.meetingType==="premium"?v.push(q):E.push(q)}),t(v),i(E),o(w)})()},[]);const f=(d,m=!1,_=!1)=>{const v=_?{display:"flex",gap:"20px",padding:"10px 0",animation:"scrollLeft 60s linear infinite"}:{display:"flex",overflowX:"auto",gap:"20px",padding:"10px 0",scrollBehavior:"smooth"};return S.jsx("div",{style:{overflow:_?"hidden":"auto",whiteSpace:_?"nowrap":"normal"},children:S.jsx("div",{style:v,children:d.map((E,w)=>S.jsxs("div",{style:{animation:"fadeInUp 0.5s ease forwards",animationDelay:`${w*.1}s`,opacity:0,borderRadius:"12px",padding:"16px",width:"300px",flex:"0 0 auto",backgroundColor:_?"#f1f1f1":m?"#fff8e1":"#e3f2fd",boxShadow:"0 4px 20px rgba(0,0,0,0.1)",transition:"transform 0.3s",position:"relative"},onMouseEnter:C=>C.currentTarget.style.transform="translateY(-5px)",onMouseLeave:C=>C.currentTarget.style.transform="translateY(0)",children:[S.jsx("span",{style:{position:"absolute",top:"10px",right:"10px",backgroundColor:m?"#f57c00":"#1976d2",color:"white",fontSize:"12px",padding:"4px 8px",borderRadius:"12px",fontWeight:"bold"},children:m?"Premium":_?"Recent":"Normal"}),S.jsx("img",{src:E.posterUrl,alt:E.title,style:{width:"100%",height:"160px",objectFit:"cover",borderRadius:"8px",marginBottom:"10px"}}),S.jsx("h3",{style:{color:"#333",marginBottom:"8px"},children:E.title}),S.jsxs("p",{style:{color:"#666",margin:"4px 0"},children:["📅 ",E.date,"   ⏰ ",E.time]}),S.jsxs("p",{style:{color:"#444",fontSize:"14px",margin:"6px 0"},children:["🎤 ",E.speakerName]}),S.jsx("p",{style:{fontSize:"13px",color:"#555",height:"50px",overflow:"hidden"},children:E.description}),!_&&S.jsx("button",{onClick:()=>{u?alert("✅ Registration successful! 🎟️"):c("/login")},style:{marginTop:"10px",padding:"10px",width:"100%",backgroundColor:u?"#4a148c":"#003873",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:"pointer"},children:u?"Register":"Login to Register"})]},E.id))})})};return S.jsxs("div",{children:[S.jsxs("div",{style:{position:"relative",height:"500px",overflow:"hidden"},children:[S.jsx("video",{autoPlay:!0,loop:!0,muted:!0,style:{position:"absolute",width:"100%",height:"100%",objectFit:"cover",zIndex:-1,top:0,left:0},children:S.jsx("source",{src:Uj,type:"video/mp4"})}),S.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",color:"white",textShadow:"2px 2px 5px white",fontWeight:"bold"},children:[S.jsx("h1",{style:{fontSize:"3.5rem",marginBottom:"10px"},children:"🚀 Discover Events Effortlessly"}),S.jsx("p",{style:{fontSize:"1.5rem"},children:"Find the best talks, webinars, and activities curated for you."})]})]}),S.jsxs("div",{style:{padding:"30px 20px",fontFamily:"'Segoe UI', sans-serif",overflowX:"hidden",maxWidth:"1300px",margin:"auto"},children:[S.jsxs("div",{style:{display:"flex",gap:"20px",flexWrap:"wrap",justifyContent:"center",marginBottom:"40px",marginTop:"20px"},children:[S.jsxs("div",{style:{backgroundColor:"#ffe5ffff",padding:"20px",borderRadius:"12px",width:"300px",boxShadow:"0 2px 10px rgba(0,0,0,0.8)"},children:[S.jsx("h4",{style:{color:"#d81b60",marginBottom:"10px"},children:"🧠 Learn & Grow"}),S.jsx("p",{style:{color:"#444"},children:"Attend expert-led sessions to boost your skills and knowledge."})]}),S.jsxs("div",{style:{backgroundColor:"#e8f5e9",padding:"20px",borderRadius:"12px",width:"300px",boxShadow:"0 2px 10px rgba(0,0,0,0.8)"},children:[S.jsx("h4",{style:{color:"#388e3c",marginBottom:"10px"},children:"🤝 Build Community"}),S.jsx("p",{style:{color:"#444"},children:"Network with like-minded people and make meaningful connections."})]}),S.jsxs("div",{style:{backgroundColor:"#fff3e0",padding:"20px",borderRadius:"12px",width:"300px",boxShadow:"0 2px 10px rgba(0,0,0,0.8)"},children:[S.jsx("h4",{style:{color:"#ef6c00",marginBottom:"10px"},children:"🔔 Stay Updated"}),S.jsx("p",{style:{color:"#444"},children:"Get notified about upcoming events and exclusive sessions."})]})]}),S.jsx("h2",{style:{fontSize:"36px",fontWeight:"bold",textAlign:"center",backgroundColor:"#ffffff",padding:"10px",borderRadius:"10px",marginBottom:"20px",color:"#e65100"},children:"🌟 Premium Events"}),f(n,!0),S.jsx(jj,{}),S.jsx("h2",{style:{fontSize:"36px",fontWeight:"bold",textAlign:"center",backgroundColor:"#ffffff",padding:"10px",borderRadius:"10px",marginBottom:"20px",marginTop:"15px",color:"#002ee6ff"},children:"🎫 Normal Events"}),f(e),S.jsx("h2",{style:{fontSize:"36px",fontWeight:"bold",textAlign:"center",backgroundColor:"#ffffff",padding:"10px",borderRadius:"10px",marginBottom:"20px",marginTop:"10px",color:"#4854f9ff"},children:"📜 Past Events"}),f(r,!1,!0),S.jsxs("div",{style:{backgroundColor:"#f3e5f5",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",margin:"50px 0",animation:"fadeInUp 1s ease-out"},children:[S.jsx("h1",{style:{fontSize:"25px",marginBottom:"10px",color:"#6a1b9a"},children:S.jsx("center",{children:S.jsx("b",{children:"💡 About This App"})})}),S.jsx("p",{style:{color:"#000"},children:S.jsxs("center",{children:["EventEase is your one-stop solution for exploring premium and normal events happening around you. ",S.jsx("br",{}),"Get notified, register instantly, and never miss an opportunity to grow or network."]})})]})]}),S.jsx("style",{children:`
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }

        @keyframes scrollLeft {
          0%   { transform: translateX(100%); }
          100% { transform: translateX(-100%); }
        }

        body {
          margin: 0;
          padding: 0;
          overflow-x: hidden;
        }
      `})]})},Bj=()=>S.jsxs("footer",{className:"bg-gray-900 text-white py-10 mt-20",children:[S.jsxs("div",{className:"max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsxs("div",{className:"bg-gray-500 p-6 rounded-xl shadow-lg hover:shadow-xl transition",children:[S.jsx("h2",{className:"text-xl font-bold mb-3 text-blue-900",children:S.jsx("b",{children:"About AsyncEvent"})}),S.jsx("p",{className:"text-gray-300 text-sm",children:S.jsx("b",{children:" AsyncEvent is your all-in-one solution for hosting, managing, and tracking online events efficiently. Plan smarter, execute better."})})]}),S.jsxs("div",{className:"bg-gray-500 p-6 rounded-xl shadow-lg hover:shadow-xl transition",children:[S.jsx("h2",{className:"text-xl font-bold mb-3 text-blue-900",children:S.jsx("b",{children:"Quick Links"})}),S.jsxs("ul",{className:"space-y-2 text-gray-900 text-sm",children:[S.jsx("li",{children:S.jsxs("a",{href:"/",className:"hover:text-white",children:[" ",S.jsx("b",{children:"Home"})]})}),S.jsx("li",{children:S.jsxs("a",{href:"/",className:"hover:text-white",children:[" ",S.jsx("b",{children:"Contact Us"})]})}),S.jsx("li",{children:S.jsxs("a",{href:"/",className:"hover:text-white",children:[" ",S.jsx("b",{children:"Support"})]})}),S.jsx("li",{children:S.jsxs("a",{href:"/",className:"hover:text-white",children:[" ",S.jsx("b",{children:"Dashboard"})]})})]})]}),S.jsxs("div",{className:"bg-gray-500 p-6 rounded-xl shadow-lg hover:shadow-xl transition",children:[S.jsx("h2",{className:"text-xl font-bold mb-3 text-blue-900",children:S.jsx("b",{children:"Contact Us"})}),S.jsx("p",{className:"text-gray-300 text-sm",children:S.jsx("b",{children:"📧 support@asyncevent.com"})}),S.jsx("p",{className:"text-gray-300 text-sm",children:S.jsx("b",{children:"📞 +91 98765 43210"})}),S.jsx("div",{className:"mt-4 rounded-md overflow-hidden",children:S.jsx("iframe",{title:"Google Map",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d387144.0075830038!2d-74.25819450162287!3d40.70582536804317!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c250b5769a5c0d%3A0xd5f9f5ee2d70b8d3!2sNew%20York%20City!5e0!3m2!1sen!2sin!4v1619914695455!5m2!1sen!2sin",className:"w-full h-32 border-0",allowFullScreen:"",loading:"lazy"})})]})]}),S.jsxs("div",{className:"text-center text-gray-500 mt-8 text-sm",children:["© ",new Date().getFullYear()," AsyncEvent. All rights reserved."]})]}),Fj=()=>{const n=Ws(),e=["/creatordashboard","/userdashboard","/add-event"].includes(n.pathname);return S.jsxs("div",{children:[S.jsx(KV,{}),S.jsxs(NI,{children:[S.jsx(wr,{path:"/",element:S.jsx(zj,{})}),S.jsx(wr,{path:"/register",element:S.jsx(fR,{})}),S.jsx(wr,{path:"/login",element:S.jsx(dR,{})}),S.jsx(wr,{path:"/creatordashboard",element:S.jsx(ty,{children:S.jsx(Cj,{})})}),S.jsx(wr,{path:"/userdashboard",element:S.jsx(ty,{children:S.jsx(Lj,{})})}),S.jsx(wr,{path:"/add-event",element:S.jsx(ty,{children:S.jsx(vR,{})})}),S.jsx(wr,{path:"*",element:S.jsx(dS,{to:"/"})})]}),!e&&S.jsx(Bj,{})]})},Hj=xV({reducer:{auth:LV}}),qj=$C.createRoot(document.getElementById("root"));qj.render(S.jsx(Ki.StrictMode,{children:S.jsx(Y6,{store:Hj,children:S.jsx(sD,{children:S.jsx(Fj,{})})})}));
